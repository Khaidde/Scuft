/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is not neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! namespace exports */
/*! exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scuft_ecs_ECSDemo__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scuft/ecs/ECSDemo */ \"./src/scuft/ecs/ECSDemo.ts\");\n\r\nwindow.onload = () => {\r\n    _scuft_ecs_ECSDemo__WEBPACK_IMPORTED_MODULE_0__;\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3VmdC8uL3NyYy9tYWluLnRzP2NkNDkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBOEM7QUFFOUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxHQUFHLEVBQUU7SUFDakIsK0NBQU8sQ0FBQztBQUNaLENBQUMiLCJmaWxlIjoiLi9zcmMvbWFpbi50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIEVDU0RlbW8gZnJvbSBcIi4vc2N1ZnQvZWNzL0VDU0RlbW9cIlxyXG5cclxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcclxuICAgIEVDU0RlbW87XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/main.ts\n");

/***/ }),

/***/ "./src/scuft/ecs/BitField.ts":
/*!***********************************!*\
  !*** ./src/scuft/ecs/BitField.ts ***!
  \***********************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ BitField\n/* harmony export */ });\nclass BitField {\r\n    constructor(numBytes = 0) {\r\n        this.bitField = new Uint8Array(numBytes);\r\n    }\r\n    assertSize(newSize) {\r\n        const newBitField = new Uint8Array(newSize + 1);\r\n        newBitField.set(this.bitField);\r\n        this.bitField = newBitField;\r\n    }\r\n    isEmpty() {\r\n        for (let i = 0; i < this.bitField.length; i++) {\r\n            if (this.bitField[i] != 0)\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n    set(index, bit = true) {\r\n        const byteIndex = index >>> 3;\r\n        if (byteIndex >= this.bitField.length)\r\n            this.assertSize(byteIndex);\r\n        if (bit) {\r\n            this.bitField[byteIndex] |= (1 << index % 8);\r\n        }\r\n        else {\r\n            this.bitField[byteIndex] &= ~(1 << index % 8);\r\n        }\r\n    }\r\n    get(index) {\r\n        const byteIndex = index >>> 3;\r\n        if (byteIndex >= this.bitField.length)\r\n            return false;\r\n        return (this.bitField[byteIndex] & (1 << index)) !== 0;\r\n    }\r\n    includes(otherBitField) {\r\n        const minLen = Math.min(this.bitField.length, otherBitField.bitField.length);\r\n        for (let i = 0; i < minLen; i++) {\r\n            if ((otherBitField.bitField[i] & this.bitField[i]) != otherBitField.bitField[i])\r\n                return false;\r\n        }\r\n        for (let i = this.bitField.length; i < otherBitField.bitField.length; i++) {\r\n            if (otherBitField.bitField[i] != 0)\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n    equals(otherBitField) {\r\n        let largeBitField;\r\n        let smallBitField;\r\n        if (this.bitField.length > otherBitField.bitField.length) {\r\n            largeBitField = this.bitField;\r\n            smallBitField = otherBitField.bitField;\r\n        }\r\n        else {\r\n            largeBitField = otherBitField.bitField;\r\n            smallBitField = this.bitField;\r\n        }\r\n        for (let i = 0; i < smallBitField.length; i++) {\r\n            if (smallBitField[i] != largeBitField[i])\r\n                return false;\r\n        }\r\n        for (let i = smallBitField.length; i < largeBitField.length; i++) {\r\n            if (largeBitField[i] != 0)\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n    indexOfLSB() {\r\n        for (let i = 0; i < this.bitField.length; i++) {\r\n            if (this.bitField[i] == 0)\r\n                continue;\r\n            let b = this.bitField[i] - 1;\r\n            let c = (this.bitField[i] | b) ^ b;\r\n            let index = 0;\r\n            while (c > 1) {\r\n                c = c >> 1;\r\n                index++;\r\n            }\r\n            return index + i * BitField.BITS_IN_BYTE;\r\n        }\r\n        return -1;\r\n    }\r\n    getBinaryString() {\r\n        let binaryString = \"\";\r\n        for (let i = 0; i < this.bitField.length; i++) {\r\n            let line = (this.bitField[i] >>> 0).toString(2);\r\n            if (i + 1 < this.bitField.length) {\r\n                let len = line.length;\r\n                for (let j = 0; j < BitField.BITS_IN_BYTE - len; j++) {\r\n                    line = \"0\" + line;\r\n                }\r\n            }\r\n            binaryString = line + \" \" + binaryString;\r\n        }\r\n        return binaryString;\r\n    }\r\n}\r\nBitField.BITS_IN_BYTE = 8;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3VmdC8uL3NyYy9zY3VmdC9lY3MvQml0RmllbGQudHM/ZWZkOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQWUsTUFBTSxRQUFRO0lBSXpCLFlBQVksUUFBUSxHQUFHLENBQUM7UUFDcEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLFVBQVUsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUM3QyxDQUFDO0lBQ08sVUFBVSxDQUFDLE9BQWU7UUFDOUIsTUFBTSxXQUFXLEdBQUcsSUFBSSxVQUFVLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2hELFdBQVcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQy9CLElBQUksQ0FBQyxRQUFRLEdBQUcsV0FBVyxDQUFDO0lBQ2hDLENBQUM7SUFDRCxPQUFPO1FBQ0gsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQzNDLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO2dCQUFFLE9BQU8sS0FBSyxDQUFDO1NBQzNDO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztJQUNELEdBQUcsQ0FBQyxLQUFhLEVBQUUsR0FBRyxHQUFHLElBQUk7UUFDekIsTUFBTSxTQUFTLEdBQUcsS0FBSyxLQUFLLENBQUMsQ0FBQztRQUM5QixJQUFJLFNBQVMsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU07WUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2xFLElBQUksR0FBRyxFQUFFO1lBQ0wsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7U0FDaEQ7YUFBTTtZQUNILElBQUksQ0FBQyxRQUFRLENB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b3J0IGRlZmF1bHQgY2xhc3MgQml0RmllbGQge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgQklUU19JTl9CWVRFID0gODtcclxuICAgIHByaXZhdGUgYml0RmllbGQ6IFVpbnQ4QXJyYXk7XHJcblxyXG4gICAgY29uc3RydWN0b3IobnVtQnl0ZXMgPSAwKSB7XHJcbiAgICAgICAgdGhpcy5iaXRGaWVsZCA9IG5ldyBVaW50OEFycmF5KG51bUJ5dGVzKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgYXNzZXJ0U2l6ZShuZXdTaXplOiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBuZXdCaXRGaWVsZCA9IG5ldyBVaW50OEFycmF5KG5ld1NpemUgKyAxKTtcclxuICAgICAgICBuZXdCaXRGaWVsZC5zZXQodGhpcy5iaXRGaWVsZCk7XHJcbiAgICAgICAgdGhpcy5iaXRGaWVsZCA9IG5ld0JpdEZpZWxkO1xyXG4gICAgfVxyXG4gICAgaXNFbXB0eSgpOiBib29sZWFuIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYml0RmllbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuYml0RmllbGRbaV0gIT0gMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHNldChpbmRleDogbnVtYmVyLCBiaXQgPSB0cnVlKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgYnl0ZUluZGV4ID0gaW5kZXggPj4+IDM7XHJcbiAgICAgICAgaWYgKGJ5dGVJbmRleCA+PSB0aGlzLmJpdEZpZWxkLmxlbmd0aCkgdGhpcy5hc3NlcnRTaXplKGJ5dGVJbmRleCk7XHJcbiAgICAgICAgaWYgKGJpdCkge1xyXG4gICAgICAgICAgICB0aGlzLmJpdEZpZWxkW2J5dGVJbmRleF0gfD0gKDEgPDwgaW5kZXggJSA4KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmJpdEZpZWxkW2J5dGVJbmRleF0gJj0gfigxIDw8IGluZGV4ICUgOCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0KGluZGV4OiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBieXRlSW5kZXggPSBpbmRleCA+Pj4gMztcclxuICAgICAgICBpZiAoYnl0ZUluZGV4ID49IHRoaXMuYml0RmllbGQubGVuZ3RoKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLmJpdEZpZWxkW2J5dGVJbmRleF0gJiAoMSA8PCBpbmRleCkpICE9PSAwO1xyXG4gICAgfVxyXG4gICAgaW5jbHVkZXMob3RoZXJCaXRGaWVsZDogQml0RmllbGQpOiBib29sZWFuIHtcclxuICAgICAgICBjb25zdCBtaW5MZW4gPSBNYXRoLm1pbih0aGlzLmJpdEZpZWxkLmxlbmd0aCwgb3RoZXJCaXRGaWVsZC5iaXRGaWVsZC5sZW5ndGgpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWluTGVuOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKChvdGhlckJpdEZpZWxkLmJpdEZpZWxkW2ldICYgdGhpcy5iaXRGaWVsZFtpXSkgIT0gb3RoZXJCaXRGaWVsZC5iaXRGaWVsZFtpXSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5iaXRGaWVsZC5sZW5ndGg7IGkgPCBvdGhlckJpdEZpZWxkLmJpdEZpZWxkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChvdGhlckJpdEZpZWxkLmJpdEZpZWxkW2ldICE9IDApIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBlcXVhbHMob3RoZXJCaXRGaWVsZDogQml0RmllbGQpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgbGFyZ2VCaXRGaWVsZDtcclxuICAgICAgICBsZXQgc21hbGxCaXRGaWVsZDtcclxuICAgICAgICBpZiAodGhpcy5iaXRGaWVsZC5sZW5ndGggPiBvdGhlckJpdEZpZWxkLmJpdEZpZWxkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBsYXJnZUJpdEZpZWxkID0gdGhpcy5iaXRGaWVsZDtcclxuICAgICAgICAgICAgc21hbGxCaXRGaWVsZCA9IG90aGVyQml0RmllbGQuYml0RmllbGQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGFyZ2VCaXRGaWVsZCA9IG90aGVyQml0RmllbGQuYml0RmllbGQ7XHJcbiAgICAgICAgICAgIHNtYWxsQml0RmllbGQgPSB0aGlzLmJpdEZpZWxkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNtYWxsQml0RmllbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHNtYWxsQml0RmllbGRbaV0gIT0gbGFyZ2VCaXRGaWVsZFtpXSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gc21hbGxCaXRGaWVsZC5sZW5ndGg7IGkgPCBsYXJnZUJpdEZpZWxkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChsYXJnZUJpdEZpZWxkW2ldICE9IDApIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBpbmRleE9mTFNCKCk6IG51bWJlciB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJpdEZpZWxkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJpdEZpZWxkW2ldID09IDApIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBsZXQgYiA9IHRoaXMuYml0RmllbGRbaV0gLSAxO1xyXG4gICAgICAgICAgICBsZXQgYyA9ICh0aGlzLmJpdEZpZWxkW2ldIHwgYikgXiBiO1xyXG5cclxuICAgICAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuICAgICAgICAgICAgd2hpbGUgKGMgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBjID0gYyA+PiAxO1xyXG4gICAgICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gaW5kZXggKyBpICogQml0RmllbGQuQklUU19JTl9CWVRFO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcbiAgICBnZXRCaW5hcnlTdHJpbmcoKTogc3RyaW5nIHtcclxuICAgICAgICBsZXQgYmluYXJ5U3RyaW5nID0gXCJcIjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYml0RmllbGQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGxpbmUgPSAodGhpcy5iaXRGaWVsZFtpXSA+Pj4gMCkudG9TdHJpbmcoMik7XHJcbiAgICAgICAgICAgIGlmIChpICsgMSA8IHRoaXMuYml0RmllbGQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGVuID0gbGluZS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IEJpdEZpZWxkLkJJVFNfSU5fQllURSAtIGxlbjsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZSA9IFwiMFwiICsgbGluZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBiaW5hcnlTdHJpbmcgPSBsaW5lICsgXCIgXCIgKyBiaW5hcnlTdHJpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBiaW5hcnlTdHJpbmc7XHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scuft/ecs/BitField.ts\n");

/***/ }),

/***/ "./src/scuft/ecs/Category.ts":
/*!***********************************!*\
  !*** ./src/scuft/ecs/Category.ts ***!
  \***********************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ Category\n/* harmony export */ });\nclass Category {\r\n    constructor() {\r\n        this.entities = [];\r\n        this.attachCallbacks = [];\r\n        this.detachCallbacks = [];\r\n    }\r\n    has(entityID) {\r\n        return !!this.entities[entityID];\r\n    }\r\n    addInternalEntity(entity) {\r\n        this.entities[entity.id] = entity;\r\n    }\r\n    removeInternalEntity(entityID) {\r\n        this.entities.splice(entityID, 1);\r\n    }\r\n    onComponentAttach(callback) {\r\n        this.attachCallbacks.push(callback);\r\n    }\r\n    onComponentDetach(callback) {\r\n        this.detachCallbacks.push(callback);\r\n    }\r\n    notifyAttachObservers(entityID) {\r\n        for (let i = 0; i < this.attachCallbacks.length; i++) {\r\n            this.attachCallbacks[i](entityID);\r\n        }\r\n    }\r\n    notifyDetachObservers(entityID) {\r\n        for (let i = 0; i < this.detachCallbacks.length; i++) {\r\n            this.detachCallbacks[i](entityID);\r\n        }\r\n    }\r\n    forEach(callback) {\r\n        for (let i = 0; i < this.entities.length; i++) {\r\n            callback(this.entities[i]);\r\n        }\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3VmdC8uL3NyYy9zY3VmdC9lY3MvQ2F0ZWdvcnkudHM/ZmJiMyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBRWUsTUFBTSxRQUFRO0lBQTdCO1FBQ0ksYUFBUSxHQUFhLEVBQUUsQ0FBQztRQUNoQixvQkFBZSxHQUFtQyxFQUFFLENBQUM7UUFDckQsb0JBQWUsR0FBbUMsRUFBRSxDQUFDO0lBK0JqRSxDQUFDO0lBOUJHLEdBQUcsQ0FBQyxRQUFnQjtRQUNoQixPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFDRCxpQkFBaUIsQ0FBQyxNQUFjO1FBQzVCLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQztJQUN0QyxDQUFDO0lBQ0Qsb0JBQW9CLENBQUMsUUFBZ0I7UUFDakMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUFDRCxpQkFBaUIsQ0FBQyxRQUFvQztRQUNsRCxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUN4QyxDQUFDO0lBQ0QsaUJBQWlCLENBQUMsUUFBb0M7UUFDbEQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUNELHFCQUFxQixDQUFDLFFBQWdCO1FBQ2xDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNsRCxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQ3JDO0lBQ0wsQ0FBQztJQUNELHFCQUFxQixDQUFDLFFBQWdCO1FBQ2xDLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUNsRCxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1NBQ3JDO0lBQ0wsQ0FBQztJQUNELE9BQU8sQ0FBQyxRQUFrQztRQUN0QyxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDM0MsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUM5QjtJQUNMLENBQUM7Q0FDSiIsImZpbGUiOiIuL3NyYy9zY3VmdC9lY3MvQ2F0ZWdvcnkudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRW50aXR5IGZyb20gXCIuL0VudGl0eVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2F0ZWdvcnkge1xyXG4gICAgZW50aXRpZXM6IEVudGl0eVtdID0gW107XHJcbiAgICBwcml2YXRlIGF0dGFjaENhbGxiYWNrczogKChlbnRpdHlJRDogbnVtYmVyKSA9PiB2b2lkKVtdID0gW107XHJcbiAgICBwcml2YXRlIGRldGFjaENhbGxiYWNrczogKChlbnRpdHlJRDogbnVtYmVyKSA9PiB2b2lkKVtdID0gW107XHJcbiAgICBoYXMoZW50aXR5SUQ6IG51bWJlcik6IGJvb2xlYW57XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5lbnRpdGllc1tlbnRpdHlJRF07XHJcbiAgICB9XHJcbiAgICBhZGRJbnRlcm5hbEVudGl0eShlbnRpdHk6IEVudGl0eSkge1xyXG4gICAgICAgIHRoaXMuZW50aXRpZXNbZW50aXR5LmlkXSA9IGVudGl0eTtcclxuICAgIH1cclxuICAgIHJlbW92ZUludGVybmFsRW50aXR5KGVudGl0eUlEOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLmVudGl0aWVzLnNwbGljZShlbnRpdHlJRCwgMSk7XHJcbiAgICB9XHJcbiAgICBvbkNvbXBvbmVudEF0dGFjaChjYWxsYmFjazogKGVudGl0eUlEOiBudW1iZXIpID0+IHZvaWQpIHtcclxuICAgICAgICB0aGlzLmF0dGFjaENhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcclxuICAgIH1cclxuICAgIG9uQ29tcG9uZW50RGV0YWNoKGNhbGxiYWNrOiAoZW50aXR5SUQ6IG51bWJlcikgPT4gdm9pZCkge1xyXG4gICAgICAgIHRoaXMuZGV0YWNoQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgbm90aWZ5QXR0YWNoT2JzZXJ2ZXJzKGVudGl0eUlEOiBudW1iZXIpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYXR0YWNoQ2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoQ2FsbGJhY2tzW2ldKGVudGl0eUlEKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBub3RpZnlEZXRhY2hPYnNlcnZlcnMoZW50aXR5SUQ6IG51bWJlcikge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kZXRhY2hDYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5kZXRhY2hDYWxsYmFja3NbaV0oZW50aXR5SUQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZvckVhY2goY2FsbGJhY2s6IChlbnRpdHk6IEVudGl0eSkgPT4gdm9pZCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5lbnRpdGllcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjYWxsYmFjayh0aGlzLmVudGl0aWVzW2ldKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scuft/ecs/Category.ts\n");

/***/ }),

/***/ "./src/scuft/ecs/Component.ts":
/*!************************************!*\
  !*** ./src/scuft/ecs/Component.ts ***!
  \************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ Component\n/* harmony export */ });\nclass Component {\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3VmdC8uL3NyYy9zY3VmdC9lY3MvQ29tcG9uZW50LnRzP2EyMjUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFlLE1BQU0sU0FBUztDQUFHIiwiZmlsZSI6Ii4vc3JjL3NjdWZ0L2Vjcy9Db21wb25lbnQudHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wb25lbnQge30iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scuft/ecs/Component.ts\n");

/***/ }),

/***/ "./src/scuft/ecs/ECSDemo.ts":
/*!**********************************!*\
  !*** ./src/scuft/ecs/ECSDemo.ts ***!
  \**********************************/
/*! namespace exports */
/*! exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Component */ \"./src/scuft/ecs/Component.ts\");\n/* harmony import */ var _Manager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Manager */ \"./src/scuft/ecs/Manager.ts\");\n/* harmony import */ var _ECSDemo__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ECSDemo */ \"./src/scuft/ecs/ECSDemo.ts\");\n\r\n\r\nlet manager = new _Manager__WEBPACK_IMPORTED_MODULE_1__.default();\r\nlet entity = manager.createEntity();\r\nclass Transform extends _Component__WEBPACK_IMPORTED_MODULE_0__.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.x = 33;\r\n    }\r\n}\r\nclass Sprite extends _Component__WEBPACK_IMPORTED_MODULE_0__.default {\r\n}\r\nlet t1 = entity.attach(Transform);\r\nconsole.log(t1);\r\nlet t2 = entity.attach(Transform);\r\nt2.x = 20;\r\nt2.y = -20;\r\nconsole.log(t2);\r\nlet s1 = entity.attach(Sprite);\r\ns1.imgPath = \"path1\";\r\nconsole.log(s1);\r\nlet s2 = entity.attach(Sprite);\r\ns2.imgPath = \"path2\";\r\nconsole.log(s2);\r\nlet t3 = entity.attach(Transform);\r\nt3.x = 1;\r\nt3.y = -1;\r\nconsole.log(t3);\r\nlet catTest = manager.getCategory(Transform, Sprite);\r\nlet entity2 = manager.createEntity();\r\nentity2.attach(Transform).x = 2;\r\nentity2.attach(Sprite);\r\ncatTest.forEach(entity => {\r\n    console.log(entity.Transform.x);\r\n});\r\nconsole.log(\"---------------------\");\r\nlet catTest2 = manager.getCategory(Transform, Sprite);\r\nentity2.detach(Sprite);\r\ncatTest2.forEach(entity => {\r\n    console.log(entity.Transform.x);\r\n});\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3VmdC8uL3NyYy9zY3VmdC9lY3MvRUNTRGVtby50cz83MjA3Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFDb0M7QUFDSjtBQUVoQyxJQUFJLE9BQU8sR0FBWSxJQUFJLDZDQUFPLEVBQUUsQ0FBQztBQUVyQyxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsWUFBWSxFQUFFLENBQUM7QUFFcEMsTUFBTSxTQUFVLFNBQVEsK0NBQVM7SUFBakM7O1FBQ0ksTUFBQyxHQUFXLEVBQUUsQ0FBQztJQUVuQixDQUFDO0NBQUE7QUFFRCxNQUFNLE1BQU8sU0FBUSwrQ0FBUztDQUU3QjtBQUVELElBQUksRUFBRSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDbEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUVoQixJQUFJLEVBQUUsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ2xDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQ1YsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQztBQUNYLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7QUFFaEIsSUFBSSxFQUFFLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUMvQixFQUFFLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztBQUNyQixPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBRWhCLElBQUksRUFBRSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDL0IsRUFBRSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7QUFDckIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUVoQixJQUFJLEVBQUUsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ2xDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ1QsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNWLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7QUFFaEIsSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFFckQsSUFBSSxPQUFPLEdBQUcsT0FBTyxDQUFDLFlBQVksRUFBRSxDQUFDO0FBQ3JDLE9BQU8sQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNoQyxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3ZCLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUU7SUFDckIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3BDLENBQUMsQ0FBQyxDQUFDO0FBRUgsT0FBTyxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO0FBRXJDLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxXQUFXLENBQUMsU0FBUyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0FBQ3RELE9BQU8sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDdkIsUUFBUSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRTtJQUN0QixPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDcEMsQ0FBQyxDQUFDLENBQUM7QUFFc0IiLCJmaWxlIjoiLi9zcmMvc2N1ZnQvZWNzL0VDU0RlbW8udHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRW50aXR5IGZyb20gXCIuL0VudGl0eVwiO1xyXG5pbXBvcnQgQ29tcG9uZW50IGZyb20gXCIuL0NvbXBvbmVudFwiO1xyXG5pbXBvcnQgTWFuYWdlciBmcm9tIFwiLi9NYW5hZ2VyXCI7XHJcblxyXG5sZXQgbWFuYWdlcjogTWFuYWdlciA9IG5ldyBNYW5hZ2VyKCk7XHJcblxyXG5sZXQgZW50aXR5ID0gbWFuYWdlci5jcmVhdGVFbnRpdHkoKTtcclxuXHJcbmNsYXNzIFRyYW5zZm9ybSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICB4OiBudW1iZXIgPSAzMztcclxuICAgIHkhOiBudW1iZXI7XHJcbn1cclxuXHJcbmNsYXNzIFNwcml0ZSBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBpbWdQYXRoITogc3RyaW5nO1xyXG59XHJcblxyXG5sZXQgdDEgPSBlbnRpdHkuYXR0YWNoKFRyYW5zZm9ybSk7XHJcbmNvbnNvbGUubG9nKHQxKTtcclxuXHJcbmxldCB0MiA9IGVudGl0eS5hdHRhY2goVHJhbnNmb3JtKTtcclxudDIueCA9IDIwO1xyXG50Mi55ID0gLTIwO1xyXG5jb25zb2xlLmxvZyh0Mik7XHJcblxyXG5sZXQgczEgPSBlbnRpdHkuYXR0YWNoKFNwcml0ZSk7XHJcbnMxLmltZ1BhdGggPSBcInBhdGgxXCI7XHJcbmNvbnNvbGUubG9nKHMxKTtcclxuXHJcbmxldCBzMiA9IGVudGl0eS5hdHRhY2goU3ByaXRlKTtcclxuczIuaW1nUGF0aCA9IFwicGF0aDJcIjtcclxuY29uc29sZS5sb2coczIpO1xyXG5cclxubGV0IHQzID0gZW50aXR5LmF0dGFjaChUcmFuc2Zvcm0pO1xyXG50My54ID0gMTtcclxudDMueSA9IC0xO1xyXG5jb25zb2xlLmxvZyh0Myk7XHJcblxyXG5sZXQgY2F0VGVzdCA9IG1hbmFnZXIuZ2V0Q2F0ZWdvcnkoVHJhbnNmb3JtLCBTcHJpdGUpO1xyXG5cclxubGV0IGVudGl0eTIgPSBtYW5hZ2VyLmNyZWF0ZUVudGl0eSgpO1xyXG5lbnRpdHkyLmF0dGFjaChUcmFuc2Zvcm0pLnggPSAyO1xyXG5lbnRpdHkyLmF0dGFjaChTcHJpdGUpO1xyXG5jYXRUZXN0LmZvckVhY2goZW50aXR5ID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVudGl0eS5UcmFuc2Zvcm0ueCk7XHJcbn0pO1xyXG5cclxuY29uc29sZS5sb2coXCItLS0tLS0tLS0tLS0tLS0tLS0tLS1cIik7XHJcblxyXG5sZXQgY2F0VGVzdDIgPSBtYW5hZ2VyLmdldENhdGVnb3J5KFRyYW5zZm9ybSwgU3ByaXRlKTtcclxuZW50aXR5Mi5kZXRhY2goU3ByaXRlKTtcclxuY2F0VGVzdDIuZm9yRWFjaChlbnRpdHkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZW50aXR5LlRyYW5zZm9ybS54KTtcclxufSk7XHJcblxyXG5leHBvcnQgKiBmcm9tIFwiLi9FQ1NEZW1vXCIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scuft/ecs/ECSDemo.ts\n");

/***/ }),

/***/ "./src/scuft/ecs/Entity.ts":
/*!*********************************!*\
  !*** ./src/scuft/ecs/Entity.ts ***!
  \*********************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ Entity\n/* harmony export */ });\nclass Entity {\r\n    constructor(id, manager) {\r\n        this.id = id;\r\n        this.manager = manager;\r\n    }\r\n    attach(componentType) {\r\n        return this.manager.attach(this, componentType);\r\n    }\r\n    detach(componentType) {\r\n        return this.manager.detach(this, componentType);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3VmdC8uL3NyYy9zY3VmdC9lY3MvRW50aXR5LnRzP2I5MDAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUdlLE1BQU0sTUFBTTtJQUl2QixZQUFZLEVBQVUsRUFBRSxPQUFnQjtRQUNwQyxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO0lBQzNCLENBQUM7SUFDRCxNQUFNLENBQXNCLGFBQXlCO1FBQ2pELE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQ3BELENBQUM7SUFDRCxNQUFNLENBQXNCLGFBQXlCO1FBQ2pELE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQ3BELENBQUM7Q0FDSiIsImZpbGUiOiIuL3NyYy9zY3VmdC9lY3MvRW50aXR5LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENvbXBvbmVudCBmcm9tIFwiLi9Db21wb25lbnRcIjtcclxuaW1wb3J0IE1hbmFnZXIgZnJvbSBcIi4vTWFuYWdlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRW50aXR5IHtcclxuICAgIGlkOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIG1hbmFnZXI6IE1hbmFnZXI7XHJcbiAgICBba2V5OiBzdHJpbmddOiBhbnk7XHJcbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCBtYW5hZ2VyOiBNYW5hZ2VyKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXI7XHJcbiAgICB9XHJcbiAgICBhdHRhY2g8VCBleHRlbmRzIENvbXBvbmVudD4oY29tcG9uZW50VHlwZTogbmV3KCkgPT4gVCk6IFQge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1hbmFnZXIuYXR0YWNoKHRoaXMsIGNvbXBvbmVudFR5cGUpO1xyXG4gICAgfVxyXG4gICAgZGV0YWNoPFQgZXh0ZW5kcyBDb21wb25lbnQ+KGNvbXBvbmVudFR5cGU6IG5ldygpID0+IFQpOiBUIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYW5hZ2VyLmRldGFjaCh0aGlzLCBjb21wb25lbnRUeXBlKTtcclxuICAgIH1cclxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scuft/ecs/Entity.ts\n");

/***/ }),

/***/ "./src/scuft/ecs/Manager.ts":
/*!**********************************!*\
  !*** ./src/scuft/ecs/Manager.ts ***!
  \**********************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ Manager\n/* harmony export */ });\n/* harmony import */ var _Entity__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Entity */ \"./src/scuft/ecs/Entity.ts\");\n/* harmony import */ var _Category__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Category */ \"./src/scuft/ecs/Category.ts\");\n/* harmony import */ var _BitField__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BitField */ \"./src/scuft/ecs/BitField.ts\");\n\r\n\r\n\r\nclass Manager {\r\n    constructor() {\r\n        this.entityIDs = new Uint32Array(32);\r\n        this.entityPool = [];\r\n        this.maxCapacity = 0;\r\n        this.totalRecycled = 0;\r\n        this.lastRecycledIndex = -1;\r\n        this.singleComponentCategories = [];\r\n        this.componentMap = new Map();\r\n        this.categories = [];\r\n        this.categoryBits = [];\r\n        this.entityToComponentBits = [];\r\n    }\r\n    sizeOfEntities() {\r\n        return this.maxCapacity - this.totalRecycled;\r\n    }\r\n    getEntity(entityID) {\r\n        if (entityID >= this.maxCapacity || this.entityIDs[entityID] != entityID) {\r\n            throw \"Entity id=\" + entityID + \" is not currently active and can't be retrieved\";\r\n        }\r\n        if (this.entityPool[entityID] == null) {\r\n            this.entityPool[entityID] = new _Entity__WEBPACK_IMPORTED_MODULE_0__.default(entityID, this);\r\n        }\r\n        return this.entityPool[entityID];\r\n    }\r\n    createEntity() {\r\n        let entityID;\r\n        if (this.totalRecycled === 0) {\r\n            if (this.maxCapacity >= this.entityIDs.length) {\r\n                const newEntityIDs = new Uint32Array(this.maxCapacity + (this.maxCapacity >>> 1) + 1);\r\n                newEntityIDs.set(this.entityIDs);\r\n                this.entityIDs = newEntityIDs;\r\n            }\r\n            entityID = this.maxCapacity;\r\n            this.entityIDs[this.maxCapacity] = this.maxCapacity;\r\n            this.maxCapacity++;\r\n        }\r\n        else {\r\n            console.log(\"::\" + this.entityIDs + \"::\" + this.lastRecycledIndex + \"::\" + this.entityIDs[this.lastRecycledIndex]);\r\n            let lastEntityID = this.entityIDs[this.lastRecycledIndex];\r\n            entityID = this.entityIDs[this.lastRecycledIndex] = this.lastRecycledIndex;\r\n            this.lastRecycledIndex = lastEntityID;\r\n            this.totalRecycled--;\r\n        }\r\n        this.entityToComponentBits[entityID] = new _BitField__WEBPACK_IMPORTED_MODULE_2__.default();\r\n        return this.getEntity(entityID);\r\n    }\r\n    destroyEntity(entity) {\r\n        if (typeof entity !== \"number\") {\r\n            entity = entity.id;\r\n        }\r\n        if (entity >= this.maxCapacity || this.entityIDs[entity] != entity) {\r\n            throw \"Entity id=\" + entity + \" is not currently active and can't be destroyed\";\r\n        }\r\n        this.entityIDs[entity] = this.lastRecycledIndex;\r\n        this.lastRecycledIndex = entity;\r\n        this.totalRecycled++;\r\n    }\r\n    listEntities() {\r\n        let toStringEntities = [];\r\n        let counter = 0;\r\n        for (let i = 0; i < this.maxCapacity; i++) {\r\n            if (this.entityIDs[i] === i) {\r\n                toStringEntities[counter++] = this.entityIDs[i];\r\n            }\r\n        }\r\n        return toStringEntities;\r\n    }\r\n    getComponentID(componentType) {\r\n        let typeID = this.componentMap.get(componentType);\r\n        if (typeID === undefined) {\r\n            typeID = this.componentMap.size;\r\n            this.componentMap.set(componentType, typeID);\r\n            this.singleComponentCategories.push(new _Category__WEBPACK_IMPORTED_MODULE_1__.default());\r\n        }\r\n        return typeID;\r\n    }\r\n    attach(entity, componentType) {\r\n        if (typeof entity === \"number\") {\r\n            entity = this.getEntity(entity);\r\n        }\r\n        let typeID = this.getComponentID(componentType);\r\n        this.entityToComponentBits[entity.id].set(typeID);\r\n        let componentInstance = new componentType();\r\n        entity[componentType.name] = componentInstance;\r\n        this.singleComponentCategories[typeID].notifyAttachObservers(entity.id);\r\n        return componentInstance;\r\n    }\r\n    detach(entity, componentType) {\r\n        if (typeof entity === \"number\") {\r\n            entity = this.getEntity(entity);\r\n        }\r\n        let componentInstance = entity[componentType.name];\r\n        if (!componentInstance) {\r\n            throw \"Can't detach component type=\" + componentType.name + \" because entity id=\" + entity.id + \" does not contain component type\";\r\n        }\r\n        let typeID = this.getComponentID(componentType);\r\n        this.entityToComponentBits[entity.id].set(typeID, false);\r\n        delete entity[componentType.name];\r\n        this.singleComponentCategories[typeID].notifyDetachObservers(entity.id);\r\n        return componentInstance;\r\n    }\r\n    getCategory(...componentQuery) {\r\n        if (componentQuery.length == 1) {\r\n            return this.singleComponentCategories[this.getComponentID(componentQuery[0])];\r\n        }\r\n        let queriedBits = new _BitField__WEBPACK_IMPORTED_MODULE_2__.default();\r\n        let componentIDs = [];\r\n        for (let i = 0; i < componentQuery.length; i++) {\r\n            componentIDs[i] = this.getComponentID(componentQuery[i]);\r\n            queriedBits.set(componentIDs[i]);\r\n        }\r\n        for (let i = 0; i < this.categories.length; i++) {\r\n            if (this.categoryBits[i].equals(queriedBits)) {\r\n                return this.categories[i];\r\n            }\r\n        }\r\n        return this.newCategory(queriedBits, componentIDs);\r\n    }\r\n    newCategory(queriedBits, componentQuery) {\r\n        let category = new _Category__WEBPACK_IMPORTED_MODULE_1__.default();\r\n        for (let i = 0; i < this.maxCapacity; i++) {\r\n            if (this.entityIDs[i] == i) {\r\n                console.log(\"-----\");\r\n                console.log(this.entityToComponentBits[i]);\r\n                if (this.entityToComponentBits[i].includes(queriedBits)) {\r\n                    category.addInternalEntity(this.entityPool[i]);\r\n                }\r\n            }\r\n        }\r\n        this.categories.push(category);\r\n        this.categoryBits.push(queriedBits);\r\n        for (let i = 0; i < componentQuery.length; i++) {\r\n            let type = this.singleComponentCategories[componentQuery[i]];\r\n            type.onComponentAttach(entityID => {\r\n                if (!category.has(entityID) && this.entityToComponentBits[entityID].includes(queriedBits)) {\r\n                    category.addInternalEntity(this.entityPool[i]);\r\n                }\r\n            });\r\n            type.onComponentDetach(entityID => {\r\n                if (category.has(entityID))\r\n                    category.removeInternalEntity(entityID);\r\n            });\r\n        }\r\n        return category;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3VmdC8uL3NyYy9zY3VmdC9lY3MvTWFuYWdlci50cz9lYmNmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBOEI7QUFFSTtBQUNBO0FBRW5CLE1BQU0sT0FBTztJQUE1QjtRQUNZLGNBQVMsR0FBZ0IsSUFBSSxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDN0MsZUFBVSxHQUFhLEVBQUUsQ0FBQztRQUMxQixnQkFBVyxHQUFHLENBQUMsQ0FBQztRQUNoQixrQkFBYSxHQUFHLENBQUMsQ0FBQztRQUNsQixzQkFBaUIsR0FBRyxDQUFDLENBQUMsQ0FBQztRQTJEdkIsOEJBQXlCLEdBQWUsRUFBRSxDQUFDO1FBQzNDLGlCQUFZLEdBQWtDLElBQUksR0FBRyxFQUFFLENBQUM7UUF1Q3hELGVBQVUsR0FBZSxFQUFFLENBQUM7UUFDNUIsaUJBQVksR0FBZSxFQUFFLENBQUM7UUFDOUIsMEJBQXFCLEdBQWUsRUFBRSxDQUFDO0lBNkNuRCxDQUFDO0lBL0lHLGNBQWM7UUFDVixPQUFPLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUNqRCxDQUFDO0lBQ0QsU0FBUyxDQUFDLFFBQWdCO1FBQ3RCLElBQUksUUFBUSxJQUFJLElBQUksQ0FBQyxXQUFXLElBQUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsSUFBSSxRQUFRLEVBQUU7WUFDdEUsTUFBTSxZQUFZLEdBQUcsUUFBUSxHQUFHLGlEQUFpRCxDQUFDO1NBQ3JGO1FBQ0QsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxJQUFJLElBQUksRUFBRTtZQUNuQyxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxHQUFHLElBQUksNENBQU0sQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7U0FDMUQ7UUFDRCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUNELFlBQVk7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SUFBSSxDQUFDLHlCQUF5QixDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzdELElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsRUFBRTtnQkFDOUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLElBQUksSUFBSSxDQUFDLHFCQUFxQixDQUFDLFFBQVEsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsRUFBRTtvQkFDdkYsUUFBUSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztpQkFDbEQ7WUFDTCxDQUFDLENBQUMsQ0FBQztZQUNILElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsRUFBRTtnQkFDOUIsSUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQztvQkFBRSxRQUFRLENBQUMsb0JBQW9CLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDeEUsQ0FBQyxDQUFDLENBQUM7U0FDTjtRQUNELE9BQU8sUUFBUSxDQUFDO0lBQ3BCLENBQUM7Q0FDSiIsImZpbGUiOiIuL3NyYy9zY3VmdC9lY3MvTWFuYWdlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFbnRpdHkgZnJvbSBcIi4vRW50aXR5XCI7XHJcbmltcG9ydCBDb21wb25lbnQgZnJvbSBcIi4vQ29tcG9uZW50XCI7XHJcbmltcG9ydCBDYXRlZ29yeSBmcm9tIFwiLi9DYXRlZ29yeVwiO1xyXG5pbXBvcnQgQml0RmllbGQgZnJvbSBcIi4vQml0RmllbGRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hbmFnZXIge1xyXG4gICAgcHJpdmF0ZSBlbnRpdHlJRHM6IFVpbnQzMkFycmF5ID0gbmV3IFVpbnQzMkFycmF5KDMyKTtcclxuICAgIHByaXZhdGUgZW50aXR5UG9vbDogRW50aXR5W10gPSBbXTtcclxuICAgIHByaXZhdGUgbWF4Q2FwYWNpdHkgPSAwO1xyXG4gICAgcHJpdmF0ZSB0b3RhbFJlY3ljbGVkID0gMDtcclxuICAgIHByaXZhdGUgbGFzdFJlY3ljbGVkSW5kZXggPSAtMTtcclxuXHJcbiAgICAvL0VudGl0eSBNYW5hZ2VtZW50XHJcbiAgICBzaXplT2ZFbnRpdGllcygpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1heENhcGFjaXR5IC0gdGhpcy50b3RhbFJlY3ljbGVkO1xyXG4gICAgfVxyXG4gICAgZ2V0RW50aXR5KGVudGl0eUlEOiBudW1iZXIpOiBFbnRpdHkge1xyXG4gICAgICAgIGlmIChlbnRpdHlJRCA+PSB0aGlzLm1heENhcGFjaXR5IHx8IHRoaXMuZW50aXR5SURzW2VudGl0eUlEXSAhPSBlbnRpdHlJRCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcIkVudGl0eSBpZD1cIiArIGVudGl0eUlEICsgXCIgaXMgbm90IGN1cnJlbnRseSBhY3RpdmUgYW5kIGNhbid0IGJlIHJldHJpZXZlZFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5lbnRpdHlQb29sW2VudGl0eUlEXSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZW50aXR5UG9vbFtlbnRpdHlJRF0gPSBuZXcgRW50aXR5KGVudGl0eUlELCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZW50aXR5UG9vbFtlbnRpdHlJRF07XHJcbiAgICB9XHJcbiAgICBjcmVhdGVFbnRpdHkoKTogRW50aXR5IHtcclxuICAgICAgICBsZXQgZW50aXR5SUQ7XHJcbiAgICAgICAgaWYgKHRoaXMudG90YWxSZWN5Y2xlZCA9PT0gMCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tYXhDYXBhY2l0eSA+PSB0aGlzLmVudGl0eUlEcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0VudGl0eUlEcyA9IG5ldyBVaW50MzJBcnJheSh0aGlzLm1heENhcGFjaXR5ICsgKHRoaXMubWF4Q2FwYWNpdHkgPj4+IDEpICsgMSk7XHJcbiAgICAgICAgICAgICAgICBuZXdFbnRpdHlJRHMuc2V0KHRoaXMuZW50aXR5SURzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZW50aXR5SURzID0gbmV3RW50aXR5SURzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVudGl0eUlEID0gdGhpcy5tYXhDYXBhY2l0eTtcclxuICAgICAgICAgICAgdGhpcy5lbnRpdHlJRHNbdGhpcy5tYXhDYXBhY2l0eV0gPSB0aGlzLm1heENhcGFjaXR5O1xyXG4gICAgICAgICAgICB0aGlzLm1heENhcGFjaXR5Kys7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCI6OlwiICsgdGhpcy5lbnRpdHlJRHMgKyBcIjo6XCIgKyB0aGlzLmxhc3RSZWN5Y2xlZEluZGV4ICsgXCI6OlwiICsgdGhpcy5lbnRpdHlJRHNbdGhpcy5sYXN0UmVjeWNsZWRJbmRleF0pO1xyXG4gICAgICAgICAgICBsZXQgbGFzdEVudGl0eUlEID0gdGhpcy5lbnRpdHlJRHNbdGhpcy5sYXN0UmVjeWNsZWRJbmRleF07XHJcbiAgICAgICAgICAgIGVudGl0eUlEID0gdGhpcy5lbnRpdHlJRHNbdGhpcy5sYXN0UmVjeWNsZWRJbmRleF0gPSB0aGlzLmxhc3RSZWN5Y2xlZEluZGV4O1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RSZWN5Y2xlZEluZGV4ID0gbGFzdEVudGl0eUlEO1xyXG4gICAgICAgICAgICB0aGlzLnRvdGFsUmVjeWNsZWQtLTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lbnRpdHlUb0NvbXBvbmVudEJpdHNbZW50aXR5SURdID0gbmV3IEJpdEZpZWxkKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RW50aXR5KGVudGl0eUlEKTtcclxuICAgIH1cclxuICAgIGRlc3Ryb3lFbnRpdHkoZW50aXR5OiBudW1iZXIgfCBFbnRpdHkpOiB2b2lkIHtcclxuICAgICAgICBpZiAodHlwZW9mIGVudGl0eSAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBlbnRpdHkgPSBlbnRpdHkuaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlbnRpdHkgPj0gdGhpcy5tYXhDYXBhY2l0eSB8fCB0aGlzLmVudGl0eUlEc1tlbnRpdHldICE9IGVudGl0eSkge1xyXG4gICAgICAgICAgICB0aHJvdyBcIkVudGl0eSBpZD1cIiArIGVudGl0eSArIFwiIGlzIG5vdCBjdXJyZW50bHkgYWN0aXZlIGFuZCBjYW4ndCBiZSBkZXN0cm95ZWRcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5lbnRpdHlJRHNbZW50aXR5XSA9IHRoaXMubGFzdFJlY3ljbGVkSW5kZXg7XHJcbiAgICAgICAgdGhpcy5sYXN0UmVjeWNsZWRJbmRleCA9IGVudGl0eTtcclxuICAgICAgICB0aGlzLnRvdGFsUmVjeWNsZWQrKztcclxuICAgIH1cclxuICAgIGxpc3RFbnRpdGllcygpOiBudW1iZXJbXSB7XHJcbiAgICAgICAgbGV0IHRvU3RyaW5nRW50aXRpZXM6IG51bWJlcltdID0gW107XHJcbiAgICAgICAgbGV0IGNvdW50ZXIgPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tYXhDYXBhY2l0eTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmVudGl0eUlEc1tpXSA9PT0gaSkge1xyXG4gICAgICAgICAgICAgICAgdG9TdHJpbmdFbnRpdGllc1tjb3VudGVyKytdID0gdGhpcy5lbnRpdHlJRHNbaV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nRW50aXRpZXM7XHJcbiAgICB9XHJcblxyXG4gICAgLy9Db21wb25lbnQgTWFuYWdlbWVudFxyXG4gICAgcHJpdmF0ZSBzaW5nbGVDb21wb25lbnRDYXRlZ29yaWVzOiBDYXRlZ29yeVtdID0gW107XHJcbiAgICBwcml2YXRlIGNvbXBvbmVudE1hcDogTWFwPHR5cGVvZiBDb21wb25lbnQsIG51bWJlcj4gPSBuZXcgTWFwKCk7XHJcbiAgICBwcml2YXRlIGdldENvbXBvbmVudElEKGNvbXBvbmVudFR5cGU6IG5ldygpID0+IENvbXBvbmVudCk6IG51bWJlciB7XHJcbiAgICAgICAgbGV0IHR5cGVJRCA9IHRoaXMuY29tcG9uZW50TWFwLmdldChjb21wb25lbnRUeXBlKTtcclxuICAgICAgICBpZiAodHlwZUlEID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdHlwZUlEID0gdGhpcy5jb21wb25lbnRNYXAuc2l6ZTtcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRNYXAuc2V0KGNvbXBvbmVudFR5cGUsIHR5cGVJRCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2luZ2xlQ29tcG9uZW50Q2F0ZWdvcmllcy5wdXNoKG5ldyBDYXRlZ29yeSgpKVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHlwZUlEO1xyXG4gICAgfVxyXG4gICAgYXR0YWNoPFQgZXh0ZW5kcyBDb21wb25lbnQ+KGVudGl0eTogRW50aXR5IHwgbnVtYmVyLCBjb21wb25lbnRUeXBlOiBuZXcoKSA9PiBUKTogVCB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBlbnRpdHkgPT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgZW50aXR5ID0gdGhpcy5nZXRFbnRpdHkoZW50aXR5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHR5cGVJRCA9IHRoaXMuZ2V0Q29tcG9uZW50SUQoY29tcG9uZW50VHlwZSk7XHJcbiAgICAgICAgdGhpcy5lbnRpdHlUb0NvbXBvbmVudEJpdHNbZW50aXR5LmlkXS5zZXQodHlwZUlEKTtcclxuXHJcbiAgICAgICAgbGV0IGNvbXBvbmVudEluc3RhbmNlID0gbmV3IGNvbXBvbmVudFR5cGUoKTtcclxuICAgICAgICBlbnRpdHlbY29tcG9uZW50VHlwZS5uYW1lXSA9IGNvbXBvbmVudEluc3RhbmNlO1xyXG4gICAgICAgIHRoaXMuc2luZ2xlQ29tcG9uZW50Q2F0ZWdvcmllc1t0eXBlSURdLm5vdGlmeUF0dGFjaE9ic2VydmVycyhlbnRpdHkuaWQpO1xyXG4gICAgICAgIHJldHVybiBjb21wb25lbnRJbnN0YW5jZTtcclxuICAgIH1cclxuICAgIGRldGFjaDxUIGV4dGVuZHMgQ29tcG9uZW50PihlbnRpdHk6IEVudGl0eSB8IG51bWJlciwgY29tcG9uZW50VHlwZTogbmV3KCkgPT4gVCk6IFQge1xyXG4gICAgICAgIGlmICh0eXBlb2YgZW50aXR5ID09PSBcIm51bWJlclwiKSB7XHJcbiAgICAgICAgICAgIGVudGl0eSA9IHRoaXMuZ2V0RW50aXR5KGVudGl0eSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBjb21wb25lbnRJbnN0YW5jZSA9IGVudGl0eVtjb21wb25lbnRUeXBlLm5hbWVdO1xyXG4gICAgICAgIGlmICghY29tcG9uZW50SW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJDYW4ndCBkZXRhY2ggY29tcG9uZW50IHR5cGU9XCIgKyBjb21wb25lbnRUeXBlLm5hbWUgKyBcIiBiZWNhdXNlIGVudGl0eSBpZD1cIiArIGVudGl0eS5pZCArICBcIiBkb2VzIG5vdCBjb250YWluIGNvbXBvbmVudCB0eXBlXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB0eXBlSUQgPSB0aGlzLmdldENvbXBvbmVudElEKGNvbXBvbmVudFR5cGUpO1xyXG4gICAgICAgIHRoaXMuZW50aXR5VG9Db21wb25lbnRCaXRzW2VudGl0eS5pZF0uc2V0KHR5cGVJRCwgZmFsc2UpO1xyXG5cclxuICAgICAgICBkZWxldGUgZW50aXR5W2NvbXBvbmVudFR5cGUubmFtZV07XHJcbiAgICAgICAgdGhpcy5zaW5nbGVDb21wb25lbnRDYXRlZ29yaWVzW3R5cGVJRF0ubm90aWZ5RGV0YWNoT2JzZXJ2ZXJzKGVudGl0eS5pZCk7XHJcbiAgICAgICAgcmV0dXJuIDxUPiBjb21wb25lbnRJbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICAvL0NhdGVnb3J5IE1hbmFnZW1lbnRcclxuICAgIHByaXZhdGUgY2F0ZWdvcmllczogQ2F0ZWdvcnlbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBjYXRlZ29yeUJpdHM6IEJpdEZpZWxkW10gPSBbXTtcclxuICAgIHByaXZhdGUgZW50aXR5VG9Db21wb25lbnRCaXRzOiBCaXRGaWVsZFtdID0gW107XHJcbiAgICBnZXRDYXRlZ29yeSguLi5jb21wb25lbnRRdWVyeTogdHlwZW9mIENvbXBvbmVudFtdKTogQ2F0ZWdvcnkge1xyXG4gICAgICAgIGlmIChjb21wb25lbnRRdWVyeS5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaW5nbGVDb21wb25lbnRDYXRlZ29yaWVzW3RoaXMuZ2V0Q29tcG9uZW50SUQoY29tcG9uZW50UXVlcnlbMF0pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHF1ZXJpZWRCaXRzID0gbmV3IEJpdEZpZWxkKCk7XHJcbiAgICAgICAgbGV0IGNvbXBvbmVudElEcyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29tcG9uZW50UXVlcnkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29tcG9uZW50SURzW2ldID0gdGhpcy5nZXRDb21wb25lbnRJRChjb21wb25lbnRRdWVyeVtpXSk7XHJcbiAgICAgICAgICAgIHF1ZXJpZWRCaXRzLnNldChjb21wb25lbnRJRHNbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2F0ZWdvcmllcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jYXRlZ29yeUJpdHNbaV0uZXF1YWxzKHF1ZXJpZWRCaXRzKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2F0ZWdvcmllc1tpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5uZXdDYXRlZ29yeShxdWVyaWVkQml0cywgY29tcG9uZW50SURzKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgbmV3Q2F0ZWdvcnkocXVlcmllZEJpdHM6IEJpdEZpZWxkLCBjb21wb25lbnRRdWVyeTogbnVtYmVyW10pOiBDYXRlZ29yeSB7XHJcbiAgICAgICAgbGV0IGNhdGVnb3J5ID0gbmV3IENhdGVnb3J5KCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1heENhcGFjaXR5OyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZW50aXR5SURzW2ldID09IGkpIHsgLy9WYWxpZGF0ZSB0aGF0IGVudGl0eSBpZCBpcyBhY3RpdmVcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiLS0tLS1cIik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmVudGl0eVRvQ29tcG9uZW50Qml0c1tpXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbnRpdHlUb0NvbXBvbmVudEJpdHNbaV0uaW5jbHVkZXMocXVlcmllZEJpdHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkuYWRkSW50ZXJuYWxFbnRpdHkodGhpcy5lbnRpdHlQb29sW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNhdGVnb3JpZXMucHVzaChjYXRlZ29yeSk7IC8vQ2FjaGUgdGhlIGNhdGVnb3J5IGZvciBmdXR1cmUgcmV0cmlldmFsXHJcbiAgICAgICAgdGhpcy5jYXRlZ29yeUJpdHMucHVzaChxdWVyaWVkQml0cyk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29tcG9uZW50UXVlcnkubGVuZ3RoOyBpKyspIHsgLy9BZGQgZGVwZW5kZW5jeSBoYW5kbGVycyB0byBhdXRvbWF0aWNhbGx5IG1hbmFnZSBjYXRlZ29yeSBpbiB0aGUgZnV0dXJlXHJcbiAgICAgICAgICAgIGxldCB0eXBlID0gdGhpcy5zaW5nbGVDb21wb25lbnRDYXRlZ29yaWVzW2NvbXBvbmVudFF1ZXJ5W2ldXTtcclxuICAgICAgICAgICAgdHlwZS5vbkNvbXBvbmVudEF0dGFjaChlbnRpdHlJRCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNhdGVnb3J5LmhhcyhlbnRpdHlJRCkgJiYgdGhpcy5lbnRpdHlUb0NvbXBvbmVudEJpdHNbZW50aXR5SURdLmluY2x1ZGVzKHF1ZXJpZWRCaXRzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5LmFkZEludGVybmFsRW50aXR5KHRoaXMuZW50aXR5UG9vbFtpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0eXBlLm9uQ29tcG9uZW50RGV0YWNoKGVudGl0eUlEID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjYXRlZ29yeS5oYXMoZW50aXR5SUQpKSBjYXRlZ29yeS5yZW1vdmVJbnRlcm5hbEVudGl0eShlbnRpdHlJRCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2F0ZWdvcnk7XHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scuft/ecs/Manager.ts\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	// startup
/******/ 	// Load entry module
/******/ 	__webpack_require__("./src/main.ts");
/******/ 	// This entry module used 'exports' so it can't be inlined
/******/ })()
;