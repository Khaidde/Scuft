/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is not neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/scuft/test/7-InterpTest.scft":
/*!******************************************!*\
  !*** ./src/scuft/test/7-InterpTest.scft ***!
  \******************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_exports__, __webpack_require__.r, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"main = () {\\r\\n    x = 3;\\r\\n}\\r\\nthing = y;\\r\\ny = 5;\\r\\ndec = y;\\r\\n\\r\\n\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3VmdC8uL3NyYy9zY3VmdC90ZXN0LzctSW50ZXJwVGVzdC5zY2Z0P2UxZDEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlFQUFlLFlBQVksY0FBYyxLQUFLLGNBQWMsVUFBVSxZQUFZLFNBQVMiLCJmaWxlIjoiLi9zcmMvc2N1ZnQvdGVzdC83LUludGVycFRlc3Quc2NmdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwibWFpbiA9ICgpIHtcXHJcXG4gICAgeCA9IDM7XFxyXFxufVxcclxcbnRoaW5nID0geTtcXHJcXG55ID0gNTtcXHJcXG5kZWMgPSB5O1xcclxcblxcclxcblwiOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scuft/test/7-InterpTest.scft\n");

/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! namespace exports */
/*! exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scuft_lang_ScuftTest__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scuft/lang/ScuftTest */ \"./src/scuft/lang/ScuftTest.ts\");\n\r\n_scuft_lang_ScuftTest__WEBPACK_IMPORTED_MODULE_0__.default();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3VmdC8uL3NyYy9tYWluLnRzP2NkNDkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFbUQ7QUFFbkQsMERBQWlCLEVBQUUsQ0FBQyIsImZpbGUiOiIuL3NyYy9tYWluLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy9pbXBvcnQgKiBhcyBFQ1NEZW1vIGZyb20gXCIuL3NjdWZ0L2Vjcy9FQ1NEZW1vXCJcclxuXHJcbmltcG9ydCAqIGFzIFNjdWZ0VGVzdCBmcm9tIFwiLi9zY3VmdC9sYW5nL1NjdWZ0VGVzdFwiXHJcblxyXG5TY3VmdFRlc3QuZGVmYXVsdCgpOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/main.ts\n");

/***/ }),

/***/ "./src/scuft/lang/Ast.ts":
/*!*******************************!*\
  !*** ./src/scuft/lang/Ast.ts ***!
  \*******************************/
/*! namespace exports */
/*! export ASTAccessCast [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTBinaryOperator [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTBlock [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTBreak [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTCall [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTContinue [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTDeclaration [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTDotOperator [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTFmt [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTFor [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTFunction [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTFunctionType [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTIf [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTLiteral [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTModule [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTName [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTNode [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTOperatorDefinition [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTOverloadedFunctionType [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTProgram [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTReturn [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTTypeConstruction [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTTypeDefinition [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTTypeLiteral [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTUnaryOperator [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ASTWhile [provided] [no usage info] [missing usage info prevents renaming] */
/*! export NodeType [provided] [no usage info] [missing usage info prevents renaming] */
/*! export exprToStr [provided] [no usage info] [missing usage info prevents renaming] */
/*! export printAST [provided] [no usage info] [missing usage info prevents renaming] */
/*! export recurse [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ASTFmt\": () => /* binding */ ASTFmt,\n/* harmony export */   \"exprToStr\": () => /* binding */ exprToStr,\n/* harmony export */   \"recurse\": () => /* binding */ recurse,\n/* harmony export */   \"printAST\": () => /* binding */ printAST,\n/* harmony export */   \"NodeType\": () => /* binding */ NodeType,\n/* harmony export */   \"ASTNode\": () => /* binding */ ASTNode,\n/* harmony export */   \"ASTProgram\": () => /* binding */ ASTProgram,\n/* harmony export */   \"ASTBlock\": () => /* binding */ ASTBlock,\n/* harmony export */   \"ASTIf\": () => /* binding */ ASTIf,\n/* harmony export */   \"ASTWhile\": () => /* binding */ ASTWhile,\n/* harmony export */   \"ASTFor\": () => /* binding */ ASTFor,\n/* harmony export */   \"ASTBreak\": () => /* binding */ ASTBreak,\n/* harmony export */   \"ASTContinue\": () => /* binding */ ASTContinue,\n/* harmony export */   \"ASTReturn\": () => /* binding */ ASTReturn,\n/* harmony export */   \"ASTOperatorDefinition\": () => /* binding */ ASTOperatorDefinition,\n/* harmony export */   \"ASTDeclaration\": () => /* binding */ ASTDeclaration,\n/* harmony export */   \"ASTAccessCast\": () => /* binding */ ASTAccessCast,\n/* harmony export */   \"ASTTypeLiteral\": () => /* binding */ ASTTypeLiteral,\n/* harmony export */   \"ASTFunctionType\": () => /* binding */ ASTFunctionType,\n/* harmony export */   \"ASTOverloadedFunctionType\": () => /* binding */ ASTOverloadedFunctionType,\n/* harmony export */   \"ASTModule\": () => /* binding */ ASTModule,\n/* harmony export */   \"ASTTypeDefinition\": () => /* binding */ ASTTypeDefinition,\n/* harmony export */   \"ASTFunction\": () => /* binding */ ASTFunction,\n/* harmony export */   \"ASTName\": () => /* binding */ ASTName,\n/* harmony export */   \"ASTDotOperator\": () => /* binding */ ASTDotOperator,\n/* harmony export */   \"ASTCall\": () => /* binding */ ASTCall,\n/* harmony export */   \"ASTTypeConstruction\": () => /* binding */ ASTTypeConstruction,\n/* harmony export */   \"ASTLiteral\": () => /* binding */ ASTLiteral,\n/* harmony export */   \"ASTUnaryOperator\": () => /* binding */ ASTUnaryOperator,\n/* harmony export */   \"ASTBinaryOperator\": () => /* binding */ ASTBinaryOperator\n/* harmony export */ });\n/* harmony import */ var _Token__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Token */ \"./src/scuft/lang/Token.ts\");\n/* harmony import */ var _Log__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Log */ \"./src/scuft/lang/Log.ts\");\n/* harmony import */ var _Scope__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Scope */ \"./src/scuft/lang/Scope.ts\");\n\r\n\r\n\r\nvar ASTFmt;\r\n(function (ASTFmt) {\r\n    ASTFmt[\"TYPE_FMT\"] = \"color: #DE8F6E\";\r\n    ASTFmt[\"IDENTIFIER_FMT\"] = \"color: #2D93AD\";\r\n    ASTFmt[\"EXPRESSION_FMT\"] = \"color: #88AB75\";\r\n    ASTFmt[\"WITH_MODULE_FMT\"] = \"color: #DBD56E\";\r\n})(ASTFmt || (ASTFmt = {}));\r\nfunction nodeNameToStr(astNode, fmt) {\r\n    return (0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)(astNode.constructor.name + \" (\" + astNode.locToken.line + \":\" + astNode.locToken.c + \")\", fmt);\r\n}\r\nfunction list(astNodes, fmt) {\r\n    let lines = [];\r\n    for (let i = 0; i < astNodes.length; i++) {\r\n        lines.push(\" \" + i + \": \" + nodeNameToStr(astNodes[i], fmt));\r\n        (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(lines, (0,_Log__WEBPACK_IMPORTED_MODULE_1__.bar)(recurse(astNodes[i], fmt)));\r\n    }\r\n    return lines;\r\n}\r\nfunction exprToStr(astExpr) {\r\n    switch (astExpr.nodeName) {\r\n        case NodeType.ACCESS_CAST:\r\n            let accessCast = astExpr;\r\n            return (0,_Token__WEBPACK_IMPORTED_MODULE_0__.tokenToStr)(accessCast.accessType) + \" \" + exprToStr(accessCast.castedType);\r\n        case NodeType.TYPE_LITERAL:\r\n            return (0,_Token__WEBPACK_IMPORTED_MODULE_0__.tokenToStr)(astExpr.type);\r\n        case NodeType.FUNCTION_TYPE:\r\n            let astType = astExpr;\r\n            let outFuncType = \"(\";\r\n            for (let i = 0; i < astType.inputType.length; i++) {\r\n                outFuncType += exprToStr(astType.inputType[i]);\r\n                if (i + 1 < astType.inputType.length) {\r\n                    outFuncType += \", \";\r\n                }\r\n            }\r\n            outFuncType += \") -> \" + exprToStr(astType.outType);\r\n            return outFuncType;\r\n        case NodeType.MODULE:\r\n            return \"module {...}\";\r\n        case NodeType.TYPE_DEF:\r\n            return exprToStr(astExpr.typeDecRef.lvalue);\r\n        case NodeType.FUNCTION:\r\n            let astFunc = astExpr;\r\n            let outFunc = \"((\";\r\n            for (let i = 0; i < astFunc.paramDeclaration.length; i++) {\r\n                if (astFunc.paramDeclaration[i].rvalue) {\r\n                    outFunc +=\r\n                        exprToStr(astFunc.paramDeclaration[i].lvalue) +\r\n                            \" ~= \" +\r\n                            exprToStr(astFunc.paramDeclaration[i].rvalue);\r\n                }\r\n                else {\r\n                    outFunc +=\r\n                        exprToStr(astFunc.paramDeclaration[i].lvalue) +\r\n                            \" : \" +\r\n                            exprToStr(astFunc.paramDeclaration[i].type);\r\n                }\r\n                if (i + 1 < astFunc.paramDeclaration.length) {\r\n                    outFunc += \", \";\r\n                }\r\n            }\r\n            outFunc += \")\";\r\n            if (astFunc.returnType)\r\n                outFunc += \" -> \" + exprToStr(astFunc.returnType);\r\n            return outFunc + \"{...})\";\r\n        case NodeType.NAME:\r\n            return astExpr.refName + \"\";\r\n        case NodeType.DOT_OP:\r\n            let astDotOp = astExpr;\r\n            return \"(\" + exprToStr(astDotOp.rootValue) + \".\" + exprToStr(astDotOp.memberValue) + \")\";\r\n        case NodeType.CALL:\r\n            let astCall = astExpr;\r\n            let callVal = exprToStr(astCall.functionNameRef) + \"(\";\r\n            for (let i = 0; i < astCall.givenParams.length; i++) {\r\n                callVal += exprToStr(astCall.givenParams[i]);\r\n                if (i + 1 < astCall.givenParams.length) {\r\n                    callVal += \", \";\r\n                }\r\n            }\r\n            return callVal + \")\";\r\n        case NodeType.TYPE_CONSTRUCT:\r\n            let astConstruction = astExpr;\r\n            let constructVal = \"\";\r\n            for (let i = 0; i < astConstruction.assignments.length; i++) {\r\n                constructVal +=\r\n                    exprToStr(astConstruction.assignments[i].lvalue) +\r\n                        \" <- \" +\r\n                        exprToStr(astConstruction.assignments[i].rvalue);\r\n                if (i + 1 < astConstruction.assignments.length) {\r\n                    constructVal += \", \";\r\n                }\r\n            }\r\n            return exprToStr(astConstruction.typeRef) + \".{\" + constructVal + \"}\";\r\n        case NodeType.LITERAL:\r\n            return astExpr.value.stringValue + \"\";\r\n        case NodeType.UNARY_OP:\r\n            return (astExpr.operation.stringValue +\r\n                \"(\" +\r\n                exprToStr(astExpr.value) +\r\n                \")\");\r\n        case NodeType.BINARY_OP:\r\n            let astBinOp = astExpr;\r\n            return (\"(\" +\r\n                exprToStr(astBinOp.lvalue) +\r\n                \" \" +\r\n                astBinOp.operation.stringValue +\r\n                \" \" +\r\n                exprToStr(astBinOp.rvalue) +\r\n                \")\");\r\n        default:\r\n            throw (\"Can't recursively print expression because given node is not an AST expression: \" +\r\n                astExpr.constructor.name);\r\n    }\r\n}\r\nfunction recurse(astNode, fmt) {\r\n    switch (astNode.nodeName) {\r\n        case NodeType.PROGRAM:\r\n            let linesPrgm = [];\r\n            let astPrgm = astNode;\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesPrgm, [\"operatorDefinitions:\"]);\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesPrgm, [\"withModules: \"]);\r\n            let withModInPrgm = [];\r\n            for (let i = 0; i < astPrgm.withModules.length; i++) {\r\n                withModInPrgm.push((0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)(exprToStr(astPrgm.withModules[i]), fmt, ASTFmt.WITH_MODULE_FMT));\r\n            }\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesPrgm, (0,_Log__WEBPACK_IMPORTED_MODULE_1__.space)(4, withModInPrgm));\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesPrgm, [\"declarations:\"]);\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesPrgm, list(astPrgm.declarations, fmt));\r\n            return linesPrgm;\r\n        case NodeType.BLOCK:\r\n            let linesBlock = [];\r\n            let astBlock = astNode;\r\n            if (astBlock.withModules) {\r\n                (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesBlock, [\"withModules: \"]);\r\n                let withModules = [];\r\n                for (let i = 0; i < astBlock.withModules.length; i++) {\r\n                    withModules.push((0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)(exprToStr(astBlock.withModules[i]), fmt, ASTFmt.WITH_MODULE_FMT));\r\n                }\r\n                (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesBlock, (0,_Log__WEBPACK_IMPORTED_MODULE_1__.space)(4, withModules));\r\n            }\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesBlock, [\"statements:\"]);\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesBlock, list(astBlock.statements, fmt));\r\n            return linesBlock;\r\n        case NodeType.IF:\r\n            let linesIf = [];\r\n            let astIf = astNode;\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesIf, [\"condition: \" + (0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)(exprToStr(astIf.condition), fmt, ASTFmt.EXPRESSION_FMT)]);\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesIf, [\"consequence: \" + nodeNameToStr(astIf.consequence, fmt)]);\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesIf, (0,_Log__WEBPACK_IMPORTED_MODULE_1__.tab)((0,_Log__WEBPACK_IMPORTED_MODULE_1__.space)(9, recurse(astIf.consequence, fmt))));\r\n            if (astIf.alternative) {\r\n                (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesIf, [\"alternative: \" + nodeNameToStr(astIf.alternative, fmt)]);\r\n                (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesIf, (0,_Log__WEBPACK_IMPORTED_MODULE_1__.tab)((0,_Log__WEBPACK_IMPORTED_MODULE_1__.space)(9, recurse(astIf.alternative, fmt))));\r\n            }\r\n            return linesIf;\r\n        case NodeType.WHILE:\r\n            let linesWhile = [];\r\n            let astWhile = astNode;\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesWhile, [\"condition: \" + (0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)(exprToStr(astWhile.condition), fmt, ASTFmt.EXPRESSION_FMT)]);\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesWhile, [\"block: \" + nodeNameToStr(astWhile.block, fmt)]);\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesWhile, (0,_Log__WEBPACK_IMPORTED_MODULE_1__.tab)((0,_Log__WEBPACK_IMPORTED_MODULE_1__.space)(3, recurse(astWhile.block, fmt))));\r\n            return linesWhile;\r\n        case NodeType.FOR:\r\n            let linesFor = [];\r\n            let astFor = astNode;\r\n            if (astFor.itemParamDec) {\r\n                (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesFor, [\r\n                    \"itemParamDec:  \" + (0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)(exprToStr(astFor.itemParamDec.lvalue), fmt, ASTFmt.IDENTIFIER_FMT),\r\n                ]);\r\n            }\r\n            if (astFor.indexParamDec) {\r\n                (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesFor, [\r\n                    \"indexParamDec: \" + (0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)(exprToStr(astFor.indexParamDec.lvalue), fmt, ASTFmt.IDENTIFIER_FMT),\r\n                ]);\r\n            }\r\n            if (astFor.iterableName) {\r\n                (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesFor, [\r\n                    \"iterableName:  \" + (0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)(exprToStr(astFor.iterableName), fmt, ASTFmt.EXPRESSION_FMT),\r\n                ]);\r\n            }\r\n            if (astFor.lowerBound !== undefined) {\r\n                (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesFor, [\r\n                    \"bounds: \" +\r\n                        (0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)(exprToStr(astFor.lowerBound) + \"...\" + exprToStr(astFor.upperBound), fmt, ASTFmt.EXPRESSION_FMT),\r\n                ]);\r\n            }\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesFor, [\"block: \" + nodeNameToStr(astFor.block, fmt)]);\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesFor, (0,_Log__WEBPACK_IMPORTED_MODULE_1__.tab)((0,_Log__WEBPACK_IMPORTED_MODULE_1__.space)(3, recurse(astFor.block, fmt))));\r\n            return linesFor;\r\n        case NodeType.BREAK:\r\n            return [\"break\"];\r\n        case NodeType.CONTINUE:\r\n            return [\"continue\"];\r\n        case NodeType.RETURN:\r\n            let astRet = astNode;\r\n            if (astRet.returnValue) {\r\n                return [\"returnValue: \" + (0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)(exprToStr(astRet.returnValue), fmt, ASTFmt.EXPRESSION_FMT)];\r\n            }\r\n            return [];\r\n        case NodeType.OPERATOR_DEF:\r\n            let linesOpDef = [];\r\n            let astOpDef = astNode;\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesOpDef, [\"operatorName: \" + astOpDef.operatorName.stringValue]);\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesOpDef, [\"functionOverload: \" + nodeNameToStr(astOpDef.functionOverload, fmt)]);\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesOpDef, (0,_Log__WEBPACK_IMPORTED_MODULE_1__.tab)((0,_Log__WEBPACK_IMPORTED_MODULE_1__.space)(14, recurse(astOpDef.functionOverload, fmt))));\r\n            return linesOpDef;\r\n        case NodeType.DECLARATION:\r\n            let linesDec = [];\r\n            let astDec = astNode;\r\n            if (astDec.isAssignment) {\r\n                (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesDec, [\"lvalue: \" + (0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)(exprToStr(astDec.lvalue), fmt, ASTFmt.EXPRESSION_FMT)]);\r\n            }\r\n            else {\r\n                (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesDec, [\"lvalue: \" + (0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)(exprToStr(astDec.lvalue), fmt, ASTFmt.IDENTIFIER_FMT)]);\r\n            }\r\n            if (astDec.type && (astDec.type.nodeName !== NodeType.TYPE_LITERAL || astDec.type.type)) {\r\n                (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesDec, [\"type:   \" + (0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)(exprToStr(astDec.type), fmt, ASTFmt.TYPE_FMT)]);\r\n            }\r\n            if (astDec.rvalue) {\r\n                if ((astDec.rvalue.nodeName === NodeType.TYPE_DEF ||\r\n                    astDec.rvalue.nodeName === NodeType.MODULE ||\r\n                    astDec.rvalue.nodeName === NodeType.FUNCTION) &&\r\n                    !(astDec.rvalue.nodeName === NodeType.TYPE_DEF &&\r\n                        astDec.inScope.getEnclosingScope(_Scope__WEBPACK_IMPORTED_MODULE_2__.ScopeType.TYPE_SCOPE))) {\r\n                    (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesDec, [\"rvalue: \" + nodeNameToStr(astDec.rvalue, fmt)]);\r\n                    (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesDec, (0,_Log__WEBPACK_IMPORTED_MODULE_1__.tab)((0,_Log__WEBPACK_IMPORTED_MODULE_1__.space)(4, recurse(astDec.rvalue, fmt))));\r\n                }\r\n                else {\r\n                    (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesDec, [\"rvalue: \" + (0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)(exprToStr(astDec.rvalue), fmt, ASTFmt.EXPRESSION_FMT)]);\r\n                }\r\n            }\r\n            return linesDec;\r\n        case NodeType.MODULE:\r\n            let linesMod = [];\r\n            let astMod = astNode;\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesMod, [\"withModules: \"]);\r\n            let withModInMod = [];\r\n            for (let i = 0; i < astMod.withModules.length; i++) {\r\n                withModInMod.push((0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)(exprToStr(astMod.withModules[i]), fmt, ASTFmt.WITH_MODULE_FMT));\r\n            }\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesMod, (0,_Log__WEBPACK_IMPORTED_MODULE_1__.space)(4, withModInMod));\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesMod, [\"declarations:\"]);\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesMod, list(astMod.declarations, fmt));\r\n            return linesMod;\r\n        case NodeType.TYPE_DEF:\r\n            let linesTypeDef = [];\r\n            let astTypeDef = astNode;\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesTypeDef, [\"withModules: \"]);\r\n            let withModInType = [];\r\n            for (let i = 0; i < astTypeDef.withModules.length; i++) {\r\n                withModInType.push((0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)(exprToStr(astTypeDef.withModules[i]), fmt, ASTFmt.WITH_MODULE_FMT));\r\n            }\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesTypeDef, (0,_Log__WEBPACK_IMPORTED_MODULE_1__.space)(4, withModInType));\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesTypeDef, [\"declarations:\"]);\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesTypeDef, list(astTypeDef.declarations, fmt));\r\n            return linesTypeDef;\r\n        case NodeType.FUNCTION:\r\n            let linesFunc = [];\r\n            let astFunc = astNode;\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesFunc, [\"paramDeclaration:\"]);\r\n            if (astFunc.paramDeclaration) {\r\n                (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesFunc, list(astFunc.paramDeclaration, fmt));\r\n            }\r\n            if (astFunc.returnType) {\r\n                (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesFunc, [\"returnType: \" + (0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)(exprToStr(astFunc.returnType), fmt, ASTFmt.TYPE_FMT)]);\r\n            }\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesFunc, [\"block: \" + nodeNameToStr(astFunc.block, fmt)]);\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(linesFunc, (0,_Log__WEBPACK_IMPORTED_MODULE_1__.tab)((0,_Log__WEBPACK_IMPORTED_MODULE_1__.space)(3, recurse(astFunc.block, fmt))));\r\n            return linesFunc;\r\n        case NodeType.ACCESS_CAST:\r\n        case NodeType.TYPE_LITERAL:\r\n        case NodeType.FUNCTION_TYPE:\r\n        case NodeType.NAME:\r\n        case NodeType.DOT_OP:\r\n        case NodeType.CALL:\r\n        case NodeType.TYPE_CONSTRUCT:\r\n        case NodeType.LITERAL:\r\n        case NodeType.UNARY_OP:\r\n        case NodeType.BINARY_OP:\r\n            return [(0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)(exprToStr(astNode), fmt, ASTFmt.EXPRESSION_FMT)];\r\n        default:\r\n            throw \"Can't recursively print tree because given node is not an AST node: \" + astNode.constructor.name;\r\n    }\r\n}\r\nfunction printAST(astNode) {\r\n    let fmt = [];\r\n    let outA = [];\r\n    (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(outA, [nodeNameToStr(astNode, fmt)]);\r\n    (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(outA, recurse(astNode, fmt));\r\n    let str = [outA.join(\"\\n\")];\r\n    for (let i = 0; i < fmt.length; i++) {\r\n        str.push(fmt[i]);\r\n    }\r\n    console.log.apply(printAST, str);\r\n}\r\nvar NodeType;\r\n(function (NodeType) {\r\n    NodeType[NodeType[\"PROGRAM\"] = 0] = \"PROGRAM\";\r\n    NodeType[NodeType[\"BLOCK\"] = 1] = \"BLOCK\";\r\n    NodeType[NodeType[\"IF\"] = 2] = \"IF\";\r\n    NodeType[NodeType[\"WHILE\"] = 3] = \"WHILE\";\r\n    NodeType[NodeType[\"FOR\"] = 4] = \"FOR\";\r\n    NodeType[NodeType[\"BREAK\"] = 5] = \"BREAK\";\r\n    NodeType[NodeType[\"CONTINUE\"] = 6] = \"CONTINUE\";\r\n    NodeType[NodeType[\"RETURN\"] = 7] = \"RETURN\";\r\n    NodeType[NodeType[\"OPERATOR_DEF\"] = 8] = \"OPERATOR_DEF\";\r\n    NodeType[NodeType[\"DECLARATION\"] = 9] = \"DECLARATION\";\r\n    NodeType[NodeType[\"ACCESS_CAST\"] = 10] = \"ACCESS_CAST\";\r\n    NodeType[NodeType[\"TYPE_LITERAL\"] = 11] = \"TYPE_LITERAL\";\r\n    NodeType[NodeType[\"FUNCTION_TYPE\"] = 12] = \"FUNCTION_TYPE\";\r\n    NodeType[NodeType[\"OVERLOAD_FUNC_TYPE\"] = 13] = \"OVERLOAD_FUNC_TYPE\";\r\n    NodeType[NodeType[\"MODULE\"] = 14] = \"MODULE\";\r\n    NodeType[NodeType[\"TYPE_DEF\"] = 15] = \"TYPE_DEF\";\r\n    NodeType[NodeType[\"FUNCTION\"] = 16] = \"FUNCTION\";\r\n    NodeType[NodeType[\"NAME\"] = 17] = \"NAME\";\r\n    NodeType[NodeType[\"DOT_OP\"] = 18] = \"DOT_OP\";\r\n    NodeType[NodeType[\"CALL\"] = 19] = \"CALL\";\r\n    NodeType[NodeType[\"TYPE_CONSTRUCT\"] = 20] = \"TYPE_CONSTRUCT\";\r\n    NodeType[NodeType[\"LITERAL\"] = 21] = \"LITERAL\";\r\n    NodeType[NodeType[\"UNARY_OP\"] = 22] = \"UNARY_OP\";\r\n    NodeType[NodeType[\"BINARY_OP\"] = 23] = \"BINARY_OP\";\r\n})(NodeType || (NodeType = {}));\r\nclass ASTNode {\r\n    constructor(locToken) {\r\n        this.locToken = locToken;\r\n    }\r\n}\r\nclass ASTProgram extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.PROGRAM;\r\n    }\r\n}\r\nclass ASTBlock extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.BLOCK;\r\n        this.hasJump = false;\r\n        this.hasReturn = false;\r\n    }\r\n}\r\nclass ASTIf extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.IF;\r\n        this.hasJump = false;\r\n        this.hasReturn = false;\r\n    }\r\n}\r\nclass ASTWhile extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.WHILE;\r\n    }\r\n}\r\nclass ASTFor extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.FOR;\r\n    }\r\n}\r\nclass ASTBreak extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.BREAK;\r\n    }\r\n}\r\nclass ASTContinue extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.CONTINUE;\r\n    }\r\n}\r\nclass ASTReturn extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.RETURN;\r\n    }\r\n}\r\nclass ASTOperatorDefinition extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.OPERATOR_DEF;\r\n    }\r\n}\r\nclass ASTDeclaration extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.DECLARATION;\r\n        this.hasTypeChecked = false;\r\n        this.isAssignment = false;\r\n    }\r\n}\r\nclass ASTAccessCast extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.ACCESS_CAST;\r\n    }\r\n}\r\nclass ASTTypeLiteral extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.TYPE_LITERAL;\r\n    }\r\n}\r\nclass ASTFunctionType extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.FUNCTION_TYPE;\r\n    }\r\n}\r\nclass ASTOverloadedFunctionType extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.OVERLOAD_FUNC_TYPE;\r\n    }\r\n}\r\nclass ASTModule extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.MODULE;\r\n    }\r\n}\r\nclass ASTTypeDefinition extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.TYPE_DEF;\r\n    }\r\n}\r\nclass ASTFunction extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.FUNCTION;\r\n    }\r\n}\r\nclass ASTName extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.NAME;\r\n    }\r\n}\r\nclass ASTDotOperator extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.DOT_OP;\r\n    }\r\n}\r\nclass ASTCall extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.CALL;\r\n    }\r\n}\r\nclass ASTTypeConstruction extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.TYPE_CONSTRUCT;\r\n    }\r\n}\r\nclass ASTLiteral extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.LITERAL;\r\n    }\r\n}\r\nclass ASTUnaryOperator extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.UNARY_OP;\r\n    }\r\n}\r\nclass ASTBinaryOperator extends ASTNode {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.nodeName = NodeType.BINARY_OP;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3VmdC8uL3NyYy9zY3VmdC9sYW5nL0FzdC50cz84ZjMwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF1RDtBQUNFO0FBQ2Q7QUFXM0MsSUFBWSxNQU1YO0FBTkQsV0FBWSxNQUFNO0lBQ2QscUNBQTJCO0lBQzNCLDJDQUFpQztJQUNqQywyQ0FBaUM7SUFFakMsNENBQWtDO0FBQ3RDLENBQUMsRUFOVyxNQUFNLEtBQU4sTUFBTSxRQU1qQjtBQUVELFNBQVMsYUFBYSxDQUFDLE9BQWdCLEVBQUUsR0FBYTtJQUNsRCxPQUFPLDhDQUFRLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxJQUFJLEdBQUcsSUFBSSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxHQUFHLEdBQUcsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7QUFDbkgsQ0FBQztBQUVELFNBQVMsSUFBSSxDQUFDLFFBQW1CLEVBQUUsR0FBYTtJQUM1QyxJQUFJLEtBQUssR0FBYSxFQUFFLENBQUM7SUFDekIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDdEMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxHQUFHLElBQUksR0FBRyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFFN0QsMkNBQUssQ0FBQyxLQUFLLEVBQUUseUNBQUcsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUNoRDtJQUNELE9BQU8sS0FBSyxDQUFDO0FBQ2pCLENBQUM7QUFFTSxTQUFTLFNBQVMsQ0FBQyxPQUFzQjtJQUM1QyxRQUFR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QWlCLFNBQVEsT0FBTztJQUE3Qzs7UUFDSSxhQUFRLEdBQUcsUUFBUSxDQUFDLFFBQVEsQ0FBQztJQU1qQyxDQUFDO0NBQUE7QUFFTSxNQUFNLGlCQUFrQixTQUFRLE9BQU87SUFBOUM7O1FBQ0ksYUFBUSxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUM7SUFPbEMsQ0FBQztDQUFBIiwiZmlsZSI6Ii4vc3JjL3NjdWZ0L2xhbmcvQXN0LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVG9rZW4sIHRva2VuVG9TdHIsIFRva2VuVHlwZSB9IGZyb20gXCIuL1Rva2VuXCI7XHJcbmltcG9ydCB7IGFwcGx5Rm10LCBtZXJnZSwgc3BhY2UsIHRhYiwgYmFyIH0gZnJvbSBcIi4vTG9nXCI7XHJcbmltcG9ydCB7IFNjb3BlLCBTY29wZVR5cGUgfSBmcm9tIFwiLi9TY29wZVwiO1xyXG5cclxuLy8gZXhwb3J0IGVudW0gQVNURm10IHtcclxuLy8gICAgIE5PREVfRk1UID0gXCJjb2xvcjogI0M3OTJERVwiLFxyXG4vLyAgICAgVFlQRV9GTVQgPSBcImNvbG9yOiAjRkZFQjk1XCIsXHJcbi8vICAgICBJREVOVElGSUVSX0ZNVCA9IFwiY29sb3I6ICMzNDhERkZcIixcclxuLy8gICAgIEVYUFJFU1NJT05fRk1UID0gXCJjb2xvcjogI0U5OEM2Q1wiLFxyXG4vLyAgICAgRlVOQ1RJT05fQ0FMTF9GTVQgPSBcImNvbG9yOiAjQUQyODM2XCIsXHJcbi8vICAgICBXSVRIX01PRFVMRV9GTVQgPSBcImNvbG9yOiAjMjU5RjgwXCIsXHJcbi8vIH1cclxuXHJcbmV4cG9ydCBlbnVtIEFTVEZtdCB7XHJcbiAgICBUWVBFX0ZNVCA9IFwiY29sb3I6ICNERThGNkVcIixcclxuICAgIElERU5USUZJRVJfRk1UID0gXCJjb2xvcjogIzJEOTNBRFwiLFxyXG4gICAgRVhQUkVTU0lPTl9GTVQgPSBcImNvbG9yOiAjODhBQjc1XCIsXHJcblxyXG4gICAgV0lUSF9NT0RVTEVfRk1UID0gXCJjb2xvcjogI0RCRDU2RVwiLFxyXG59XHJcblxyXG5mdW5jdGlvbiBub2RlTmFtZVRvU3RyKGFzdE5vZGU6IEFTVE5vZGUsIGZtdDogc3RyaW5nW10pOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGFwcGx5Rm10KGFzdE5vZGUuY29uc3RydWN0b3IubmFtZSArIFwiIChcIiArIGFzdE5vZGUubG9jVG9rZW4ubGluZSArIFwiOlwiICsgYXN0Tm9kZS5sb2NUb2tlbi5jICsgXCIpXCIsIGZtdCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxpc3QoYXN0Tm9kZXM6IEFTVE5vZGVbXSwgZm10OiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcclxuICAgIGxldCBsaW5lczogc3RyaW5nW10gPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXN0Tm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBsaW5lcy5wdXNoKFwiIFwiICsgaSArIFwiOiBcIiArIG5vZGVOYW1lVG9TdHIoYXN0Tm9kZXNbaV0sIGZtdCkpO1xyXG5cclxuICAgICAgICBtZXJnZShsaW5lcywgYmFyKHJlY3Vyc2UoYXN0Tm9kZXNbaV0sIGZtdCkpKTtcclxuICAgIH1cclxuICAgIHJldHVybiBsaW5lcztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4cHJUb1N0cihhc3RFeHByOiBBU1RFeHByZXNzaW9uKTogc3RyaW5nIHtcclxuICAgIHN3aXRjaCAoYXN0RXhwci5ub2RlTmFtZSkge1xyXG4gICAgICAgIGNhc2UgTm9kZVR5cGUuQUNDRVNTX0NBU1Q6XHJcbiAgICAgICAgICAgIGxldCBhY2Nlc3NDYXN0ID0gPEFTVEFjY2Vzc0Nhc3Q+YXN0RXhwcjtcclxuICAgICAgICAgICAgcmV0dXJuIHRva2VuVG9TdHIoYWNjZXNzQ2FzdC5hY2Nlc3NUeXBlKSArIFwiIFwiICsgZXhwclRvU3RyKGFjY2Vzc0Nhc3QuY2FzdGVkVHlwZSk7XHJcbiAgICAgICAgY2FzZSBOb2RlVHlwZS5UWVBFX0xJVEVSQUw6XHJcbiAgICAgICAgICAgIHJldHVybiB0b2tlblRvU3RyKCg8QVNUVHlwZUxpdGVyYWw+YXN0RXhwcikudHlwZSk7XHJcbiAgICAgICAgY2FzZSBOb2RlVHlwZS5GVU5DVElPTl9UWVBFOlxyXG4gICAgICAgICAgICBsZXQgYXN0VHlwZSA9IDxBU1RGdW5jdGlvblR5cGU+YXN0RXhwcjtcclxuICAgICAgICAgICAgbGV0IG91dEZ1bmNUeXBlID0gXCIoXCI7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXN0VHlwZS5pbnB1dFR5cGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIG91dEZ1bmNUeXBlICs9IGV4cHJUb1N0cihhc3RUeXBlLmlucHV0VHlwZVtpXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSArIDEgPCBhc3RUeXBlLmlucHV0VHlwZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBvdXRGdW5jVHlwZSArPSBcIiwgXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3V0RnVuY1R5cGUgKz0gXCIpIC0+IFwiICsgZXhwclRvU3RyKGFzdFR5cGUub3V0VHlwZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBvdXRGdW5jVHlwZTtcclxuICAgICAgICBjYXNlIE5vZGVUeXBlLk1PRFVMRTpcclxuICAgICAgICAgICAgcmV0dXJuIFwibW9kdWxlIHsuLi59XCI7XHJcbiAgICAgICAgY2FzZSBOb2RlVHlwZS5UWVBFX0RFRjpcclxuICAgICAgICAgICAgcmV0dXJuIGV4cHJUb1N0cigoPEFTVFR5cGVEZWZpbml0aW9uPmFzdEV4cHIpLnR5cGVEZWNSZWYubHZhbHVlKTtcclxuICAgICAgICBjYXNlIE5vZGVUeXBlLkZVTkNUSU9OOlxyXG4gICAgICAgICAgICBsZXQgYXN0RnVuYyA9IDxBU1RGdW5jdGlvbj5hc3RFeHByO1xyXG4gICAgICAgICAgICBsZXQgb3V0RnVuYyA9IFwiKChcIjtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhc3RGdW5jLnBhcmFtRGVjbGFyYXRpb24ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChhc3RGdW5jLnBhcmFtRGVjbGFyYXRpb25baV0ucnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0RnVuYyArPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByVG9TdHIoYXN0RnVuYy5wYXJhbURlY2xhcmF0aW9uW2ldLmx2YWx1ZSkgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiB+PSBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJUb1N0cihhc3RGdW5jLnBhcmFtRGVjbGFyYXRpb25baV0ucnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0RnVuYyArPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByVG9TdHIoYXN0RnVuYy5wYXJhbURlY2xhcmF0aW9uW2ldLmx2YWx1ZSkgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiA6IFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwclRvU3RyKGFzdEZ1bmMucGFyYW1EZWNsYXJhdGlvbltpXS50eXBlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChpICsgMSA8IGFzdEZ1bmMucGFyYW1EZWNsYXJhdGlvbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBvdXRGdW5jICs9IFwiLCBcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvdXRGdW5jICs9IFwiKVwiO1xyXG4gICAgICAgICAgICBpZiAoYXN0RnVuYy5yZXR1cm5UeXBlKSBvdXRGdW5jICs9IFwiIC0+IFwiICsgZXhwclRvU3RyKGFzdEZ1bmMucmV0dXJuVHlwZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBvdXRGdW5jICsgXCJ7Li4ufSlcIjtcclxuICAgICAgICBjYXNlIE5vZGVUeXBlLk5BTUU6XHJcbiAgICAgICAgICAgIHJldHVybiAoPEFTVE5hbWU+YXN0RXhwcikucmVmTmFtZSArIFwiXCI7XHJcbiAgICAgICAgY2FzZSBOb2RlVHlwZS5ET1RfT1A6XHJcbiAgICAgICAgICAgIGxldCBhc3REb3RPcCA9IDxBU1REb3RPcGVyYXRvcj5hc3RFeHByO1xyXG4gICAgICAgICAgICByZXR1cm4gXCIoXCIgKyBleHByVG9TdHIoYXN0RG90T3Aucm9vdFZhbHVlKSArIFwiLlwiICsgZXhwclRvU3RyKGFzdERvdE9wLm1lbWJlclZhbHVlKSArIFwiKVwiO1xyXG4gICAgICAgIGNhc2UgTm9kZVR5cGUuQ0FMTDpcclxuICAgICAgICAgICAgbGV0IGFzdENhbGwgPSA8QVNUQ2FsbD5hc3RFeHByO1xyXG4gICAgICAgICAgICBsZXQgY2FsbFZhbCA9IGV4cHJUb1N0cihhc3RDYWxsLmZ1bmN0aW9uTmFtZVJlZikgKyBcIihcIjtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhc3RDYWxsLmdpdmVuUGFyYW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsVmFsICs9IGV4cHJUb1N0cihhc3RDYWxsLmdpdmVuUGFyYW1zW2ldKTtcclxuICAgICAgICAgICAgICAgIGlmIChpICsgMSA8IGFzdENhbGwuZ2l2ZW5QYXJhbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbFZhbCArPSBcIiwgXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNhbGxWYWwgKyBcIilcIjtcclxuICAgICAgICBjYXNlIE5vZGVUeXBlLlRZUEVfQ09OU1RSVUNUOlxyXG4gICAgICAgICAgICBsZXQgYXN0Q29uc3RydWN0aW9uID0gPEFTVFR5cGVDb25zdHJ1Y3Rpb24+YXN0RXhwcjtcclxuICAgICAgICAgICAgbGV0IGNvbnN0cnVjdFZhbCA9IFwiXCI7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXN0Q29uc3RydWN0aW9uLmFzc2lnbm1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdHJ1Y3RWYWwgKz1cclxuICAgICAgICAgICAgICAgICAgICBleHByVG9TdHIoYXN0Q29uc3RydWN0aW9uLmFzc2lnbm1lbnRzW2ldLmx2YWx1ZSkgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiIDwtIFwiICtcclxuICAgICAgICAgICAgICAgICAgICBleHByVG9TdHIoPEFTVEV4cHJlc3Npb24+YXN0Q29uc3RydWN0aW9uLmFzc2lnbm1lbnRzW2ldLnJ2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSArIDEgPCBhc3RDb25zdHJ1Y3Rpb24uYXNzaWdubWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3RydWN0VmFsICs9IFwiLCBcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZXhwclRvU3RyKGFzdENvbnN0cnVjdGlvbi50eXBlUmVmKSArIFwiLntcIiArIGNvbnN0cnVjdFZhbCArIFwifVwiO1xyXG4gICAgICAgIGNhc2UgTm9kZVR5cGUuTElURVJBTDpcclxuICAgICAgICAgICAgcmV0dXJuICg8QVNUTGl0ZXJhbD5hc3RFeHByKS52YWx1ZS5zdHJpbmdWYWx1ZSArIFwiXCI7XHJcbiAgICAgICAgY2FzZSBOb2RlVHlwZS5VTkFSWV9PUDpcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICg8QVNUVW5hcnlPcGVyYXRvcj5hc3RFeHByKS5vcGVyYXRpb24uc3RyaW5nVmFsdWUgK1xyXG4gICAgICAgICAgICAgICAgXCIoXCIgK1xyXG4gICAgICAgICAgICAgICAgZXhwclRvU3RyKCg8QVNUVW5hcnlPcGVyYXRvcj5hc3RFeHByKS52YWx1ZSkgK1xyXG4gICAgICAgICAgICAgICAgXCIpXCJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICBjYXNlIE5vZGVUeXBlLkJJTkFSWV9PUDpcclxuICAgICAgICAgICAgbGV0IGFzdEJpbk9wID0gPEFTVEJpbmFyeU9wZXJhdG9yPmFzdEV4cHI7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICBcIihcIiArXHJcbiAgICAgICAgICAgICAgICBleHByVG9TdHIoYXN0QmluT3AubHZhbHVlKSArXHJcbiAgICAgICAgICAgICAgICBcIiBcIiArXHJcbiAgICAgICAgICAgICAgICBhc3RCaW5PcC5vcGVyYXRpb24uc3RyaW5nVmFsdWUgK1xyXG4gICAgICAgICAgICAgICAgXCIgXCIgK1xyXG4gICAgICAgICAgICAgICAgZXhwclRvU3RyKGFzdEJpbk9wLnJ2YWx1ZSkgK1xyXG4gICAgICAgICAgICAgICAgXCIpXCJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICB0aHJvdyAoXHJcbiAgICAgICAgICAgICAgICBcIkNhbid0IHJlY3Vyc2l2ZWx5IHByaW50IGV4cHJlc3Npb24gYmVjYXVzZSBnaXZlbiBub2RlIGlzIG5vdCBhbiBBU1QgZXhwcmVzc2lvbjogXCIgK1xyXG4gICAgICAgICAgICAgICAgYXN0RXhwci5jb25zdHJ1Y3Rvci5uYW1lXHJcbiAgICAgICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWN1cnNlKGFzdE5vZGU6IEFTVE5vZGUsIGZtdDogc3RyaW5nW10pOiBzdHJpbmdbXSB7XHJcbiAgICBzd2l0Y2ggKGFzdE5vZGUubm9kZU5hbWUpIHtcclxuICAgICAgICBjYXNlIE5vZGVUeXBlLlBST0dSQU06XHJcbiAgICAgICAgICAgIGxldCBsaW5lc1ByZ206IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgICAgIGxldCBhc3RQcmdtID0gPEFTVFByb2dyYW0+YXN0Tm9kZTtcclxuICAgICAgICAgICAgbWVyZ2UobGluZXNQcmdtLCBbXCJvcGVyYXRvckRlZmluaXRpb25zOlwiXSk7XHJcbiAgICAgICAgICAgIG1lcmdlKGxpbmVzUHJnbSwgW1wid2l0aE1vZHVsZXM6IFwiXSk7XHJcbiAgICAgICAgICAgIGxldCB3aXRoTW9kSW5QcmdtID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXN0UHJnbS53aXRoTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgd2l0aE1vZEluUHJnbS5wdXNoKGFwcGx5Rm10KGV4cHJUb1N0cihhc3RQcmdtLndpdGhNb2R1bGVzW2ldKSwgZm10LCBBU1RGbXQuV0lUSF9NT0RVTEVfRk1UKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWVyZ2UobGluZXNQcmdtLCBzcGFjZSg0LCB3aXRoTW9kSW5QcmdtKSk7XHJcbiAgICAgICAgICAgIG1lcmdlKGxpbmVzUHJnbSwgW1wiZGVjbGFyYXRpb25zOlwiXSk7XHJcbiAgICAgICAgICAgIG1lcmdlKGxpbmVzUHJnbSwgbGlzdChhc3RQcmdtLmRlY2xhcmF0aW9ucywgZm10KSk7XHJcbiAgICAgICAgICAgIHJldHVybiBsaW5lc1ByZ207XHJcbiAgICAgICAgY2FzZSBOb2RlVHlwZS5CTE9DSzpcclxuICAgICAgICAgICAgbGV0IGxpbmVzQmxvY2s6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgICAgIGxldCBhc3RCbG9jayA9IDxBU1RCbG9jaz5hc3ROb2RlO1xyXG4gICAgICAgICAgICBpZiAoYXN0QmxvY2sud2l0aE1vZHVsZXMpIHtcclxuICAgICAgICAgICAgICAgIG1lcmdlKGxpbmVzQmxvY2ssIFtcIndpdGhNb2R1bGVzOiBcIl0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IHdpdGhNb2R1bGVzID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFzdEJsb2NrLndpdGhNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2l0aE1vZHVsZXMucHVzaChhcHBseUZtdChleHByVG9TdHIoYXN0QmxvY2sud2l0aE1vZHVsZXNbaV0pLCBmbXQsIEFTVEZtdC5XSVRIX01PRFVMRV9GTVQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1lcmdlKGxpbmVzQmxvY2ssIHNwYWNlKDQsIHdpdGhNb2R1bGVzKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWVyZ2UobGluZXNCbG9jaywgW1wic3RhdGVtZW50czpcIl0pO1xyXG4gICAgICAgICAgICBtZXJnZShsaW5lc0Jsb2NrLCBsaXN0KGFzdEJsb2NrLnN0YXRlbWVudHMsIGZtdCkpO1xyXG4gICAgICAgICAgICByZXR1cm4gbGluZXNCbG9jaztcclxuICAgICAgICBjYXNlIE5vZGVUeXBlLklGOlxyXG4gICAgICAgICAgICBsZXQgbGluZXNJZjogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICAgICAgbGV0IGFzdElmID0gPEFTVElmPmFzdE5vZGU7XHJcbiAgICAgICAgICAgIG1lcmdlKGxpbmVzSWYsIFtcImNvbmRpdGlvbjogXCIgKyBhcHBseUZtdChleHByVG9TdHIoYXN0SWYuY29uZGl0aW9uKSwgZm10LCBBU1RGbXQuRVhQUkVTU0lPTl9GTVQpXSk7XHJcbiAgICAgICAgICAgIG1lcmdlKGxpbmVzSWYsIFtcImNvbnNlcXVlbmNlOiBcIiArIG5vZGVOYW1lVG9TdHIoYXN0SWYuY29uc2VxdWVuY2UsIGZtdCldKTtcclxuICAgICAgICAgICAgbWVyZ2UobGluZXNJZiwgdGFiKHNwYWNlKDksIHJlY3Vyc2UoYXN0SWYuY29uc2VxdWVuY2UsIGZtdCkpKSk7XHJcbiAgICAgICAgICAgIGlmIChhc3RJZi5hbHRlcm5hdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgbWVyZ2UobGluZXNJZiwgW1wiYWx0ZXJuYXRpdmU6IFwiICsgbm9kZU5hbWVUb1N0cihhc3RJZi5hbHRlcm5hdGl2ZSwgZm10KV0pO1xyXG4gICAgICAgICAgICAgICAgbWVyZ2UobGluZXNJZiwgdGFiKHNwYWNlKDksIHJlY3Vyc2UoYXN0SWYuYWx0ZXJuYXRpdmUsIGZtdCkpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGxpbmVzSWY7XHJcbiAgICAgICAgY2FzZSBOb2RlVHlwZS5XSElMRTpcclxuICAgICAgICAgICAgbGV0IGxpbmVzV2hpbGU6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgICAgIGxldCBhc3RXaGlsZSA9IDxBU1RXaGlsZT5hc3ROb2RlO1xyXG4gICAgICAgICAgICBtZXJnZShsaW5lc1doaWxlLCBbXCJjb25kaXRpb246IFwiICsgYXBwbHlGbXQoZXhwclRvU3RyKGFzdFdoaWxlLmNvbmRpdGlvbiksIGZtdCwgQVNURm10LkVYUFJFU1NJT05fRk1UKV0pO1xyXG4gICAgICAgICAgICBtZXJnZShsaW5lc1doaWxlLCBbXCJibG9jazogXCIgKyBub2RlTmFtZVRvU3RyKGFzdFdoaWxlLmJsb2NrLCBmbXQpXSk7XHJcbiAgICAgICAgICAgIG1lcmdlKGxpbmVzV2hpbGUsIHRhYihzcGFjZSgzLCByZWN1cnNlKGFzdFdoaWxlLmJsb2NrLCBmbXQpKSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gbGluZXNXaGlsZTtcclxuICAgICAgICBjYXNlIE5vZGVUeXBlLkZPUjpcclxuICAgICAgICAgICAgbGV0IGxpbmVzRm9yOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgYXN0Rm9yID0gPEFTVEZvcj5hc3ROb2RlO1xyXG4gICAgICAgICAgICBpZiAoYXN0Rm9yLml0ZW1QYXJhbURlYykge1xyXG4gICAgICAgICAgICAgICAgbWVyZ2UobGluZXNGb3IsIFtcclxuICAgICAgICAgICAgICAgICAgICBcIml0ZW1QYXJhbURlYzogIFwiICsgYXBwbHlGbXQoZXhwclRvU3RyKGFzdEZvci5pdGVtUGFyYW1EZWMubHZhbHVlKSwgZm10LCBBU1RGbXQuSURFTlRJRklFUl9GTVQpLFxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFzdEZvci5pbmRleFBhcmFtRGVjKSB7XHJcbiAgICAgICAgICAgICAgICBtZXJnZShsaW5lc0ZvciwgW1xyXG4gICAgICAgICAgICAgICAgICAgIFwiaW5kZXhQYXJhbURlYzogXCIgKyBhcHBseUZtdChleHByVG9TdHIoYXN0Rm9yLmluZGV4UGFyYW1EZWMubHZhbHVlKSwgZm10LCBBU1RGbXQuSURFTlRJRklFUl9GTVQpLFxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFzdEZvci5pdGVyYWJsZU5hbWUpIHtcclxuICAgICAgICAgICAgICAgIG1lcmdlKGxpbmVzRm9yLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgXCJpdGVyYWJsZU5hbWU6ICBcIiArIGFwcGx5Rm10KGV4cHJUb1N0cihhc3RGb3IuaXRlcmFibGVOYW1lKSwgZm10LCBBU1RGbXQuRVhQUkVTU0lPTl9GTVQpLFxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFzdEZvci5sb3dlckJvdW5kICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIG1lcmdlKGxpbmVzRm9yLCBbXHJcbiAgICAgICAgICAgICAgICAgICAgXCJib3VuZHM6IFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlGbXQoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByVG9TdHIoYXN0Rm9yLmxvd2VyQm91bmQpICsgXCIuLi5cIiArIGV4cHJUb1N0cihhc3RGb3IudXBwZXJCb3VuZCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBU1RGbXQuRVhQUkVTU0lPTl9GTVRcclxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1lcmdlKGxpbmVzRm9yLCBbXCJibG9jazogXCIgKyBub2RlTmFtZVRvU3RyKGFzdEZvci5ibG9jaywgZm10KV0pO1xyXG4gICAgICAgICAgICBtZXJnZShsaW5lc0ZvciwgdGFiKHNwYWNlKDMsIHJlY3Vyc2UoYXN0Rm9yLmJsb2NrLCBmbXQpKSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gbGluZXNGb3I7XHJcbiAgICAgICAgY2FzZSBOb2RlVHlwZS5CUkVBSzpcclxuICAgICAgICAgICAgcmV0dXJuIFtcImJyZWFrXCJdO1xyXG4gICAgICAgIGNhc2UgTm9kZVR5cGUuQ09OVElOVUU6XHJcbiAgICAgICAgICAgIHJldHVybiBbXCJjb250aW51ZVwiXTtcclxuICAgICAgICBjYXNlIE5vZGVUeXBlLlJFVFVSTjpcclxuICAgICAgICAgICAgbGV0IGFzdFJldCA9IDxBU1RSZXR1cm4+YXN0Tm9kZTtcclxuICAgICAgICAgICAgaWYgKGFzdFJldC5yZXR1cm5WYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcInJldHVyblZhbHVlOiBcIiArIGFwcGx5Rm10KGV4cHJUb1N0cihhc3RSZXQucmV0dXJuVmFsdWUpLCBmbXQsIEFTVEZtdC5FWFBSRVNTSU9OX0ZNVCldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBbXTtcclxuICAgICAgICBjYXNlIE5vZGVUeXBlLk9QRVJBVE9SX0RFRjpcclxuICAgICAgICAgICAgbGV0IGxpbmVzT3BEZWY6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgICAgIGxldCBhc3RPcERlZiA9IDxBU1RPcGVyYXRvckRlZmluaXRpb24+YXN0Tm9kZTtcclxuICAgICAgICAgICAgbWVyZ2UobGluZXNPcERlZiwgW1wib3BlcmF0b3JOYW1lOiBcIiArIGFzdE9wRGVmLm9wZXJhdG9yTmFtZS5zdHJpbmdWYWx1ZV0pO1xyXG4gICAgICAgICAgICBtZXJnZShsaW5lc09wRGVmLCBbXCJmdW5jdGlvbk92ZXJsb2FkOiBcIiArIG5vZGVOYW1lVG9TdHIoYXN0T3BEZWYuZnVuY3Rpb25PdmVybG9hZCwgZm10KV0pO1xyXG4gICAgICAgICAgICBtZXJnZShsaW5lc09wRGVmLCB0YWIoc3BhY2UoMTQsIHJlY3Vyc2UoYXN0T3BEZWYuZnVuY3Rpb25PdmVybG9hZCwgZm10KSkpKTtcclxuICAgICAgICAgICAgcmV0dXJuIGxpbmVzT3BEZWY7XHJcbiAgICAgICAgY2FzZSBOb2RlVHlwZS5ERUNMQVJBVElPTjpcclxuICAgICAgICAgICAgbGV0IGxpbmVzRGVjOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgICAgICBsZXQgYXN0RGVjID0gPEFTVERlY2xhcmF0aW9uPmFzdE5vZGU7XHJcbiAgICAgICAgICAgIGlmIChhc3REZWMuaXNBc3NpZ25tZW50KSB7XHJcbiAgICAgICAgICAgICAgICBtZXJnZShsaW5lc0RlYywgW1wibHZhbHVlOiBcIiArIGFwcGx5Rm10KGV4cHJUb1N0cihhc3REZWMubHZhbHVlKSwgZm10LCBBU1RGbXQuRVhQUkVTU0lPTl9GTVQpXSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtZXJnZShsaW5lc0RlYywgW1wibHZhbHVlOiBcIiArIGFwcGx5Rm10KGV4cHJUb1N0cihhc3REZWMubHZhbHVlKSwgZm10LCBBU1RGbXQuSURFTlRJRklFUl9GTVQpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFzdERlYy50eXBlICYmIChhc3REZWMudHlwZS5ub2RlTmFtZSAhPT0gTm9kZVR5cGUuVFlQRV9MSVRFUkFMIHx8ICg8QVNUVHlwZUxpdGVyYWw+YXN0RGVjLnR5cGUpLnR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICBtZXJnZShsaW5lc0RlYywgW1widHlwZTogICBcIiArIGFwcGx5Rm10KGV4cHJUb1N0cihhc3REZWMudHlwZSksIGZtdCwgQVNURm10LlRZUEVfRk1UKV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhc3REZWMucnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgKGFzdERlYy5ydmFsdWUubm9kZU5hbWUgPT09IE5vZGVUeXBlLlRZUEVfREVGIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzdERlYy5ydmFsdWUubm9kZU5hbWUgPT09IE5vZGVUeXBlLk1PRFVMRSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3REZWMucnZhbHVlLm5vZGVOYW1lID09PSBOb2RlVHlwZS5GVU5DVElPTikgJiZcclxuICAgICAgICAgICAgICAgICAgICAhKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3REZWMucnZhbHVlLm5vZGVOYW1lID09PSBOb2RlVHlwZS5UWVBFX0RFRiAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3REZWMuaW5TY29wZS5nZXRFbmNsb3NpbmdTY29wZShTY29wZVR5cGUuVFlQRV9TQ09QRSlcclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICBtZXJnZShsaW5lc0RlYywgW1wicnZhbHVlOiBcIiArIG5vZGVOYW1lVG9TdHIoYXN0RGVjLnJ2YWx1ZSwgZm10KV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1lcmdlKGxpbmVzRGVjLCB0YWIoc3BhY2UoNCwgcmVjdXJzZShhc3REZWMucnZhbHVlLCBmbXQpKSkpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBtZXJnZShsaW5lc0RlYywgW1wicnZhbHVlOiBcIiArIGFwcGx5Rm10KGV4cHJUb1N0cihhc3REZWMucnZhbHVlKSwgZm10LCBBU1RGbXQuRVhQUkVTU0lPTl9GTVQpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGxpbmVzRGVjO1xyXG4gICAgICAgIGNhc2UgTm9kZVR5cGUuTU9EVUxFOlxyXG4gICAgICAgICAgICBsZXQgbGluZXNNb2Q6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgICAgIGxldCBhc3RNb2QgPSA8QVNUTW9kdWxlPmFzdE5vZGU7XHJcbiAgICAgICAgICAgIG1lcmdlKGxpbmVzTW9kLCBbXCJ3aXRoTW9kdWxlczogXCJdKTtcclxuICAgICAgICAgICAgbGV0IHdpdGhNb2RJbk1vZCA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFzdE1vZC53aXRoTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgd2l0aE1vZEluTW9kLnB1c2goYXBwbHlGbXQoZXhwclRvU3RyKGFzdE1vZC53aXRoTW9kdWxlc1tpXSksIGZtdCwgQVNURm10LldJVEhfTU9EVUxFX0ZNVCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1lcmdlKGxpbmVzTW9kLCBzcGFjZSg0LCB3aXRoTW9kSW5Nb2QpKTtcclxuICAgICAgICAgICAgbWVyZ2UobGluZXNNb2QsIFtcImRlY2xhcmF0aW9uczpcIl0pO1xyXG4gICAgICAgICAgICBtZXJnZShsaW5lc01vZCwgbGlzdChhc3RNb2QuZGVjbGFyYXRpb25zLCBmbXQpKTtcclxuICAgICAgICAgICAgcmV0dXJuIGxpbmVzTW9kO1xyXG4gICAgICAgIGNhc2UgTm9kZVR5cGUuVFlQRV9ERUY6XHJcbiAgICAgICAgICAgIGxldCBsaW5lc1R5cGVEZWY6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgICAgIGxldCBhc3RUeXBlRGVmID0gPEFTVFR5cGVEZWZpbml0aW9uPmFzdE5vZGU7XHJcbiAgICAgICAgICAgIG1lcmdlKGxpbmVzVHlwZURlZiwgW1wid2l0aE1vZHVsZXM6IFwiXSk7XHJcbiAgICAgICAgICAgIGxldCB3aXRoTW9kSW5UeXBlID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXN0VHlwZURlZi53aXRoTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgd2l0aE1vZEluVHlwZS5wdXNoKGFwcGx5Rm10KGV4cHJUb1N0cihhc3RUeXBlRGVmLndpdGhNb2R1bGVzW2ldKSwgZm10LCBBU1RGbXQuV0lUSF9NT0RVTEVfRk1UKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWVyZ2UobGluZXNUeXBlRGVmLCBzcGFjZSg0LCB3aXRoTW9kSW5UeXBlKSk7XHJcbiAgICAgICAgICAgIG1lcmdlKGxpbmVzVHlwZURlZiwgW1wiZGVjbGFyYXRpb25zOlwiXSk7XHJcbiAgICAgICAgICAgIG1lcmdlKGxpbmVzVHlwZURlZiwgbGlzdChhc3RUeXBlRGVmLmRlY2xhcmF0aW9ucywgZm10KSk7XHJcbiAgICAgICAgICAgIHJldHVybiBsaW5lc1R5cGVEZWY7XHJcbiAgICAgICAgY2FzZSBOb2RlVHlwZS5GVU5DVElPTjpcclxuICAgICAgICAgICAgbGV0IGxpbmVzRnVuYzogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICAgICAgbGV0IGFzdEZ1bmMgPSA8QVNURnVuY3Rpb24+YXN0Tm9kZTtcclxuICAgICAgICAgICAgbWVyZ2UobGluZXNGdW5jLCBbXCJwYXJhbURlY2xhcmF0aW9uOlwiXSk7XHJcbiAgICAgICAgICAgIGlmIChhc3RGdW5jLnBhcmFtRGVjbGFyYXRpb24pIHtcclxuICAgICAgICAgICAgICAgIG1lcmdlKGxpbmVzRnVuYywgbGlzdChhc3RGdW5jLnBhcmFtRGVjbGFyYXRpb24sIGZtdCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhc3RGdW5jLnJldHVyblR5cGUpIHtcclxuICAgICAgICAgICAgICAgIG1lcmdlKGxpbmVzRnVuYywgW1wicmV0dXJuVHlwZTogXCIgKyBhcHBseUZtdChleHByVG9TdHIoYXN0RnVuYy5yZXR1cm5UeXBlKSwgZm10LCBBU1RGbXQuVFlQRV9GTVQpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWVyZ2UobGluZXNGdW5jLCBbXCJibG9jazogXCIgKyBub2RlTmFtZVRvU3RyKGFzdEZ1bmMuYmxvY2ssIGZtdCldKTtcclxuICAgICAgICAgICAgbWVyZ2UobGluZXNGdW5jLCB0YWIoc3BhY2UoMywgcmVjdXJzZShhc3RGdW5jLmJsb2NrLCBmbXQpKSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gbGluZXNGdW5jO1xyXG4gICAgICAgIGNhc2UgTm9kZVR5cGUuQUNDRVNTX0NBU1Q6XHJcbiAgICAgICAgY2FzZSBOb2RlVHlwZS5UWVBFX0xJVEVSQUw6XHJcbiAgICAgICAgY2FzZSBOb2RlVHlwZS5GVU5DVElPTl9UWVBFOlxyXG4gICAgICAgIGNhc2UgTm9kZVR5cGUuTkFNRTpcclxuICAgICAgICBjYXNlIE5vZGVUeXBlLkRPVF9PUDpcclxuICAgICAgICBjYXNlIE5vZGVUeXBlLkNBTEw6XHJcbiAgICAgICAgY2FzZSBOb2RlVHlwZS5UWVBFX0NPTlNUUlVDVDpcclxuICAgICAgICBjYXNlIE5vZGVUeXBlLkxJVEVSQUw6XHJcbiAgICAgICAgY2FzZSBOb2RlVHlwZS5VTkFSWV9PUDpcclxuICAgICAgICBjYXNlIE5vZGVUeXBlLkJJTkFSWV9PUDpcclxuICAgICAgICAgICAgcmV0dXJuIFthcHBseUZtdChleHByVG9TdHIoPEFTVEV4cHJlc3Npb24+YXN0Tm9kZSksIGZtdCwgQVNURm10LkVYUFJFU1NJT05fRk1UKV07XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgdGhyb3cgXCJDYW4ndCByZWN1cnNpdmVseSBwcmludCB0cmVlIGJlY2F1c2UgZ2l2ZW4gbm9kZSBpcyBub3QgYW4gQVNUIG5vZGU6IFwiICsgYXN0Tm9kZS5jb25zdHJ1Y3Rvci5uYW1lO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcHJpbnRBU1QoYXN0Tm9kZTogQVNUTm9kZSkge1xyXG4gICAgbGV0IGZtdDogc3RyaW5nW10gPSBbXTtcclxuICAgIGxldCBvdXRBOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgbWVyZ2Uob3V0QSwgW25vZGVOYW1lVG9TdHIoYXN0Tm9kZSwgZm10KV0pO1xyXG4gICAgbWVyZ2Uob3V0QSwgcmVjdXJzZShhc3ROb2RlLCBmbXQpKTtcclxuXHJcbiAgICBsZXQgc3RyOiBzdHJpbmdbXSA9IFtvdXRBLmpvaW4oXCJcXG5cIildO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBzdHIucHVzaChmbXRbaV0pO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2cuYXBwbHkocHJpbnRBU1QsIHN0cik7XHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIE5vZGVUeXBlIHtcclxuICAgIFBST0dSQU0sXHJcbiAgICBCTE9DSyxcclxuXHJcbiAgICBJRixcclxuICAgIFdISUxFLFxyXG4gICAgRk9SLFxyXG4gICAgQlJFQUssXHJcbiAgICBDT05USU5VRSxcclxuICAgIFJFVFVSTixcclxuXHJcbiAgICBPUEVSQVRPUl9ERUYsXHJcbiAgICBERUNMQVJBVElPTixcclxuXHJcbiAgICBBQ0NFU1NfQ0FTVCxcclxuICAgIFRZUEVfTElURVJBTCxcclxuICAgIEZVTkNUSU9OX1RZUEUsXHJcbiAgICBPVkVSTE9BRF9GVU5DX1RZUEUsXHJcblxyXG4gICAgTU9EVUxFLFxyXG4gICAgVFlQRV9ERUYsXHJcbiAgICBGVU5DVElPTixcclxuXHJcbiAgICBOQU1FLFxyXG4gICAgRE9UX09QLFxyXG4gICAgQ0FMTCxcclxuICAgIFRZUEVfQ09OU1RSVUNULFxyXG5cclxuICAgIExJVEVSQUwsXHJcbiAgICBVTkFSWV9PUCxcclxuICAgIEJJTkFSWV9PUCxcclxufVxyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEFTVE5vZGUge1xyXG4gICAgbG9jVG9rZW46IFRva2VuO1xyXG4gICAgZW5kVG9rZW4hOiBUb2tlbjtcclxuICAgIG5vZGVOYW1lITogTm9kZVR5cGU7XHJcbiAgICBjb25zdHJ1Y3Rvcihsb2NUb2tlbjogVG9rZW4pIHtcclxuICAgICAgICB0aGlzLmxvY1Rva2VuID0gbG9jVG9rZW47XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBU1RQcm9ncmFtIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICBub2RlTmFtZSA9IE5vZGVUeXBlLlBST0dSQU07XHJcblxyXG4gICAgc2NvcGUhOiBTY29wZTtcclxuXHJcbiAgICB3aXRoTW9kdWxlcyE6IEFTVEV4cHJlc3Npb25bXTtcclxuICAgIGRlY2xhcmF0aW9ucyE6IEFTVERlY2xhcmF0aW9uW107XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBU1RCbG9jayBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgbm9kZU5hbWUgPSBOb2RlVHlwZS5CTE9DSztcclxuXHJcbiAgICBzY29wZSE6IFNjb3BlOyAvLyBUaGUgc2NvcGUgb2YgdGhlIGJsb2NrXHJcblxyXG4gICAgd2l0aE1vZHVsZXMhOiBBU1RFeHByZXNzaW9uW107XHJcbiAgICBzdGF0ZW1lbnRzITogQVNUU3RhdGVtZW50W107XHJcblxyXG4gICAgaGFzSnVtcCA9IGZhbHNlO1xyXG4gICAgaGFzUmV0dXJuID0gZmFsc2U7XHJcbn1cclxuXHJcbi8vU3RhdGVtZW50c1xyXG5leHBvcnQgdHlwZSBBU1RTdGF0ZW1lbnQgPVxyXG4gICAgfCBBU1RJZlxyXG4gICAgfCBBU1RXaGlsZVxyXG4gICAgfCBBU1RGb3JcclxuICAgIHwgQVNUQnJlYWtcclxuICAgIHwgQVNUQ29udGludWVcclxuICAgIHwgQVNUUmV0dXJuXHJcbiAgICB8IEFTVE9wZXJhdG9yRGVmaW5pdGlvblxyXG4gICAgfCBBU1REZWNsYXJhdGlvblxyXG4gICAgfCBBU1RFeHByZXNzaW9uO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFTVElmIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICBub2RlTmFtZSA9IE5vZGVUeXBlLklGO1xyXG5cclxuICAgIGhhc0p1bXAgPSBmYWxzZTsgLy8gV2hldGhlciBvciBub3QgdGhlIGlmIGNoYWluIGhhcyBjb250aW51ZXMvYnJlYWtzXHJcbiAgICBoYXNSZXR1cm4gPSBmYWxzZTsgLy8gV2hldGhlciBvciBub3QgdGhlIGlmIGNoYWluIGZ1bGx5IHJldHVybnNcclxuXHJcbiAgICBjb25kaXRpb24hOiBBU1RFeHByZXNzaW9uO1xyXG4gICAgY29uc2VxdWVuY2UhOiBBU1RCbG9jaztcclxuICAgIGFsdGVybmF0aXZlITogQVNUQmxvY2sgfCBBU1RJZjsgLy9DaGFpbiBpZiBzdGF0ZW1lbnRzIHRvZ2V0aGVyIHRvIGdldCBcImVsc2UgaWZcIiBzdGF0ZW1lbnRzXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBU1RXaGlsZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgbm9kZU5hbWUgPSBOb2RlVHlwZS5XSElMRTtcclxuXHJcbiAgICBjb25kaXRpb24hOiBBU1RFeHByZXNzaW9uO1xyXG4gICAgYmxvY2shOiBBU1RCbG9jaztcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFTVEZvciBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgbm9kZU5hbWUgPSBOb2RlVHlwZS5GT1I7XHJcblxyXG4gICAgaXRlbVBhcmFtRGVjITogQVNURGVjbGFyYXRpb247XHJcbiAgICBpbmRleFBhcmFtRGVjITogQVNURGVjbGFyYXRpb247XHJcblxyXG4gICAgLy9JbiBzdGF0ZW1lbnRcclxuICAgIGl0ZXJhYmxlTmFtZSE6IEFTVEV4cHJlc3Npb247IC8vIGFycmF5XHJcbiAgICBsb3dlckJvdW5kITogQVNURXhwcmVzc2lvbjtcclxuICAgIHVwcGVyQm91bmQhOiBBU1RFeHByZXNzaW9uO1xyXG5cclxuICAgIGJsb2NrITogQVNUQmxvY2s7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBU1RCcmVhayBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgbm9kZU5hbWUgPSBOb2RlVHlwZS5CUkVBSztcclxufVxyXG5leHBvcnQgY2xhc3MgQVNUQ29udGludWUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIG5vZGVOYW1lID0gTm9kZVR5cGUuQ09OVElOVUU7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBU1RSZXR1cm4gZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIG5vZGVOYW1lID0gTm9kZVR5cGUuUkVUVVJOO1xyXG5cclxuICAgIHJldHVyblZhbHVlITogQVNURXhwcmVzc2lvbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFTVE9wZXJhdG9yRGVmaW5pdGlvbiBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgbm9kZU5hbWUgPSBOb2RlVHlwZS5PUEVSQVRPUl9ERUY7XHJcblxyXG4gICAgb3BlcmF0b3JOYW1lITogVG9rZW47XHJcbiAgICBmdW5jdGlvbk92ZXJsb2FkITogQVNURnVuY3Rpb247XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBU1REZWNsYXJhdGlvbiBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgbm9kZU5hbWUgPSBOb2RlVHlwZS5ERUNMQVJBVElPTjtcclxuXHJcbiAgICBpblNjb3BlITogU2NvcGU7IC8vIFNjb3BlIHRoYXQgdGhlIGRlY2xhcmF0aW9uIGlzIGluXHJcblxyXG4gICAgaGFzVHlwZUNoZWNrZWQgPSBmYWxzZTtcclxuXHJcbiAgICBsdmFsdWUhOiBBU1RFeHByZXNzaW9uOyAvL1JlZmVyZW5jZSB0byB0aGUgdmFyaWFibGUgYmVpbmcgY2hhbmdlZFxyXG4gICAgdHlwZSE6IEFTVEV4cHJlc3Npb247XHJcblxyXG4gICAgaXNBc3NpZ25tZW50ID0gZmFsc2U7XHJcbiAgICBhY2Nlc3NBc3NpZ25tZW50ITogVG9rZW47IC8vRGVjbGFyYXRpb25BY2Nlc3NUb2tlbjsgLy9BbGwgdmFyaWFibGVzIGFyZSBpbW11dGFibGUgYnkgZGVmYXVsdFxyXG4gICAgcnZhbHVlITogQVNURXhwcmVzc2lvbjtcclxufVxyXG5cclxuLy9FeHByZXNzaW9uc1xyXG5leHBvcnQgdHlwZSBBU1RFeHByZXNzaW9uID1cclxuICAgIHwgQVNUQWNjZXNzQ2FzdFxyXG4gICAgfCBBU1RUeXBlTGl0ZXJhbFxyXG4gICAgfCBBU1RGdW5jdGlvblR5cGVcclxuICAgIHwgQVNUTW9kdWxlXHJcbiAgICB8IEFTVFR5cGVEZWZpbml0aW9uXHJcbiAgICB8IEFTVEZ1bmN0aW9uXHJcbiAgICB8IEFTVE5hbWVcclxuICAgIHwgQVNURG90T3BlcmF0b3JcclxuICAgIHwgQVNUQ2FsbFxyXG4gICAgfCBBU1RUeXBlQ29uc3RydWN0aW9uXHJcbiAgICB8IEFTVExpdGVyYWxcclxuICAgIHwgQVNUVW5hcnlPcGVyYXRvclxyXG4gICAgfCBBU1RCaW5hcnlPcGVyYXRvcjtcclxuXHJcbmV4cG9ydCB0eXBlIEFjY2Vzc0Nhc3RUb2tlbiA9IFRva2VuVHlwZS5NVVRfQ0FTVF9US04gfCBUb2tlblR5cGUuSU1NVVRfQ0FTVF9US04gfCBUb2tlblR5cGUuQ09OU1RfQ0FTVF9US047XHJcblxyXG5leHBvcnQgY2xhc3MgQVNUQWNjZXNzQ2FzdCBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgbm9kZU5hbWUgPSBOb2RlVHlwZS5BQ0NFU1NfQ0FTVDtcclxuICAgIHJlc29sdmVkITogQVNURXhwcmVzc2lvbjtcclxuXHJcbiAgICBhY2Nlc3NUeXBlITogQWNjZXNzQ2FzdFRva2VuO1xyXG4gICAgY2FzdGVkVHlwZSE6IEFTVEV4cHJlc3Npb247XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIFR5cGVMaXRlcmFsVG9rZW4gPVxyXG4gICAgfCBUb2tlblR5cGUuTU9EVUxFX1RLTlxyXG4gICAgfCBUb2tlblR5cGUuVFlQRV9US05cclxuICAgIHwgVG9rZW5UeXBlLk5VTV9UWVBFX1RLTlxyXG4gICAgfCBUb2tlblR5cGUuU1RSSU5HX1RZUEVfVEtOXHJcbiAgICB8IFRva2VuVHlwZS5CT09MX1RZUEVfVEtOXHJcbiAgICB8IFRva2VuVHlwZS5WT0lEX1RZUEVfVEtOO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFTVFR5cGVMaXRlcmFsIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICBub2RlTmFtZSA9IE5vZGVUeXBlLlRZUEVfTElURVJBTDtcclxuICAgIHJlc29sdmVkITogQVNURXhwcmVzc2lvbjtcclxuXHJcbiAgICAvL251bSwgc3RyaW5nLCBib29sLCB2b2lkXHJcbiAgICB0eXBlITogVHlwZUxpdGVyYWxUb2tlbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFTVEZ1bmN0aW9uVHlwZSBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgbm9kZU5hbWUgPSBOb2RlVHlwZS5GVU5DVElPTl9UWVBFO1xyXG4gICAgcmVzb2x2ZWQhOiBBU1RFeHByZXNzaW9uO1xyXG5cclxuICAgIGlucHV0VHlwZSE6IEFTVEV4cHJlc3Npb25bXTsgLy8gcGFyYW1ldGVyIHR5cGVzXHJcbiAgICBvdXRUeXBlITogQVNURXhwcmVzc2lvbjsgLy8gbnVtLCBzdHJpbmcsIGJvb2xlYW4sIHZlY3RvciwgUGFydGljbGUsIEFzdHJvbG9neS5TdGFyIGV0Yy4uLlxyXG59XHJcblxyXG4vLyBUeXBlIGNyZWF0ZWQgZHVyaW5nIHR5cGUgY2hlY2tpbmcgLT4gUGFyc2VyIGNhbid0IGNyZWF0ZSB0aGlzXHJcbmV4cG9ydCBjbGFzcyBBU1RPdmVybG9hZGVkRnVuY3Rpb25UeXBlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICBub2RlTmFtZSA9IE5vZGVUeXBlLk9WRVJMT0FEX0ZVTkNfVFlQRTtcclxuICAgIHJlc29sdmVkITogQVNURXhwcmVzc2lvbjtcclxuXHJcbiAgICBhY2Nlc3NpYmxlRnJvbVNjb3BlITogU2NvcGU7IC8vV2hlcmUgdGhlIHNldCBvZiBmdW5jdGlvbiBvdmVybG9hZHMgY2FuIGJlIGFjY2Vzc2VkIGZyb21cclxuICAgIGZ1bmNOYW1lUmVmITogQVNUTmFtZTsgLy9SZWZlcmVuY2UgYSBmdW5jdGlvbiB0byBwdWxsIG92ZXJsb2FkZWQgdHlwZXMgZnJvbVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQVNUTW9kdWxlIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICBub2RlTmFtZSA9IE5vZGVUeXBlLk1PRFVMRTtcclxuICAgIHJlc29sdmVkITogQVNURXhwcmVzc2lvbjtcclxuXHJcbiAgICBtb2R1bGVEZWNSZWYhOiBBU1REZWNsYXJhdGlvbjsgLy9SZWZlcmVuY2UgdG8gZGVjbGFyYXRpb24gaG9sZGluZyB0aGUgbW9kdWxlXHJcblxyXG4gICAgc2NvcGUhOiBTY29wZTtcclxuICAgIHdpdGhNb2R1bGVzITogQVNURXhwcmVzc2lvbltdO1xyXG4gICAgZGVjbGFyYXRpb25zITogQVNURGVjbGFyYXRpb25bXTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFTVFR5cGVEZWZpbml0aW9uIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICBub2RlTmFtZSA9IE5vZGVUeXBlLlRZUEVfREVGO1xyXG4gICAgcmVzb2x2ZWQhOiBBU1RFeHByZXNzaW9uO1xyXG5cclxuICAgIHR5cGVEZWNSZWYhOiBBU1REZWNsYXJhdGlvbjsgLy9SZWZlcmVuY2UgdG8gdGhlIGRlY2xhcmF0aW9uIGhvbGRpbmcgdGhlIHR5cGUgZGVmaW5pdGlvblxyXG5cclxuICAgIHNjb3BlITogU2NvcGU7XHJcbiAgICB3aXRoTW9kdWxlcyE6IEFTVEV4cHJlc3Npb25bXTtcclxuICAgIGRlY2xhcmF0aW9ucyE6IEFTVERlY2xhcmF0aW9uW107XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBU1RGdW5jdGlvbiBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgbm9kZU5hbWUgPSBOb2RlVHlwZS5GVU5DVElPTjtcclxuICAgIHJlc29sdmVkITogQVNURXhwcmVzc2lvbjtcclxuXHJcbiAgICBwYXJhbURlY2xhcmF0aW9uITogQVNURGVjbGFyYXRpb25bXTtcclxuICAgIHJldHVyblR5cGUhOiBBU1RFeHByZXNzaW9uO1xyXG4gICAgYmxvY2shOiBBU1RCbG9jaztcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFTVE5hbWUgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIG5vZGVOYW1lID0gTm9kZVR5cGUuTkFNRTtcclxuICAgIHJlc29sdmVkITogQVNURXhwcmVzc2lvbjtcclxuXHJcbiAgICByZWZOYW1lITogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQVNURG90T3BlcmF0b3IgZXh0ZW5kcyBBU1ROb2RlIHtcclxuICAgIG5vZGVOYW1lID0gTm9kZVR5cGUuRE9UX09QO1xyXG4gICAgcmVzb2x2ZWQhOiBBU1RFeHByZXNzaW9uO1xyXG5cclxuICAgIHJvb3RWYWx1ZSE6IEFTVEV4cHJlc3Npb247XHJcbiAgICBtZW1iZXJWYWx1ZSE6IEFTVE5hbWU7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBU1RDYWxsIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICBub2RlTmFtZSA9IE5vZGVUeXBlLkNBTEw7XHJcbiAgICByZXNvbHZlZCE6IEFTVEV4cHJlc3Npb247XHJcblxyXG4gICAgZnVuY3Rpb25OYW1lUmVmITogQVNURXhwcmVzc2lvbjsgLy9GdW5jdGlvbiBuYW1lIGlkZW50aWZpZXJcclxuICAgIGdpdmVuUGFyYW1zITogQVNURXhwcmVzc2lvbltdO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQVNUVHlwZUNvbnN0cnVjdGlvbiBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgbm9kZU5hbWUgPSBOb2RlVHlwZS5UWVBFX0NPTlNUUlVDVDtcclxuICAgIHJlc29sdmVkITogQVNURXhwcmVzc2lvbjtcclxuXHJcbiAgICB0eXBlUmVmITogQVNURXhwcmVzc2lvbjtcclxuICAgIGFzc2lnbm1lbnRzIToge1xyXG4gICAgICAgIGxvY1Rva2VuOiBUb2tlbjtcclxuXHJcbiAgICAgICAgbHZhbHVlOiBBU1ROYW1lO1xyXG4gICAgICAgIHJ2YWx1ZTogQVNURXhwcmVzc2lvbjtcclxuICAgIH1bXTsgLy8gQ29uc3RyYWluZWQgdG8gQVNUTmFtZSBsdmFsdWVzLCBndWFyYW50ZWVkIHRvIGJlIHVuaXF1ZSBhc3NpZ25tZW50c1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQVNUTGl0ZXJhbCBleHRlbmRzIEFTVE5vZGUge1xyXG4gICAgbm9kZU5hbWUgPSBOb2RlVHlwZS5MSVRFUkFMO1xyXG4gICAgcmVzb2x2ZWQhOiBBU1RFeHByZXNzaW9uO1xyXG5cclxuICAgIC8vIDY3LCBcInRoaXMgaXMgYSBsaXRlcmFsXCIsIHRydWVcclxuICAgIHZhbHVlITogVG9rZW47XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBBU1RVbmFyeU9wZXJhdG9yIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICBub2RlTmFtZSA9IE5vZGVUeXBlLlVOQVJZX09QO1xyXG4gICAgcmVzb2x2ZWQhOiBBU1RFeHByZXNzaW9uO1xyXG5cclxuICAgIC8vYSA9IH4oMyArIDQpXHJcbiAgICBvcGVyYXRpb24hOiBUb2tlbjtcclxuICAgIHZhbHVlITogQVNURXhwcmVzc2lvbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEFTVEJpbmFyeU9wZXJhdG9yIGV4dGVuZHMgQVNUTm9kZSB7XHJcbiAgICBub2RlTmFtZSA9IE5vZGVUeXBlLkJJTkFSWV9PUDtcclxuICAgIHJlc29sdmVkITogQVNURXhwcmVzc2lvbjtcclxuXHJcbiAgICAvLzMgKyA0XHJcbiAgICBsdmFsdWUhOiBBU1RFeHByZXNzaW9uO1xyXG4gICAgb3BlcmF0aW9uITogVG9rZW47XHJcbiAgICBydmFsdWUhOiBBU1RFeHByZXNzaW9uO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scuft/lang/Ast.ts\n");

/***/ }),

/***/ "./src/scuft/lang/ErrorHandler.ts":
/*!****************************************!*\
  !*** ./src/scuft/lang/ErrorHandler.ts ***!
  \****************************************/
/*! namespace exports */
/*! export ErrorHandler [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ErrorHandler\": () => /* binding */ ErrorHandler\n/* harmony export */ });\n/* harmony import */ var _Lexer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Lexer */ \"./src/scuft/lang/Lexer.ts\");\n/* harmony import */ var _Ast__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Ast */ \"./src/scuft/lang/Ast.ts\");\n\r\n\r\nclass ErrorHandler {\r\n    constructor(header) {\r\n        this.lines = [];\r\n        this.errorQueue = [];\r\n        this.header = header;\r\n    }\r\n    static fromHandler(header, errorHandler) {\r\n        let handler = new ErrorHandler(header);\r\n        handler.lines = errorHandler.lines;\r\n        return handler;\r\n    }\r\n    static fromSource(header, sourceCode) {\r\n        let handler = new ErrorHandler(header);\r\n        let begin = 0;\r\n        let lineCount = 1;\r\n        for (let i = 0; i < sourceCode.length; i++) {\r\n            if (sourceCode.charAt(i) === \"\\n\") {\r\n                handler.lines[lineCount++] = sourceCode.slice(begin, i);\r\n                begin = i + 1;\r\n            }\r\n        }\r\n        handler.lines[lineCount] = sourceCode.slice(begin, sourceCode.length);\r\n        return handler;\r\n    }\r\n    panic() {\r\n        let err = this.header;\r\n        for (let i = 0; i < this.errorQueue.length; i++) {\r\n            err += this.errorQueue[i];\r\n        }\r\n        throw err;\r\n    }\r\n    warn() {\r\n        let err = this.header;\r\n        for (let i = 0; i < this.errorQueue.length; i++) {\r\n            err += this.errorQueue[i];\r\n        }\r\n        console.warn(err);\r\n        this.errorQueue = [];\r\n    }\r\n    errorHeader(msg, line, c) {\r\n        let optionalCol = \"\";\r\n        if (c !== undefined) {\r\n            let str = this.lines[line].slice(0, c);\r\n            let col = 0;\r\n            for (let i = 0; i < str.length; i++) {\r\n                if (str.charAt(i) === \"\\t\") {\r\n                    col += ErrorHandler.TAB_WIDTH;\r\n                }\r\n                else {\r\n                    col++;\r\n                }\r\n            }\r\n            optionalCol = \", col:\" + (col + 1);\r\n        }\r\n        return \"(line:\" + line + optionalCol + \"): \" + msg + \"\\n\";\r\n    }\r\n    formatLine(leftIndentSpace, line, fileLine) {\r\n        if (line < 1)\r\n            return \"\";\r\n        let strNumber = line + \"\";\r\n        for (let i = 0; i < leftIndentSpace - strNumber.length; i++) {\r\n            strNumber = \" \" + strNumber;\r\n        }\r\n        return \"\\t\" + strNumber + \"\\t\" + fileLine + \"\\n\";\r\n    }\r\n    getLineFromSource(line) {\r\n        return this.lines[line].trimLeft().split(\"\\t\").join(\" \");\r\n    }\r\n    makeIndicator(line, c0, c1) {\r\n        console.assert(c0 >= 0, \"c0=%s must be non-negative\", c0);\r\n        console.assert(c1 > c0, \"c1=%s must be larger than c0=%s\", c1, c0);\r\n        let indentLen = this.lines[line].length - this.lines[line].trimLeft().length;\r\n        return \" \".repeat(c0 - indentLen) + \"^\".repeat(c1 - c0);\r\n    }\r\n    insert(msg) {\r\n        this.errorQueue.push(msg);\r\n        return this;\r\n    }\r\n    addNote_PANIC(msg) {\r\n        this.errorQueue.push(\"Note: \" + msg);\r\n        this.panic();\r\n    }\r\n    atPoint(msg, line, c) {\r\n        let error = this.errorHeader(msg, line, c);\r\n        let len = Math.floor(Math.log10(line + 1)) + 1;\r\n        error += this.formatLine(len, line - 1, \"\");\r\n        error += this.formatLine(len, line, this.getLineFromSource(line));\r\n        error += this.formatLine(len, line + 1, this.makeIndicator(line, c, c + 1));\r\n        this.errorQueue.push(error);\r\n        return this;\r\n    }\r\n    atPoint_PANIC(msg, line, c) {\r\n        this.atPoint(msg, line, c);\r\n        this.panic();\r\n    }\r\n    atToken(msg, token) {\r\n        return this.atPoint(msg, token.line, token.c);\r\n    }\r\n    atToken_PANIC(msg, token) {\r\n        this.atPoint_PANIC(msg, token.line, token.c);\r\n    }\r\n    atWholeToken(msg, token) {\r\n        let line = token.line;\r\n        let c = token.c;\r\n        let error = this.errorHeader(msg, line, c);\r\n        let len = Math.floor(Math.log10(line + 1)) + 1;\r\n        error += this.formatLine(len, line - 1, \"\");\r\n        error += this.formatLine(len, line, this.getLineFromSource(line));\r\n        error += this.formatLine(len, line + 1, this.makeIndicator(line, c, c + Math.max(1, token.stringValue.length)));\r\n        this.errorQueue.push(error);\r\n        return this;\r\n    }\r\n    atWholeToken_PANIC(msg, token) {\r\n        this.atWholeToken(msg, token);\r\n        this.panic();\r\n    }\r\n    atNode(msg, node) {\r\n        return this.atToken(msg, node.locToken);\r\n    }\r\n    atNode_PANIC(msg, node) {\r\n        this.atToken_PANIC(msg, node.locToken);\r\n    }\r\n    atWholeNode(msg, node) {\r\n        let locToken = node.locToken;\r\n        if (node.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_1__.NodeType.BINARY_OP) {\r\n            locToken = node.operation;\r\n        }\r\n        let line = locToken.line;\r\n        let c = locToken.c;\r\n        let endToken = node.endToken && node.endToken.line === line ? node.endToken : locToken;\r\n        let error = this.errorHeader(msg, line, c);\r\n        let len = Math.floor(Math.log10(line + 1)) + 1;\r\n        error += this.formatLine(len, line - 1, \"\");\r\n        error += this.formatLine(len, line, this.getLineFromSource(line));\r\n        error += this.formatLine(len, line + 1, this.makeIndicator(line, c, endToken.c + endToken.stringValue.length));\r\n        this.errorQueue.push(error);\r\n        return this;\r\n    }\r\n    atWholeNode_PANIC(msg, node) {\r\n        this.atWholeNode(msg, node);\r\n        this.panic();\r\n    }\r\n    atAfterLastToken(msg, curToken) {\r\n        let curLine = curToken.line;\r\n        let curLineStr = this.lines[curLine];\r\n        let cur = curToken.c;\r\n        do {\r\n            if (cur <= 0 && curLine > 1) {\r\n                curLine--;\r\n                curLineStr = this.lines[curLine];\r\n                cur = curLineStr.length;\r\n            }\r\n            cur--;\r\n        } while ((cur > 0 || curLine >= 1) && _Lexer__WEBPACK_IMPORTED_MODULE_0__.default.isWhitespace(curLineStr.charAt(cur)));\r\n        return this.atPoint(msg, curLine, cur + 1);\r\n    }\r\n    atAfterLastToken_PANIC(msg, curToken) {\r\n        this.atAfterLastToken(msg, curToken);\r\n        this.panic();\r\n    }\r\n}\r\nErrorHandler.TAB_WIDTH = 4;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3VmdC8uL3NyYy9zY3VmdC9sYW5nL0Vycm9ySGFuZGxlci50cz9mNGY1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUM0QjtBQUNDO0FBRXRCLE1BQU0sWUFBWTtJQXNCckIsWUFBb0IsTUFBYztRQUQxQixVQUFLLEdBQWEsRUFBRSxDQUFDO1FBSXJCLGVBQVUsR0FBYSxFQUFFLENBQUM7UUFGOUIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7SUFDekIsQ0FBQztJQXZCRCxNQUFNLENBQUMsV0FBVyxDQUFDLE1BQWMsRUFBRSxZQUEwQjtRQUN6RCxJQUFJLE9BQU8sR0FBRyxJQUFJLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN2QyxPQUFPLENBQUMsS0FBSyxHQUFHLFlBQVksQ0FBQyxLQUFLLENBQUM7UUFDbkMsT0FBTyxPQUFPLENBQUM7SUFDbkIsQ0FBQztJQUNELE1BQU0sQ0FBQyxVQUFVLENBQUMsTUFBYyxFQUFFLFVBQWtCO1FBQ2hELElBQUksT0FBTyxHQUFHLElBQUksWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3ZDLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNkLElBQUksU0FBUyxHQUFHLENBQUMsQ0FBQztRQUNsQixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsVUFBVSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUN4QyxJQUFJLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEtBQUssSUFBSSxFQUFFO2dCQUMvQixPQUFPLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxDQUFDLEdBQUcsVUFBVSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7Z0JBQ3hELEtBQUssR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2FBQ2pCO1NBQ0o7UUFDRCxPQUFPLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLFVBQVUs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QUUsSUFBaUI7UUFDNUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ2pCLENBQUM7SUFDRCxnQkFBZ0IsQ0FBQyxHQUFXLEVBQUUsUUFBZTtRQUN6QyxJQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDO1FBQzVCLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDckMsSUFBSSxHQUFHLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQztRQUNyQixHQUFHO1lBQ0MsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLE9BQU8sR0FBRyxDQUFDLEVBQUU7Z0JBQ3pCLE9BQU8sRUFBRSxDQUFDO2dCQUNWLFVBQVUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO2dCQUNqQyxHQUFHLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQzthQUMzQjtZQUNELEdBQUcsRUFBRSxDQUFDO1NBQ1QsUUFBUSxDQUFDLEdBQUcsR0FBRyxDQUFDLElBQUksT0FBTyxJQUFJLENBQUMsQ0FBQyxJQUFJLHdEQUFrQixDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRTtRQUNsRixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLE9BQU8sRUFBRSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUNELHNCQUFzQixDQUFDLEdBQVcsRUFBRSxRQUFlO1FBQy9DLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDckMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ2pCLENBQUM7O0FBNUl1QixzQkFBUyxHQUFHLENBQUMsQ0FBQyIsImZpbGUiOiIuL3NyYy9zY3VmdC9sYW5nL0Vycm9ySGFuZGxlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRva2VuIH0gZnJvbSBcIi4vVG9rZW5cIjtcclxuaW1wb3J0IExleGVyIGZyb20gXCIuL0xleGVyXCI7XHJcbmltcG9ydCAqIGFzIEFTVCBmcm9tIFwiLi9Bc3RcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBFcnJvckhhbmRsZXIge1xyXG4gICAgc3RhdGljIGZyb21IYW5kbGVyKGhlYWRlcjogc3RyaW5nLCBlcnJvckhhbmRsZXI6IEVycm9ySGFuZGxlcik6IEVycm9ySGFuZGxlciB7XHJcbiAgICAgICAgbGV0IGhhbmRsZXIgPSBuZXcgRXJyb3JIYW5kbGVyKGhlYWRlcik7XHJcbiAgICAgICAgaGFuZGxlci5saW5lcyA9IGVycm9ySGFuZGxlci5saW5lcztcclxuICAgICAgICByZXR1cm4gaGFuZGxlcjtcclxuICAgIH1cclxuICAgIHN0YXRpYyBmcm9tU291cmNlKGhlYWRlcjogc3RyaW5nLCBzb3VyY2VDb2RlOiBzdHJpbmcpOiBFcnJvckhhbmRsZXIge1xyXG4gICAgICAgIGxldCBoYW5kbGVyID0gbmV3IEVycm9ySGFuZGxlcihoZWFkZXIpO1xyXG4gICAgICAgIGxldCBiZWdpbiA9IDA7XHJcbiAgICAgICAgbGV0IGxpbmVDb3VudCA9IDE7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2VDb2RlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChzb3VyY2VDb2RlLmNoYXJBdChpKSA9PT0gXCJcXG5cIikge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlci5saW5lc1tsaW5lQ291bnQrK10gPSBzb3VyY2VDb2RlLnNsaWNlKGJlZ2luLCBpKTtcclxuICAgICAgICAgICAgICAgIGJlZ2luID0gaSArIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaGFuZGxlci5saW5lc1tsaW5lQ291bnRdID0gc291cmNlQ29kZS5zbGljZShiZWdpbiwgc291cmNlQ29kZS5sZW5ndGgpO1xyXG4gICAgICAgIHJldHVybiBoYW5kbGVyO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgcmVhZG9ubHkgVEFCX1dJRFRIID0gNDtcclxuICAgIHByaXZhdGUgaGVhZGVyOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIGxpbmVzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcihoZWFkZXI6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuaGVhZGVyID0gaGVhZGVyO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBlcnJvclF1ZXVlOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgcGFuaWMoKTogbmV2ZXIge1xyXG4gICAgICAgIGxldCBlcnIgPSB0aGlzLmhlYWRlcjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZXJyb3JRdWV1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBlcnIgKz0gdGhpcy5lcnJvclF1ZXVlW2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICB9XHJcbiAgICB3YXJuKCkge1xyXG4gICAgICAgIGxldCBlcnIgPSB0aGlzLmhlYWRlcjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZXJyb3JRdWV1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBlcnIgKz0gdGhpcy5lcnJvclF1ZXVlW2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLndhcm4oZXJyKTtcclxuICAgICAgICB0aGlzLmVycm9yUXVldWUgPSBbXTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgZXJyb3JIZWFkZXIobXNnOiBzdHJpbmcsIGxpbmU6IG51bWJlciwgYz86IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICAgICAgbGV0IG9wdGlvbmFsQ29sID0gXCJcIjtcclxuICAgICAgICBpZiAoYyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGxldCBzdHIgPSB0aGlzLmxpbmVzW2xpbmVdLnNsaWNlKDAsIGMpO1xyXG4gICAgICAgICAgICBsZXQgY29sID0gMDtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChzdHIuY2hhckF0KGkpID09PSBcIlxcdFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sICs9IEVycm9ySGFuZGxlci5UQUJfV0lEVEg7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wdGlvbmFsQ29sID0gXCIsIGNvbDpcIiArIChjb2wgKyAxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFwiKGxpbmU6XCIgKyBsaW5lICsgb3B0aW9uYWxDb2wgKyBcIik6IFwiICsgbXNnICsgXCJcXG5cIjtcclxuICAgIH1cclxuICAgIHByaXZhdGUgZm9ybWF0TGluZShsZWZ0SW5kZW50U3BhY2U6IG51bWJlciwgbGluZTogbnVtYmVyLCBmaWxlTGluZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAobGluZSA8IDEpIHJldHVybiBcIlwiO1xyXG4gICAgICAgIGxldCBzdHJOdW1iZXIgPSBsaW5lICsgXCJcIjtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlZnRJbmRlbnRTcGFjZSAtIHN0ck51bWJlci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBzdHJOdW1iZXIgPSBcIiBcIiArIHN0ck51bWJlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFwiXFx0XCIgKyBzdHJOdW1iZXIgKyBcIlxcdFwiICsgZmlsZUxpbmUgKyBcIlxcblwiO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBnZXRMaW5lRnJvbVNvdXJjZShsaW5lOiBudW1iZXIpOiBzdHJpbmcge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVzW2xpbmVdLnRyaW1MZWZ0KCkuc3BsaXQoXCJcXHRcIikuam9pbihcIiBcIik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIG1ha2VJbmRpY2F0b3IobGluZTogbnVtYmVyLCBjMDogbnVtYmVyLCBjMTogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgICAgICBjb25zb2xlLmFzc2VydChjMCA+PSAwLCBcImMwPSVzIG11c3QgYmUgbm9uLW5lZ2F0aXZlXCIsIGMwKTtcclxuICAgICAgICBjb25zb2xlLmFzc2VydChjMSA+IGMwLCBcImMxPSVzIG11c3QgYmUgbGFyZ2VyIHRoYW4gYzA9JXNcIiwgYzEsIGMwKTtcclxuICAgICAgICBsZXQgaW5kZW50TGVuID0gdGhpcy5saW5lc1tsaW5lXS5sZW5ndGggLSB0aGlzLmxpbmVzW2xpbmVdLnRyaW1MZWZ0KCkubGVuZ3RoO1xyXG4gICAgICAgIHJldHVybiBcIiBcIi5yZXBlYXQoYzAgLSBpbmRlbnRMZW4pICsgXCJeXCIucmVwZWF0KGMxIC0gYzApO1xyXG4gICAgfVxyXG4gICAgaW5zZXJ0KG1zZzogc3RyaW5nKTogRXJyb3JIYW5kbGVyIHtcclxuICAgICAgICB0aGlzLmVycm9yUXVldWUucHVzaChtc2cpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgYWRkTm90ZV9QQU5JQyhtc2c6IHN0cmluZyk6IG5ldmVyIHtcclxuICAgICAgICB0aGlzLmVycm9yUXVldWUucHVzaChcIk5vdGU6IFwiICsgbXNnKTtcclxuICAgICAgICB0aGlzLnBhbmljKCk7XHJcbiAgICB9XHJcbiAgICBhdFBvaW50KG1zZzogc3RyaW5nLCBsaW5lOiBudW1iZXIsIGM6IG51bWJlcik6IEVycm9ySGFuZGxlciB7XHJcbiAgICAgICAgbGV0IGVycm9yID0gdGhpcy5lcnJvckhlYWRlcihtc2csIGxpbmUsIGMpO1xyXG4gICAgICAgIGxldCBsZW4gPSBNYXRoLmZsb29yKE1hdGgubG9nMTAobGluZSArIDEpKSArIDE7XHJcbiAgICAgICAgZXJyb3IgKz0gdGhpcy5mb3JtYXRMaW5lKGxlbiwgbGluZSAtIDEsIFwiXCIpO1xyXG4gICAgICAgIGVycm9yICs9IHRoaXMuZm9ybWF0TGluZShsZW4sIGxpbmUsIHRoaXMuZ2V0TGluZUZyb21Tb3VyY2UobGluZSkpO1xyXG4gICAgICAgIGVycm9yICs9IHRoaXMuZm9ybWF0TGluZShsZW4sIGxpbmUgKyAxLCB0aGlzLm1ha2VJbmRpY2F0b3IobGluZSwgYywgYyArIDEpKTtcclxuICAgICAgICB0aGlzLmVycm9yUXVldWUucHVzaChlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICBhdFBvaW50X1BBTklDKG1zZzogc3RyaW5nLCBsaW5lOiBudW1iZXIsIGM6IG51bWJlcik6IG5ldmVyIHtcclxuICAgICAgICB0aGlzLmF0UG9pbnQobXNnLCBsaW5lLCBjKTtcclxuICAgICAgICB0aGlzLnBhbmljKCk7XHJcbiAgICB9XHJcbiAgICBhdFRva2VuKG1zZzogc3RyaW5nLCB0b2tlbjogVG9rZW4pOiBFcnJvckhhbmRsZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF0UG9pbnQobXNnLCB0b2tlbi5saW5lLCB0b2tlbi5jKTtcclxuICAgIH1cclxuICAgIGF0VG9rZW5fUEFOSUMobXNnOiBzdHJpbmcsIHRva2VuOiBUb2tlbik6IG5ldmVyIHtcclxuICAgICAgICB0aGlzLmF0UG9pbnRfUEFOSUMobXNnLCB0b2tlbi5saW5lLCB0b2tlbi5jKTtcclxuICAgIH1cclxuICAgIGF0V2hvbGVUb2tlbihtc2c6IHN0cmluZywgdG9rZW46IFRva2VuKTogRXJyb3JIYW5kbGVyIHtcclxuICAgICAgICBsZXQgbGluZSA9IHRva2VuLmxpbmU7XHJcbiAgICAgICAgbGV0IGMgPSB0b2tlbi5jO1xyXG4gICAgICAgIGxldCBlcnJvciA9IHRoaXMuZXJyb3JIZWFkZXIobXNnLCBsaW5lLCBjKTtcclxuICAgICAgICBsZXQgbGVuID0gTWF0aC5mbG9vcihNYXRoLmxvZzEwKGxpbmUgKyAxKSkgKyAxO1xyXG4gICAgICAgIGVycm9yICs9IHRoaXMuZm9ybWF0TGluZShsZW4sIGxpbmUgLSAxLCBcIlwiKTtcclxuICAgICAgICBlcnJvciArPSB0aGlzLmZvcm1hdExpbmUobGVuLCBsaW5lLCB0aGlzLmdldExpbmVGcm9tU291cmNlKGxpbmUpKTtcclxuICAgICAgICBlcnJvciArPSB0aGlzLmZvcm1hdExpbmUobGVuLCBsaW5lICsgMSwgdGhpcy5tYWtlSW5kaWNhdG9yKGxpbmUsIGMsIGMgKyBNYXRoLm1heCgxLCB0b2tlbi5zdHJpbmdWYWx1ZS5sZW5ndGgpKSk7XHJcbiAgICAgICAgdGhpcy5lcnJvclF1ZXVlLnB1c2goZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgYXRXaG9sZVRva2VuX1BBTklDKG1zZzogc3RyaW5nLCB0b2tlbjogVG9rZW4pOiBuZXZlciB7XHJcbiAgICAgICAgdGhpcy5hdFdob2xlVG9rZW4obXNnLCB0b2tlbik7XHJcbiAgICAgICAgdGhpcy5wYW5pYygpO1xyXG4gICAgfVxyXG4gICAgYXROb2RlKG1zZzogc3RyaW5nLCBub2RlOiBBU1QuQVNUTm9kZSk6IEVycm9ySGFuZGxlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXRUb2tlbihtc2csIG5vZGUubG9jVG9rZW4pO1xyXG4gICAgfVxyXG4gICAgYXROb2RlX1BBTklDKG1zZzogc3RyaW5nLCBub2RlOiBBU1QuQVNUTm9kZSk6IG5ldmVyIHtcclxuICAgICAgICB0aGlzLmF0VG9rZW5fUEFOSUMobXNnLCBub2RlLmxvY1Rva2VuKTtcclxuICAgIH1cclxuICAgIGF0V2hvbGVOb2RlKG1zZzogc3RyaW5nLCBub2RlOiBBU1QuQVNUTm9kZSk6IEVycm9ySGFuZGxlciB7XHJcbiAgICAgICAgbGV0IGxvY1Rva2VuID0gbm9kZS5sb2NUb2tlbjtcclxuICAgICAgICBpZiAobm9kZS5ub2RlTmFtZSA9PT0gQVNULk5vZGVUeXBlLkJJTkFSWV9PUCkge1xyXG4gICAgICAgICAgICBsb2NUb2tlbiA9ICg8QVNULkFTVEJpbmFyeU9wZXJhdG9yPm5vZGUpLm9wZXJhdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGxpbmUgPSBsb2NUb2tlbi5saW5lO1xyXG4gICAgICAgIGxldCBjID0gbG9jVG9rZW4uYztcclxuICAgICAgICBsZXQgZW5kVG9rZW4gPSBub2RlLmVuZFRva2VuICYmIG5vZGUuZW5kVG9rZW4ubGluZSA9PT0gbGluZSA/IG5vZGUuZW5kVG9rZW4gOiBsb2NUb2tlbjtcclxuICAgICAgICBsZXQgZXJyb3IgPSB0aGlzLmVycm9ySGVhZGVyKG1zZywgbGluZSwgYyk7XHJcbiAgICAgICAgbGV0IGxlbiA9IE1hdGguZmxvb3IoTWF0aC5sb2cxMChsaW5lICsgMSkpICsgMTtcclxuICAgICAgICBlcnJvciArPSB0aGlzLmZvcm1hdExpbmUobGVuLCBsaW5lIC0gMSwgXCJcIik7XHJcbiAgICAgICAgZXJyb3IgKz0gdGhpcy5mb3JtYXRMaW5lKGxlbiwgbGluZSwgdGhpcy5nZXRMaW5lRnJvbVNvdXJjZShsaW5lKSk7XHJcbiAgICAgICAgZXJyb3IgKz0gdGhpcy5mb3JtYXRMaW5lKGxlbiwgbGluZSArIDEsIHRoaXMubWFrZUluZGljYXRvcihsaW5lLCBjLCBlbmRUb2tlbi5jICsgZW5kVG9rZW4uc3RyaW5nVmFsdWUubGVuZ3RoKSk7XHJcbiAgICAgICAgdGhpcy5lcnJvclF1ZXVlLnB1c2goZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgYXRXaG9sZU5vZGVfUEFOSUMobXNnOiBzdHJpbmcsIG5vZGU6IEFTVC5BU1ROb2RlKTogbmV2ZXIge1xyXG4gICAgICAgIHRoaXMuYXRXaG9sZU5vZGUobXNnLCBub2RlKTtcclxuICAgICAgICB0aGlzLnBhbmljKCk7XHJcbiAgICB9XHJcbiAgICBhdEFmdGVyTGFzdFRva2VuKG1zZzogc3RyaW5nLCBjdXJUb2tlbjogVG9rZW4pOiBFcnJvckhhbmRsZXIge1xyXG4gICAgICAgIGxldCBjdXJMaW5lID0gY3VyVG9rZW4ubGluZTtcclxuICAgICAgICBsZXQgY3VyTGluZVN0ciA9IHRoaXMubGluZXNbY3VyTGluZV07XHJcbiAgICAgICAgbGV0IGN1ciA9IGN1clRva2VuLmM7XHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICBpZiAoY3VyIDw9IDAgJiYgY3VyTGluZSA+IDEpIHtcclxuICAgICAgICAgICAgICAgIGN1ckxpbmUtLTtcclxuICAgICAgICAgICAgICAgIGN1ckxpbmVTdHIgPSB0aGlzLmxpbmVzW2N1ckxpbmVdO1xyXG4gICAgICAgICAgICAgICAgY3VyID0gY3VyTGluZVN0ci5sZW5ndGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3VyLS07XHJcbiAgICAgICAgfSB3aGlsZSAoKGN1ciA+IDAgfHwgY3VyTGluZSA+PSAxKSAmJiBMZXhlci5pc1doaXRlc3BhY2UoY3VyTGluZVN0ci5jaGFyQXQoY3VyKSkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF0UG9pbnQobXNnLCBjdXJMaW5lLCBjdXIgKyAxKTtcclxuICAgIH1cclxuICAgIGF0QWZ0ZXJMYXN0VG9rZW5fUEFOSUMobXNnOiBzdHJpbmcsIGN1clRva2VuOiBUb2tlbik6IG5ldmVyIHtcclxuICAgICAgICB0aGlzLmF0QWZ0ZXJMYXN0VG9rZW4obXNnLCBjdXJUb2tlbik7XHJcbiAgICAgICAgdGhpcy5wYW5pYygpO1xyXG4gICAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scuft/lang/ErrorHandler.ts\n");

/***/ }),

/***/ "./src/scuft/lang/Interpreter.ts":
/*!***************************************!*\
  !*** ./src/scuft/lang/Interpreter.ts ***!
  \***************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ Interpreter\n/* harmony export */ });\n/* harmony import */ var _Ast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Ast */ \"./src/scuft/lang/Ast.ts\");\n\r\nfunction printEnv(ctx) {\r\n    let out = \"\";\r\n    for (const [key, value] of ctx.values.entries()) {\r\n        out += key + \" ::: \" + value + \"\\n\";\r\n    }\r\n    console.log(out);\r\n}\r\nclass Interpreter {\r\n    interpProgram(prgm) {\r\n        let globalCtx = { parentCtx: undefined, values: new Map() };\r\n        for (let [key, value] of prgm.scope.table.entries()) {\r\n            if (value.rvalue)\r\n                globalCtx.values.set(key, this.interpExpression(value.rvalue, globalCtx));\r\n        }\r\n    }\r\n    interpBlock(block, ctx) {\r\n        for (let i = 0; i < block.statements.length; i++) {\r\n            this.interpStatement(block.statements[i], ctx);\r\n        }\r\n    }\r\n    interpStatement(stmt, ctx) {\r\n        switch (stmt.nodeName) {\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.DECLARATION:\r\n                this.interpDeclaration(stmt, ctx);\r\n        }\r\n    }\r\n    interpDeclaration(decl, ctx) {\r\n        if (decl.lvalue.nodeName !== _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.NAME)\r\n            throw \"Unimplemented declaration thing\";\r\n        if (decl.rvalue) {\r\n            let rvalue = decl.rvalue.resolved ? decl.rvalue.resolved : decl.rvalue;\r\n            ctx.values.set(decl.lvalue.refName, this.interpExpression(rvalue, ctx));\r\n        }\r\n    }\r\n    interpExpression(expr, ctx) {\r\n        switch (expr.nodeName) {\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.NAME:\r\n                let name = expr;\r\n                if (ctx.values.has(name.refName)) {\r\n                    return ctx.values.get(name.refName);\r\n                }\r\n                else {\r\n                    throw \"Not possible: variable not defined\";\r\n                }\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.LITERAL:\r\n                return expr.value.value;\r\n            default:\r\n                return \"undefined\";\r\n        }\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3VmdC8uL3NyYy9zY3VmdC9sYW5nL0ludGVycHJldGVyLnRzPzYwMWEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNkI7QUFXN0IsU0FBUyxRQUFRLENBQUMsR0FBWTtJQUMxQixJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUM7SUFDYixLQUFLLE1BQU0sQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLElBQUksR0FBRyxDQUFDLE1BQU0sQ0FBQyxPQUFPLEVBQUUsRUFBRTtRQUM3QyxHQUFHLElBQUksR0FBRyxHQUFHLE9BQU8sR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDO0tBQ3ZDO0lBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNyQixDQUFDO0FBRWMsTUFBTSxXQUFXO0lBQzVCLGFBQWEsQ0FBQyxJQUFvQjtRQUM5QixJQUFJLFNBQVMsR0FBRyxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLElBQUksR0FBRyxFQUFpQixFQUFFLENBQUM7UUFDM0UsS0FBSyxJQUFJLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxFQUFFO1lBQ2pELElBQUksS0FBSyxDQUFDLE1BQU07Z0JBQUUsU0FBUyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLFNBQVMsQ0FBQyxDQUFDLENBQUM7U0FDL0Y7SUFDTCxDQUFDO0lBQ08sV0FBVyxDQUFDLEtBQW1CLEVBQUUsR0FBWTtRQUNqRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDOUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQ2xEO0lBQ0wsQ0FBQztJQUNPLGVBQWUsQ0FBQyxJQUFzQixFQUFFLEdBQVk7UUFDeEQsUUFBUSxJQUFJLENBQUMsUUFBUSxFQUFFO1lBQ25CLEtBQUssc0RBQXdCO2dCQUN6QixJQUFJLENBQUMsaUJBQWlCLENBQXFCLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQztTQUM3RDtJQUNMLENBQUM7SUFDTyxpQkFBaUIsQ0FBQyxJQUF3QixFQUFFLEdBQVk7UUFDNUQsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsS0FBSywrQ0FBaUI7WUFBRSxNQUFNLGlDQUFpQyxDQUFDO1FBRXhGLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtZQUNiLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztZQUN2RSxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBZSxJQUFJLENBQUMsTUFBTyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7U0FDMUY7SUFDTCxDQUFDO0lBQ08sZ0JBQWdCLENBQUMsSUFBdUIsRUFBRSxHQUFZO1FBQzFELFFBQVEsSUFBSSxDQUFDLFFBQVEsRUFBRTtZQUNuQixLQUFLLCtDQUFpQjtnQkFDbEIsSUFBSSxJQUFJLEdBQWdCLElBQUksQ0FBQztnQkFDN0IsSUFBSSxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUU7b0JBQzlCLE9BQU8sR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBRSxDQUFDO2lCQUN4QztxQkFBTTtvQkFDSCxNQUFNLG9DQUFvQyxDQUFDO2lCQUM5QztZQUNMLEtBQUssa0RBQW9CO2dCQUNyQixPQUF3QixJQUFLLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQztZQUM5QztnQkFDSSxPQUFPLFdBQVcsQ0FBQztTQUMxQjtJQUNMLENBQUM7Q0FDSiIsImZpbGUiOiIuL3NyYy9zY3VmdC9sYW5nL0ludGVycHJldGVyLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQVNUIGZyb20gXCIuL0FzdFwiO1xyXG5cclxudHlwZSBWYWx1ZSA9IG51bWJlciB8IHN0cmluZyB8IGJvb2xlYW4gfCBJbnN0YW5jZTtcclxudHlwZSBDb250ZXh0ID0ge1xyXG4gICAgcGFyZW50Q3R4OiBDb250ZXh0IHwgdW5kZWZpbmVkO1xyXG4gICAgdmFsdWVzOiBNYXA8c3RyaW5nLCBWYWx1ZT47XHJcbn07XHJcbnR5cGUgSW5zdGFuY2UgPSB7XHJcbiAgICBjdHg6IENvbnRleHQ7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBwcmludEVudihjdHg6IENvbnRleHQpIHtcclxuICAgIGxldCBvdXQgPSBcIlwiO1xyXG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgY3R4LnZhbHVlcy5lbnRyaWVzKCkpIHtcclxuICAgICAgICBvdXQgKz0ga2V5ICsgXCIgOjo6IFwiICsgdmFsdWUgKyBcIlxcblwiO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2cob3V0KTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW50ZXJwcmV0ZXIge1xyXG4gICAgaW50ZXJwUHJvZ3JhbShwcmdtOiBBU1QuQVNUUHJvZ3JhbSkge1xyXG4gICAgICAgIGxldCBnbG9iYWxDdHggPSB7IHBhcmVudEN0eDogdW5kZWZpbmVkLCB2YWx1ZXM6IG5ldyBNYXA8c3RyaW5nLCBWYWx1ZT4oKSB9O1xyXG4gICAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBwcmdtLnNjb3BlLnRhYmxlLmVudHJpZXMoKSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUucnZhbHVlKSBnbG9iYWxDdHgudmFsdWVzLnNldChrZXksIHRoaXMuaW50ZXJwRXhwcmVzc2lvbih2YWx1ZS5ydmFsdWUsIGdsb2JhbEN0eCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgaW50ZXJwQmxvY2soYmxvY2s6IEFTVC5BU1RCbG9jaywgY3R4OiBDb250ZXh0KSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBibG9jay5zdGF0ZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW50ZXJwU3RhdGVtZW50KGJsb2NrLnN0YXRlbWVudHNbaV0sIGN0eCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBpbnRlcnBTdGF0ZW1lbnQoc3RtdDogQVNULkFTVFN0YXRlbWVudCwgY3R4OiBDb250ZXh0KSB7XHJcbiAgICAgICAgc3dpdGNoIChzdG10Lm5vZGVOYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQVNULk5vZGVUeXBlLkRFQ0xBUkFUSU9OOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcnBEZWNsYXJhdGlvbig8QVNULkFTVERlY2xhcmF0aW9uPnN0bXQsIGN0eCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBpbnRlcnBEZWNsYXJhdGlvbihkZWNsOiBBU1QuQVNURGVjbGFyYXRpb24sIGN0eDogQ29udGV4dCkge1xyXG4gICAgICAgIGlmIChkZWNsLmx2YWx1ZS5ub2RlTmFtZSAhPT0gQVNULk5vZGVUeXBlLk5BTUUpIHRocm93IFwiVW5pbXBsZW1lbnRlZCBkZWNsYXJhdGlvbiB0aGluZ1wiO1xyXG5cclxuICAgICAgICBpZiAoZGVjbC5ydmFsdWUpIHtcclxuICAgICAgICAgICAgbGV0IHJ2YWx1ZSA9IGRlY2wucnZhbHVlLnJlc29sdmVkID8gZGVjbC5ydmFsdWUucmVzb2x2ZWQgOiBkZWNsLnJ2YWx1ZTtcclxuICAgICAgICAgICAgY3R4LnZhbHVlcy5zZXQoKDxBU1QuQVNUTmFtZT5kZWNsLmx2YWx1ZSkucmVmTmFtZSwgdGhpcy5pbnRlcnBFeHByZXNzaW9uKHJ2YWx1ZSwgY3R4KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBpbnRlcnBFeHByZXNzaW9uKGV4cHI6IEFTVC5BU1RFeHByZXNzaW9uLCBjdHg6IENvbnRleHQpOiBWYWx1ZSB7XHJcbiAgICAgICAgc3dpdGNoIChleHByLm5vZGVOYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQVNULk5vZGVUeXBlLk5BTUU6XHJcbiAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IDxBU1QuQVNUTmFtZT5leHByO1xyXG4gICAgICAgICAgICAgICAgaWYgKGN0eC52YWx1ZXMuaGFzKG5hbWUucmVmTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3R4LnZhbHVlcy5nZXQobmFtZS5yZWZOYW1lKSE7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IFwiTm90IHBvc3NpYmxlOiB2YXJpYWJsZSBub3QgZGVmaW5lZFwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIEFTVC5Ob2RlVHlwZS5MSVRFUkFMOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICg8QVNULkFTVExpdGVyYWw+ZXhwcikudmFsdWUudmFsdWU7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJ1bmRlZmluZWRcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scuft/lang/Interpreter.ts\n");

/***/ }),

/***/ "./src/scuft/lang/Lexer.ts":
/*!*********************************!*\
  !*** ./src/scuft/lang/Lexer.ts ***!
  \*********************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ Lexer\n/* harmony export */ });\n/* harmony import */ var _ErrorHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ErrorHandler */ \"./src/scuft/lang/ErrorHandler.ts\");\n/* harmony import */ var _Token__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Token */ \"./src/scuft/lang/Token.ts\");\n\r\n\r\nclass Lexer {\r\n    constructor(sourceCode, errHandler) {\r\n        this.curIndex = 0;\r\n        this.curLine = 1;\r\n        this.curC = 0;\r\n        this.sourceCode = sourceCode;\r\n        this.err = _ErrorHandler__WEBPACK_IMPORTED_MODULE_0__.ErrorHandler.fromHandler(\"----Lexer----\\n\", errHandler);\r\n    }\r\n    lex() {\r\n        let tokens = [];\r\n        let token = this.nextToken();\r\n        while (token.type !== _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.END_TKN) {\r\n            tokens.push(token);\r\n            token = this.nextToken();\r\n        }\r\n        tokens.push(token);\r\n        return tokens;\r\n    }\r\n    getChar(index) {\r\n        return this.sourceCode.charAt(index);\r\n    }\r\n    getCurChar() {\r\n        return this.getChar(this.curIndex);\r\n    }\r\n    getNextChar() {\r\n        return this.getChar(this.curIndex + 1);\r\n    }\r\n    incrementCurIndex(amount) {\r\n        if (this.getCurChar() === \"\\n\") {\r\n            this.curLine++;\r\n            this.curC = -1;\r\n        }\r\n        this.curIndex += amount;\r\n        this.curC += amount;\r\n    }\r\n    nextToken() {\r\n        while (Lexer.isWhitespace(this.getCurChar())) {\r\n            this.incrementCurIndex(1);\r\n        }\r\n        if (this.curIndex >= this.sourceCode.length) {\r\n            let lastTkn = this.lastToken;\r\n            let tkn = this.grabToken(\"' '\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.END_TKN);\r\n            if (lastTkn) {\r\n                tkn.line = lastTkn.line;\r\n                tkn.c = lastTkn.c + lastTkn.stringValue.length;\r\n            }\r\n            return tkn;\r\n        }\r\n        switch (this.getCurChar()) {\r\n            case \">\":\r\n                if (this.getNextChar() === \"=\") {\r\n                    return this.grabToken(\">=\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_GREATER_THAN_EQUAL_TKN);\r\n                }\r\n                else if (this.getNextChar() === \">\" && this.getChar(this.curIndex + 2) === \">\") {\r\n                    return this.grabToken(\">>>\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BIN_SHIFT_ARITHMETIC_RIGHT_TKN);\r\n                }\r\n                else if (this.getNextChar() === \">\") {\r\n                    return this.grabToken(\">>\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BIN_SHIFT_ARITHMETIC_RIGHT_TKN);\r\n                }\r\n                else {\r\n                    return this.grabToken(\">\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_GREATER_THAN_TKN);\r\n                }\r\n            case \"<\":\r\n                switch (this.getNextChar()) {\r\n                    case \"=\":\r\n                        return this.grabToken(\"<=\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_LESS_THAN_EQUAL_TKN);\r\n                    case \"<\":\r\n                        return this.grabToken(\"<<\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BIN_SHIFT_LEFT_TKN);\r\n                    case \"-\":\r\n                        return this.grabToken(\"<-\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.REVERSE_ARROW_TKN);\r\n                    default:\r\n                        return this.grabToken(\"<\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_LESS_THAN_TKN);\r\n                }\r\n            case \":\":\r\n                return this.grabToken(\":\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COLON_TKN);\r\n            case \"=\":\r\n                switch (this.getNextChar()) {\r\n                    case \"=\":\r\n                        return this.grabToken(\"==\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_EQUALS_TKN);\r\n                    case \">\":\r\n                        return this.grabToken(\"=>\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.CONST_ASSIGNMENT_TKN);\r\n                    default:\r\n                        return this.grabToken(\"=\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.IMMUTABLE_ASSIGNMENT_TKN);\r\n                }\r\n            case \"{\":\r\n                return this.grabToken(\"{\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.LEFT_CURLY_TKN);\r\n            case \"}\":\r\n                return this.grabToken(\"}\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_CURLY_TKN);\r\n            case \"[\":\r\n                return this.grabToken(\"[\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.LEFT_SQUARE_TKN);\r\n            case \"]\":\r\n                return this.grabToken(\"]\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_SQUARE_TKN);\r\n            case \"(\":\r\n                return this.grabToken(\"(\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.LEFT_PARENS_TKN);\r\n            case \")\":\r\n                return this.grabToken(\")\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_PARENS_TKN);\r\n            case \"|\":\r\n                if (this.getNextChar() === \"|\") {\r\n                    return this.grabToken(\"||\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_OR_TKN);\r\n                }\r\n                else {\r\n                    return this.grabToken(\"|\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BIN_OR_TKN);\r\n                }\r\n            case \"&\":\r\n                if (this.getNextChar() === \"&\") {\r\n                    return this.grabToken(\"&&\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_AND_TKN);\r\n                }\r\n                else {\r\n                    return this.grabToken(\"&\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BIN_AND_TKN);\r\n                }\r\n            case \"$\":\r\n                if (this.getNextChar() === \"$\") {\r\n                    return this.grabToken(\"$$\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_XOR_TKN);\r\n                }\r\n                else {\r\n                    return this.grabToken(\"$\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BIN_XOR_TKN);\r\n                }\r\n            case \"!\":\r\n                if (this.getNextChar() === \"=\") {\r\n                    return this.grabToken(\"!=\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_NOT_EQUALS_TKN);\r\n                }\r\n                else {\r\n                    return this.grabToken(\"!\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_NOT_TKN);\r\n                }\r\n            case \"+\":\r\n                switch (this.getNextChar()) {\r\n                    case \"=\":\r\n                        return this.grabToken(\"+=\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.OP_ADD_EQUALS_TKN);\r\n                    case \"+\":\r\n                        return this.grabToken(\"++\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.OP_ADD_ADD_TKN);\r\n                    default:\r\n                        return this.grabToken(\"+\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.OP_ADD_TKN);\r\n                }\r\n            case \"-\":\r\n                switch (this.getNextChar()) {\r\n                    case \"=\":\r\n                        return this.grabToken(\"-=\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.OP_SUBTR_EQUALS_TKN);\r\n                    case \"-\":\r\n                        return this.grabToken(\"--\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.OP_SUBTR_SUBTR_TKN);\r\n                    case \">\":\r\n                        return this.grabToken(\"->\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.ARROW_TKN);\r\n                    default:\r\n                        return this.grabToken(\"-\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.OP_SUBTR_TKN);\r\n                }\r\n            case \"*\":\r\n                switch (this.getNextChar()) {\r\n                    case \"=\":\r\n                        return this.grabToken(\"*=\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.OP_MULT_EQUALS_TKN);\r\n                    case \"/\":\r\n                        this.err.atPoint_PANIC(\"Unclosed block comment\", this.curLine, this.curC);\r\n                    default:\r\n                        return this.grabToken(\"*\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.OP_MULT_TKN);\r\n                }\r\n            case \"/\":\r\n                switch (this.getNextChar()) {\r\n                    case \"/\":\r\n                        this.consumeSingleLineComment();\r\n                        return this.nextToken();\r\n                    case \"*\":\r\n                        this.consumeBlockComment();\r\n                        return this.nextToken();\r\n                    case \"=\":\r\n                        return this.grabToken(\"/=\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.OP_DIV_EQUALS_TKN);\r\n                    default:\r\n                        return this.grabToken(\"/\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.OP_DIVIDE_TKN);\r\n                }\r\n            case \"^\":\r\n                return this.grabToken(\"^\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.OP_CARROT_TKN);\r\n            case \"%\":\r\n                return this.grabToken(\"%\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.OP_MODULUS_TKN);\r\n            case \"~\":\r\n                if (this.getNextChar() == \"=\") {\r\n                    return this.grabToken(\"~=\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.MUTABLE_ASSIGNMENT_TKN);\r\n                }\r\n                else {\r\n                    return this.grabToken(\"~\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BIN_NOT_TKN);\r\n                }\r\n            case \".\":\r\n                if (this.getNextChar() === \".\" && this.getChar(this.curIndex + 2) === \".\") {\r\n                    return this.grabToken(\"...\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.ELLIPSIS_TKN);\r\n                }\r\n                else {\r\n                    return this.grabToken(\".\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.DOT_TKN);\r\n                }\r\n            case \"\\\\\":\r\n                return this.grabToken(\"\\\\\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BACKSLASH_TKN);\r\n            case \",\":\r\n                return this.grabToken(\",\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COMMA_TKN);\r\n            case \";\":\r\n                return this.grabToken(\";\", _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.SEMI_COLON_TKN);\r\n            case '\"':\r\n                return this.grabStringLiteral();\r\n            default:\r\n                if (Lexer.isLetter(this.getCurChar())) {\r\n                    return this.grabIdentifier();\r\n                }\r\n                else if (Lexer.isNumber(this.getCurChar())) {\r\n                    return this.grabNumericLiteral();\r\n                }\r\n                else if (this.getCurChar() === \"#\") {\r\n                    return this.grabDirective();\r\n                }\r\n                else {\r\n                    let unknown = this.grabToken(this.getCurChar(), _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.UNKNOWN_TKN);\r\n                    unknown.value = this.getCurChar();\r\n                    return unknown;\r\n                }\r\n        }\r\n    }\r\n    grabToken(str, type) {\r\n        this.incrementCurIndex(str.length);\r\n        return this.makeToken(str, type);\r\n    }\r\n    makeToken(str, type) {\r\n        let tkn = new _Token__WEBPACK_IMPORTED_MODULE_1__.Token(str, this.curLine, this.curC - str.length, type);\r\n        this.lastToken = tkn;\r\n        return tkn;\r\n    }\r\n    grabNumericLiteral() {\r\n        let stringValue = \"\";\r\n        let base = 10;\r\n        if (this.getCurChar() === \"0\") {\r\n            switch (this.getNextChar()) {\r\n                case \"b\":\r\n                    base = 2;\r\n                    stringValue = \"0b\";\r\n                    this.incrementCurIndex(2);\r\n                    break;\r\n                case \"o\":\r\n                    base = 8;\r\n                    stringValue = \"0o\";\r\n                    this.incrementCurIndex(2);\r\n                    break;\r\n                case \"x\":\r\n                    base = 16;\r\n                    stringValue = \"0x\";\r\n                    this.incrementCurIndex(2);\r\n                    break;\r\n            }\r\n        }\r\n        let number = 0;\r\n        let ch = this.getCurChar();\r\n        let point = false;\r\n        let divideBy = 1;\r\n        while (Lexer.isNumber(ch) || ch === \".\" || (base == 16 && Lexer.isHexLetter(ch))) {\r\n            stringValue += ch;\r\n            if (ch !== \"_\") {\r\n                if (ch === \".\") {\r\n                    if (point === false) {\r\n                        point = true;\r\n                        this.incrementCurIndex(1);\r\n                        ch = this.getCurChar();\r\n                        continue;\r\n                    }\r\n                    else {\r\n                        this.err.atPoint_PANIC('Number has too many decimal points \"' + number / divideBy + '.\"', this.curLine, this.curC);\r\n                    }\r\n                }\r\n                let val = Lexer.toInt(ch);\r\n                if (val < base) {\r\n                    number = base * number + val;\r\n                    if (point)\r\n                        divideBy = divideBy * base;\r\n                }\r\n                else {\r\n                    this.err.atPoint_PANIC(ch + \" is an invalid digit symbol in base \" + base, this.curLine, this.curC);\r\n                }\r\n            }\r\n            this.incrementCurIndex(1);\r\n            ch = this.getCurChar();\r\n        }\r\n        let value = number / divideBy;\r\n        let tkn = this.makeToken(stringValue, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.NUMERIC_LITERAL_TKN);\r\n        tkn.value = value;\r\n        return tkn;\r\n    }\r\n    grabStringLiteral() {\r\n        this.grabToken('\"', _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.DOUBLE_QUOTE_TKN);\r\n        let str = \"\";\r\n        let ch = this.getCurChar();\r\n        let escapeChar = false;\r\n        while (this.curIndex < this.sourceCode.length && ch !== \"\\n\" && (escapeChar || ch !== '\"')) {\r\n            if (!escapeChar || ch === '\"') {\r\n                str += ch;\r\n            }\r\n            if (ch === \"\\\\\") {\r\n                escapeChar = true;\r\n            }\r\n            else {\r\n                escapeChar = false;\r\n            }\r\n            this.incrementCurIndex(1);\r\n            ch = this.getCurChar();\r\n        }\r\n        if (this.curIndex >= this.sourceCode.length || ch === \"\\n\") {\r\n            this.err.atPoint_PANIC(\"Unterminated string literal\", this.curLine, this.curC - str.length - 1);\r\n        }\r\n        this.grabToken('\"', _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.DOUBLE_QUOTE_TKN);\r\n        let tkn = this.makeToken('\"' + str + '\"', _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.STRING_LITERAL_TKN);\r\n        tkn.value = str;\r\n        return tkn;\r\n    }\r\n    grabDirective() {\r\n        console.assert(this.getCurChar() === \"#\", \"Directives must start with #\");\r\n        this.incrementCurIndex(1);\r\n        let str = \"#\";\r\n        let ch = this.getCurChar();\r\n        while (Lexer.isLetter(ch) || Lexer.isNumber(ch)) {\r\n            this.incrementCurIndex(1);\r\n            str = str + ch;\r\n            ch = this.getCurChar();\r\n        }\r\n        switch (str) {\r\n            case \"#range\":\r\n                return this.makeToken(str, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.HASH_RANGE_TKN);\r\n            default:\r\n                return this.makeToken(str, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.UNKNOWN_TKN);\r\n        }\r\n    }\r\n    grabIdentifier() {\r\n        let str = \"\";\r\n        let ch = this.getCurChar();\r\n        while (Lexer.isLetter(ch) || Lexer.isNumber(ch)) {\r\n            this.incrementCurIndex(1);\r\n            str = str + ch;\r\n            ch = this.getCurChar();\r\n        }\r\n        switch (str) {\r\n            case \"type\":\r\n                return this.makeToken(str, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.TYPE_TKN);\r\n            case \"module\":\r\n                return this.makeToken(str, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.MODULE_TKN);\r\n            case \"with\":\r\n                return this.makeToken(str, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.WITH_TKN);\r\n            case \"if\":\r\n                return this.makeToken(str, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.IF_TKN);\r\n            case \"else\":\r\n                return this.makeToken(str, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.ELSE_TKN);\r\n            case \"while\":\r\n                return this.makeToken(str, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.WHILE_TKN);\r\n            case \"for\":\r\n                return this.makeToken(str, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.FOR_TKN);\r\n            case \"in\":\r\n                return this.makeToken(str, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.IN_TKN);\r\n            case \"break\":\r\n                return this.makeToken(str, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BREAK_TKN);\r\n            case \"continue\":\r\n                return this.makeToken(str, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.CONTINUE_TKN);\r\n            case \"true\":\r\n                return this.makeToken(str, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_TRUE_TKN);\r\n            case \"false\":\r\n                return this.makeToken(str, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_FALSE_TKN);\r\n            case \"mut\":\r\n                return this.makeToken(str, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.MUT_CAST_TKN);\r\n            case \"const\":\r\n                return this.makeToken(str, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.CONST_CAST_TKN);\r\n            case \"void\":\r\n                return this.makeToken(str, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.VOID_TYPE_TKN);\r\n            case \"num\":\r\n                return this.makeToken(str, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.NUM_TYPE_TKN);\r\n            case \"string\":\r\n                return this.makeToken(str, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.STRING_TYPE_TKN);\r\n            case \"bool\":\r\n                return this.makeToken(str, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BOOL_TYPE_TKN);\r\n            case \"return\":\r\n                return this.makeToken(str, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RETURN_TKN);\r\n            default:\r\n                return this.makeToken(str, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.IDENTIFIER_TKN);\r\n        }\r\n    }\r\n    consumeSingleLineComment() {\r\n        this.incrementCurIndex(2);\r\n        while (this.curIndex < this.sourceCode.length && this.getCurChar() !== \"\\n\") {\r\n            this.incrementCurIndex(1);\r\n        }\r\n    }\r\n    consumeBlockComment() {\r\n        let beginLine = this.curLine;\r\n        let beginC = this.curC;\r\n        this.incrementCurIndex(2);\r\n        while (this.curIndex < this.sourceCode.length && !(this.getCurChar() === \"*\" && this.getNextChar() === \"/\")) {\r\n            this.incrementCurIndex(1);\r\n        }\r\n        if (this.curIndex >= this.sourceCode.length) {\r\n            this.err\r\n                .atPoint(\"Beginning of the block comment is as follows\", beginLine, beginC)\r\n                .atPoint_PANIC(\"Unterminated block comment at the end of the file. Expected */\", this.curLine, this.curC);\r\n        }\r\n        this.incrementCurIndex(2);\r\n    }\r\n    static isWhitespace(ch) {\r\n        return ch === \" \" || ch === \"\\t\" || ch === \"\\r\" || ch === \"\\n\";\r\n    }\r\n    static isLetter(ch) {\r\n        let n = ch.charCodeAt(0);\r\n        return (n >= 65 && n < 91) || (n >= 97 && n < 123) || ch === \"'\" || ch === \"_\";\r\n    }\r\n    static isNumber(ch) {\r\n        let n = ch.charCodeAt(0);\r\n        return (n >= 48 && n <= 57) || ch === \"_\";\r\n    }\r\n    static isHexLetter(ch) {\r\n        let n = ch.charCodeAt(0);\r\n        return (n >= 65 && n < 71) || (n >= 97 && n < 103);\r\n    }\r\n    static toInt(ch) {\r\n        if (Lexer.isNumber(ch))\r\n            return parseInt(ch);\r\n        if (Lexer.isHexLetter(ch)) {\r\n            let val = ch.charCodeAt(0) - 65 + 10;\r\n            if (val <= 15)\r\n                return val;\r\n            return val - (97 - 65);\r\n        }\r\n        throw \"String is not assignable to any int value\";\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3VmdC8uL3NyYy9zY3VmdC9sYW5nL0xleGVyLnRzP2E3ZTYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQThDO0FBQ1M7QUFFeEMsTUFBTSxLQUFLO0lBTXRCLFlBQVksVUFBa0IsRUFBRSxVQUF3QjtRQUhoRCxhQUFRLEdBQUcsQ0FBQyxDQUFDO1FBQ2IsWUFBTyxHQUFHLENBQUMsQ0FBQztRQUNaLFNBQUksR0FBRyxDQUFDLENBQUM7UUFFYixJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztRQUM3QixJQUFJLENBQUMsR0FBRyxHQUFHLG1FQUF3QixDQUFDLGlCQUFpQixFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQ3ZFLENBQUM7SUFDRCxHQUFHO1FBQ0MsSUFBSSxNQUFNLEdBQVksRUFBRSxDQUFDO1FBQ3pCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUM3QixPQUFPLEtBQUssQ0FBQyxJQUFJLEtBQUsscURBQWlCLEVBQUU7WUFDckMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUNuQixLQUFLLEdBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1NBQzVCO1FBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuQixPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBQ08sT0FBTyxDQUFDLEtBQWE7UUFDekIsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBQ08sVUFBVTtRQUNkLE9BQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDdkMsQ0FBQztJQUNPLFdBQVc7UUFDZixPQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUMzQyxDQUFDO0lBQ08saUJBQWlCLENBQUMs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LENBQUMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksRUFBRSxLQUFLLEdBQUcsQ0FBQztJQUM5QyxDQUFDO0lBQ0QsTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUFVO1FBQ3pCLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDekIsT0FBTyxDQUFDLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQUNELE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBVTtRQUNuQixJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDO1lBQUUsT0FBTyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDNUMsSUFBSSxLQUFLLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxFQUFFO1lBQ3ZCLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztZQUNyQyxJQUFJLEdBQUcsSUFBSSxFQUFFO2dCQUFFLE9BQU8sR0FBRyxDQUFDO1lBQzFCLE9BQU8sR0FBRyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO1NBQzFCO1FBQ0QsTUFBTSwyQ0FBMkMsQ0FBQztJQUN0RCxDQUFDO0NBQ0oiLCJmaWxlIjoiLi9zcmMvc2N1ZnQvbGFuZy9MZXhlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVycm9ySGFuZGxlciB9IGZyb20gXCIuL0Vycm9ySGFuZGxlclwiO1xyXG5pbXBvcnQgeyBUb2tlbiwgVG9rZW5UeXBlLCB0b2tlblRvU3RyIH0gZnJvbSBcIi4vVG9rZW5cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExleGVyIHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgZXJyOiBFcnJvckhhbmRsZXI7XHJcbiAgICBwcml2YXRlIHJlYWRvbmx5IHNvdXJjZUNvZGU6IHN0cmluZztcclxuICAgIHByaXZhdGUgY3VySW5kZXggPSAwO1xyXG4gICAgcHJpdmF0ZSBjdXJMaW5lID0gMTtcclxuICAgIHByaXZhdGUgY3VyQyA9IDA7XHJcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2VDb2RlOiBzdHJpbmcsIGVyckhhbmRsZXI6IEVycm9ySGFuZGxlcikge1xyXG4gICAgICAgIHRoaXMuc291cmNlQ29kZSA9IHNvdXJjZUNvZGU7XHJcbiAgICAgICAgdGhpcy5lcnIgPSBFcnJvckhhbmRsZXIuZnJvbUhhbmRsZXIoXCItLS0tTGV4ZXItLS0tXFxuXCIsIGVyckhhbmRsZXIpO1xyXG4gICAgfVxyXG4gICAgbGV4KCk6IFRva2VuW10ge1xyXG4gICAgICAgIGxldCB0b2tlbnM6IFRva2VuW10gPSBbXTtcclxuICAgICAgICBsZXQgdG9rZW4gPSB0aGlzLm5leHRUb2tlbigpO1xyXG4gICAgICAgIHdoaWxlICh0b2tlbi50eXBlICE9PSBUb2tlblR5cGUuRU5EX1RLTikge1xyXG4gICAgICAgICAgICB0b2tlbnMucHVzaCh0b2tlbik7XHJcbiAgICAgICAgICAgIHRva2VuID0gdGhpcy5uZXh0VG9rZW4oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xyXG4gICAgICAgIHJldHVybiB0b2tlbnM7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGdldENoYXIoaW5kZXg6IG51bWJlcik6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlQ29kZS5jaGFyQXQoaW5kZXgpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBnZXRDdXJDaGFyKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hhcih0aGlzLmN1ckluZGV4KTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgZ2V0TmV4dENoYXIoKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGFyKHRoaXMuY3VySW5kZXggKyAxKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgaW5jcmVtZW50Q3VySW5kZXgoYW1vdW50OiBudW1iZXIpIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRDdXJDaGFyKCkgPT09IFwiXFxuXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJMaW5lKys7XHJcbiAgICAgICAgICAgIHRoaXMuY3VyQyA9IC0xO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmN1ckluZGV4ICs9IGFtb3VudDtcclxuICAgICAgICB0aGlzLmN1ckMgKz0gYW1vdW50O1xyXG4gICAgfVxyXG4gICAgbmV4dFRva2VuKCk6IFRva2VuIHtcclxuICAgICAgICAvL0NsZWFyIFdoaXRlc3BhY2VcclxuICAgICAgICB3aGlsZSAoTGV4ZXIuaXNXaGl0ZXNwYWNlKHRoaXMuZ2V0Q3VyQ2hhcigpKSkge1xyXG4gICAgICAgICAgICB0aGlzLmluY3JlbWVudEN1ckluZGV4KDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9SZXR1cm4gZW5kIHRva2VuIGlmIGVuZCBvZiBzdHJpbmcgaW5wdXQgcmVhY2hlZFxyXG4gICAgICAgIGlmICh0aGlzLmN1ckluZGV4ID49IHRoaXMuc291cmNlQ29kZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbGV0IGxhc3RUa24gPSB0aGlzLmxhc3RUb2tlbjtcclxuICAgICAgICAgICAgbGV0IHRrbiA9IHRoaXMuZ3JhYlRva2VuKFwiJyAnXCIsIFRva2VuVHlwZS5FTkRfVEtOKTtcclxuICAgICAgICAgICAgaWYgKGxhc3RUa24pIHtcclxuICAgICAgICAgICAgICAgIHRrbi5saW5lID0gbGFzdFRrbi5saW5lO1xyXG4gICAgICAgICAgICAgICAgdGtuLmMgPSBsYXN0VGtuLmMgKyBsYXN0VGtuLnN0cmluZ1ZhbHVlLmxlbmd0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGtuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3dpdGNoICh0aGlzLmdldEN1ckNoYXIoKSkge1xyXG4gICAgICAgICAgICAvL1N0YXRlbWVudHNcclxuICAgICAgICAgICAgY2FzZSBcIj5cIjpcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldE5leHRDaGFyKCkgPT09IFwiPVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhYlRva2VuKFwiPj1cIiwgVG9rZW5UeXBlLkNPTkRfR1JFQVRFUl9USEFOX0VRVUFMX1RLTik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZ2V0TmV4dENoYXIoKSA9PT0gXCI+XCIgJiYgdGhpcy5nZXRDaGFyKHRoaXMuY3VySW5kZXggKyAyKSA9PT0gXCI+XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ncmFiVG9rZW4oXCI+Pj5cIiwgVG9rZW5UeXBlLkJJTl9TSElGVF9BUklUSE1FVElDX1JJR0hUX1RLTik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZ2V0TmV4dENoYXIoKSA9PT0gXCI+XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ncmFiVG9rZW4oXCI+PlwiLCBUb2tlblR5cGUuQklOX1NISUZUX0FSSVRITUVUSUNfUklHSFRfVEtOKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhYlRva2VuKFwiPlwiLCBUb2tlblR5cGUuQ09ORF9HUkVBVEVSX1RIQU5fVEtOKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBcIjxcIjpcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5nZXROZXh0Q2hhcigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIj1cIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhYlRva2VuKFwiPD1cIiwgVG9rZW5UeXBlLkNPTkRfTEVTU19USEFOX0VRVUFMX1RLTik7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIjxcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhYlRva2VuKFwiPDxcIiwgVG9rZW5UeXBlLkJJTl9TSElGVF9MRUZUX1RLTik7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIi1cIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhYlRva2VuKFwiPC1cIiwgVG9rZW5UeXBlLlJFVkVSU0VfQVJST1dfVEtOKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ncmFiVG9rZW4oXCI8XCIsIFRva2VuVHlwZS5DT05EX0xFU1NfVEhBTl9US04pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIFwiOlwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhYlRva2VuKFwiOlwiLCBUb2tlblR5cGUuQ09MT05fVEtOKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFzc2lnbm1lbnRcclxuICAgICAgICAgICAgY2FzZSBcIj1cIjpcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5nZXROZXh0Q2hhcigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIj1cIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhYlRva2VuKFwiPT1cIiwgVG9rZW5UeXBlLkNPTkRfRVFVQUxTX1RLTik7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIj5cIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhYlRva2VuKFwiPT5cIiwgVG9rZW5UeXBlLkNPTlNUX0FTU0lHTk1FTlRfVEtOKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ncmFiVG9rZW4oXCI9XCIsIFRva2VuVHlwZS5JTU1VVEFCTEVfQVNTSUdOTUVOVF9US04pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gQmxvY2tzXHJcbiAgICAgICAgICAgIGNhc2UgXCJ7XCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ncmFiVG9rZW4oXCJ7XCIsIFRva2VuVHlwZS5MRUZUX0NVUkxZX1RLTik7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ9XCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ncmFiVG9rZW4oXCJ9XCIsIFRva2VuVHlwZS5SSUdIVF9DVVJMWV9US04pO1xyXG4gICAgICAgICAgICBjYXNlIFwiW1wiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhYlRva2VuKFwiW1wiLCBUb2tlblR5cGUuTEVGVF9TUVVBUkVfVEtOKTtcclxuICAgICAgICAgICAgY2FzZSBcIl1cIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdyYWJUb2tlbihcIl1cIiwgVG9rZW5UeXBlLlJJR0hUX1NRVUFSRV9US04pO1xyXG4gICAgICAgICAgICBjYXNlIFwiKFwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhYlRva2VuKFwiKFwiLCBUb2tlblR5cGUuTEVGVF9QQVJFTlNfVEtOKTtcclxuICAgICAgICAgICAgY2FzZSBcIilcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdyYWJUb2tlbihcIilcIiwgVG9rZW5UeXBlLlJJR0hUX1BBUkVOU19US04pO1xyXG5cclxuICAgICAgICAgICAgLy9Db25kaXRpb25hbHNcclxuICAgICAgICAgICAgY2FzZSBcInxcIjpcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmdldE5leHRDaGFyKCkgPT09IFwifFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhYlRva2VuKFwifHxcIiwgVG9rZW5UeXBlLkNPTkRfT1JfVEtOKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhYlRva2VuKFwifFwiLCBUb2tlblR5cGUuQklOX09SX1RLTik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgXCImXCI6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXROZXh0Q2hhcigpID09PSBcIiZcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdyYWJUb2tlbihcIiYmXCIsIFRva2VuVHlwZS5DT05EX0FORF9US04pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ncmFiVG9rZW4oXCImXCIsIFRva2VuVHlwZS5CSU5fQU5EX1RLTik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgXCIkXCI6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXROZXh0Q2hhcigpID09PSBcIiRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdyYWJUb2tlbihcIiQkXCIsIFRva2VuVHlwZS5DT05EX1hPUl9US04pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ncmFiVG9rZW4oXCIkXCIsIFRva2VuVHlwZS5CSU5fWE9SX1RLTik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgXCIhXCI6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXROZXh0Q2hhcigpID09PSBcIj1cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdyYWJUb2tlbihcIiE9XCIsIFRva2VuVHlwZS5DT05EX05PVF9FUVVBTFNfVEtOKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhYlRva2VuKFwiIVwiLCBUb2tlblR5cGUuQ09ORF9OT1RfVEtOKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIE9wZXJhdG9yc1xyXG4gICAgICAgICAgICBjYXNlIFwiK1wiOlxyXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLmdldE5leHRDaGFyKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiPVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ncmFiVG9rZW4oXCIrPVwiLCBUb2tlblR5cGUuT1BfQUREX0VRVUFMU19US04pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCIrXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdyYWJUb2tlbihcIisrXCIsIFRva2VuVHlwZS5PUF9BRERfQUREX1RLTik7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhYlRva2VuKFwiK1wiLCBUb2tlblR5cGUuT1BfQUREX1RLTik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgXCItXCI6XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZ2V0TmV4dENoYXIoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCI9XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdyYWJUb2tlbihcIi09XCIsIFRva2VuVHlwZS5PUF9TVUJUUl9FUVVBTFNfVEtOKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiLVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ncmFiVG9rZW4oXCItLVwiLCBUb2tlblR5cGUuT1BfU1VCVFJfU1VCVFJfVEtOKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiPlwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ncmFiVG9rZW4oXCItPlwiLCBUb2tlblR5cGUuQVJST1dfVEtOKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ncmFiVG9rZW4oXCItXCIsIFRva2VuVHlwZS5PUF9TVUJUUl9US04pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIFwiKlwiOlxyXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLmdldE5leHRDaGFyKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiPVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ncmFiVG9rZW4oXCIqPVwiLCBUb2tlblR5cGUuT1BfTVVMVF9FUVVBTFNfVEtOKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiL1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVyci5hdFBvaW50X1BBTklDKFwiVW5jbG9zZWQgYmxvY2sgY29tbWVudFwiLCB0aGlzLmN1ckxpbmUsIHRoaXMuY3VyQyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhYlRva2VuKFwiKlwiLCBUb2tlblR5cGUuT1BfTVVMVF9US04pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIFwiL1wiOlxyXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLmdldE5leHRDaGFyKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiL1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVTaW5nbGVMaW5lQ29tbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5uZXh0VG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiKlwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnN1bWVCbG9ja0NvbW1lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubmV4dFRva2VuKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIj1cIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhYlRva2VuKFwiLz1cIiwgVG9rZW5UeXBlLk9QX0RJVl9FUVVBTFNfVEtOKTtcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ncmFiVG9rZW4oXCIvXCIsIFRva2VuVHlwZS5PUF9ESVZJREVfVEtOKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBcIl5cIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdyYWJUb2tlbihcIl5cIiwgVG9rZW5UeXBlLk9QX0NBUlJPVF9US04pO1xyXG4gICAgICAgICAgICBjYXNlIFwiJVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhYlRva2VuKFwiJVwiLCBUb2tlblR5cGUuT1BfTU9EVUxVU19US04pO1xyXG5cclxuICAgICAgICAgICAgLy9NaXNjZWxsYW5lb3VzXHJcbiAgICAgICAgICAgIGNhc2UgXCJ+XCI6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXROZXh0Q2hhcigpID09IFwiPVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhYlRva2VuKFwifj1cIiwgVG9rZW5UeXBlLk1VVEFCTEVfQVNTSUdOTUVOVF9US04pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ncmFiVG9rZW4oXCJ+XCIsIFRva2VuVHlwZS5CSU5fTk9UX1RLTik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgXCIuXCI6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXROZXh0Q2hhcigpID09PSBcIi5cIiAmJiB0aGlzLmdldENoYXIodGhpcy5jdXJJbmRleCArIDIpID09PSBcIi5cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdyYWJUb2tlbihcIi4uLlwiLCBUb2tlblR5cGUuRUxMSVBTSVNfVEtOKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhYlRva2VuKFwiLlwiLCBUb2tlblR5cGUuRE9UX1RLTik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgXCJcXFxcXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ncmFiVG9rZW4oXCJcXFxcXCIsIFRva2VuVHlwZS5CQUNLU0xBU0hfVEtOKTtcclxuICAgICAgICAgICAgY2FzZSBcIixcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdyYWJUb2tlbihcIixcIiwgVG9rZW5UeXBlLkNPTU1BX1RLTik7XHJcbiAgICAgICAgICAgIGNhc2UgXCI7XCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ncmFiVG9rZW4oXCI7XCIsIFRva2VuVHlwZS5TRU1JX0NPTE9OX1RLTik7XHJcbiAgICAgICAgICAgIGNhc2UgJ1wiJzpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdyYWJTdHJpbmdMaXRlcmFsKCk7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBpZiAoTGV4ZXIuaXNMZXR0ZXIodGhpcy5nZXRDdXJDaGFyKCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhYklkZW50aWZpZXIoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoTGV4ZXIuaXNOdW1iZXIodGhpcy5nZXRDdXJDaGFyKCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ3JhYk51bWVyaWNMaXRlcmFsKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZ2V0Q3VyQ2hhcigpID09PSBcIiNcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdyYWJEaXJlY3RpdmUoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHVua25vd24gPSB0aGlzLmdyYWJUb2tlbih0aGlzLmdldEN1ckNoYXIoKSwgVG9rZW5UeXBlLlVOS05PV05fVEtOKTtcclxuICAgICAgICAgICAgICAgICAgICB1bmtub3duLnZhbHVlID0gdGhpcy5nZXRDdXJDaGFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVua25vd247XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBncmFiVG9rZW4oc3RyOiBzdHJpbmcsIHR5cGU6IFRva2VuVHlwZSk6IFRva2VuIHtcclxuICAgICAgICB0aGlzLmluY3JlbWVudEN1ckluZGV4KHN0ci5sZW5ndGgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1ha2VUb2tlbihzdHIsIHR5cGUpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBsYXN0VG9rZW4hOiBUb2tlbjtcclxuICAgIHByaXZhdGUgbWFrZVRva2VuKHN0cjogc3RyaW5nLCB0eXBlOiBUb2tlblR5cGUpOiBUb2tlbiB7XHJcbiAgICAgICAgbGV0IHRrbiA9IG5ldyBUb2tlbihzdHIsIHRoaXMuY3VyTGluZSwgdGhpcy5jdXJDIC0gc3RyLmxlbmd0aCwgdHlwZSk7XHJcbiAgICAgICAgdGhpcy5sYXN0VG9rZW4gPSB0a247XHJcbiAgICAgICAgcmV0dXJuIHRrbjtcclxuICAgIH1cclxuICAgIHByaXZhdGUgZ3JhYk51bWVyaWNMaXRlcmFsKCk6IFRva2VuIHtcclxuICAgICAgICBsZXQgc3RyaW5nVmFsdWUgPSBcIlwiO1xyXG4gICAgICAgIGxldCBiYXNlID0gMTA7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0Q3VyQ2hhcigpID09PSBcIjBcIikge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuZ2V0TmV4dENoYXIoKSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcImJcIjpcclxuICAgICAgICAgICAgICAgICAgICBiYXNlID0gMjtcclxuICAgICAgICAgICAgICAgICAgICBzdHJpbmdWYWx1ZSA9IFwiMGJcIjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluY3JlbWVudEN1ckluZGV4KDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIm9cIjpcclxuICAgICAgICAgICAgICAgICAgICBiYXNlID0gODtcclxuICAgICAgICAgICAgICAgICAgICBzdHJpbmdWYWx1ZSA9IFwiMG9cIjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluY3JlbWVudEN1ckluZGV4KDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInhcIjpcclxuICAgICAgICAgICAgICAgICAgICBiYXNlID0gMTY7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nVmFsdWUgPSBcIjB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmNyZW1lbnRDdXJJbmRleCgyKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgbnVtYmVyID0gMDtcclxuICAgICAgICBsZXQgY2ggPSB0aGlzLmdldEN1ckNoYXIoKTtcclxuICAgICAgICBsZXQgcG9pbnQgPSBmYWxzZTtcclxuICAgICAgICBsZXQgZGl2aWRlQnkgPSAxO1xyXG4gICAgICAgIHdoaWxlIChMZXhlci5pc051bWJlcihjaCkgfHwgY2ggPT09IFwiLlwiIHx8IChiYXNlID09IDE2ICYmIExleGVyLmlzSGV4TGV0dGVyKGNoKSkpIHtcclxuICAgICAgICAgICAgc3RyaW5nVmFsdWUgKz0gY2g7XHJcbiAgICAgICAgICAgIGlmIChjaCAhPT0gXCJfXCIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gXCIuXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocG9pbnQgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbmNyZW1lbnRDdXJJbmRleCgxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2ggPSB0aGlzLmdldEN1ckNoYXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnIuYXRQb2ludF9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdOdW1iZXIgaGFzIHRvbyBtYW55IGRlY2ltYWwgcG9pbnRzIFwiJyArIG51bWJlciAvIGRpdmlkZUJ5ICsgJy5cIicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1ckxpbmUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1ckNcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsID0gTGV4ZXIudG9JbnQoY2gpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbCA8IGJhc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBudW1iZXIgPSBiYXNlICogbnVtYmVyICsgdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwb2ludCkgZGl2aWRlQnkgPSBkaXZpZGVCeSAqIGJhc2U7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyLmF0UG9pbnRfUEFOSUMoY2ggKyBcIiBpcyBhbiBpbnZhbGlkIGRpZ2l0IHN5bWJvbCBpbiBiYXNlIFwiICsgYmFzZSwgdGhpcy5jdXJMaW5lLCB0aGlzLmN1ckMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuaW5jcmVtZW50Q3VySW5kZXgoMSk7XHJcbiAgICAgICAgICAgIGNoID0gdGhpcy5nZXRDdXJDaGFyKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdmFsdWUgPSBudW1iZXIgLyBkaXZpZGVCeTtcclxuICAgICAgICBsZXQgdGtuID0gdGhpcy5tYWtlVG9rZW4oc3RyaW5nVmFsdWUsIFRva2VuVHlwZS5OVU1FUklDX0xJVEVSQUxfVEtOKTtcclxuICAgICAgICB0a24udmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICByZXR1cm4gdGtuO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBncmFiU3RyaW5nTGl0ZXJhbCgpOiBUb2tlbiB7XHJcbiAgICAgICAgdGhpcy5ncmFiVG9rZW4oJ1wiJywgVG9rZW5UeXBlLkRPVUJMRV9RVU9URV9US04pO1xyXG4gICAgICAgIGxldCBzdHIgPSBcIlwiO1xyXG4gICAgICAgIGxldCBjaCA9IHRoaXMuZ2V0Q3VyQ2hhcigpO1xyXG4gICAgICAgIGxldCBlc2NhcGVDaGFyID0gZmFsc2U7XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuY3VySW5kZXggPCB0aGlzLnNvdXJjZUNvZGUubGVuZ3RoICYmIGNoICE9PSBcIlxcblwiICYmIChlc2NhcGVDaGFyIHx8IGNoICE9PSAnXCInKSkge1xyXG4gICAgICAgICAgICBpZiAoIWVzY2FwZUNoYXIgfHwgY2ggPT09ICdcIicpIHtcclxuICAgICAgICAgICAgICAgIHN0ciArPSBjaDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY2ggPT09IFwiXFxcXFwiKSB7XHJcbiAgICAgICAgICAgICAgICBlc2NhcGVDaGFyID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGVzY2FwZUNoYXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmluY3JlbWVudEN1ckluZGV4KDEpO1xyXG4gICAgICAgICAgICBjaCA9IHRoaXMuZ2V0Q3VyQ2hhcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jdXJJbmRleCA+PSB0aGlzLnNvdXJjZUNvZGUubGVuZ3RoIHx8IGNoID09PSBcIlxcblwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXJyLmF0UG9pbnRfUEFOSUMoXCJVbnRlcm1pbmF0ZWQgc3RyaW5nIGxpdGVyYWxcIiwgdGhpcy5jdXJMaW5lLCB0aGlzLmN1ckMgLSBzdHIubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZ3JhYlRva2VuKCdcIicsIFRva2VuVHlwZS5ET1VCTEVfUVVPVEVfVEtOKTtcclxuICAgICAgICBsZXQgdGtuID0gdGhpcy5tYWtlVG9rZW4oJ1wiJyArIHN0ciArICdcIicsIFRva2VuVHlwZS5TVFJJTkdfTElURVJBTF9US04pO1xyXG4gICAgICAgIHRrbi52YWx1ZSA9IHN0cjtcclxuICAgICAgICByZXR1cm4gdGtuO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBncmFiRGlyZWN0aXZlKCk6IFRva2VuIHtcclxuICAgICAgICBjb25zb2xlLmFzc2VydCh0aGlzLmdldEN1ckNoYXIoKSA9PT0gXCIjXCIsIFwiRGlyZWN0aXZlcyBtdXN0IHN0YXJ0IHdpdGggI1wiKTtcclxuICAgICAgICB0aGlzLmluY3JlbWVudEN1ckluZGV4KDEpO1xyXG4gICAgICAgIGxldCBzdHIgPSBcIiNcIjtcclxuICAgICAgICBsZXQgY2ggPSB0aGlzLmdldEN1ckNoYXIoKTtcclxuICAgICAgICB3aGlsZSAoTGV4ZXIuaXNMZXR0ZXIoY2gpIHx8IExleGVyLmlzTnVtYmVyKGNoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmluY3JlbWVudEN1ckluZGV4KDEpO1xyXG4gICAgICAgICAgICBzdHIgPSBzdHIgKyBjaDtcclxuICAgICAgICAgICAgY2ggPSB0aGlzLmdldEN1ckNoYXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3dpdGNoIChzdHIpIHtcclxuICAgICAgICAgICAgY2FzZSBcIiNyYW5nZVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFrZVRva2VuKHN0ciwgVG9rZW5UeXBlLkhBU0hfUkFOR0VfVEtOKTtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1ha2VUb2tlbihzdHIsIFRva2VuVHlwZS5VTktOT1dOX1RLTik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBncmFiSWRlbnRpZmllcigpOiBUb2tlbiB7XHJcbiAgICAgICAgbGV0IHN0ciA9IFwiXCI7XHJcbiAgICAgICAgbGV0IGNoID0gdGhpcy5nZXRDdXJDaGFyKCk7XHJcbiAgICAgICAgd2hpbGUgKExleGVyLmlzTGV0dGVyKGNoKSB8fCBMZXhlci5pc051bWJlcihjaCkpIHtcclxuICAgICAgICAgICAgdGhpcy5pbmNyZW1lbnRDdXJJbmRleCgxKTtcclxuICAgICAgICAgICAgc3RyID0gc3RyICsgY2g7XHJcbiAgICAgICAgICAgIGNoID0gdGhpcy5nZXRDdXJDaGFyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaCAoc3RyKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ0eXBlXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYWtlVG9rZW4oc3RyLCBUb2tlblR5cGUuVFlQRV9US04pO1xyXG4gICAgICAgICAgICBjYXNlIFwibW9kdWxlXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYWtlVG9rZW4oc3RyLCBUb2tlblR5cGUuTU9EVUxFX1RLTik7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ3aXRoXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYWtlVG9rZW4oc3RyLCBUb2tlblR5cGUuV0lUSF9US04pO1xyXG4gICAgICAgICAgICBjYXNlIFwiaWZcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1ha2VUb2tlbihzdHIsIFRva2VuVHlwZS5JRl9US04pO1xyXG4gICAgICAgICAgICBjYXNlIFwiZWxzZVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFrZVRva2VuKHN0ciwgVG9rZW5UeXBlLkVMU0VfVEtOKTtcclxuICAgICAgICAgICAgY2FzZSBcIndoaWxlXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYWtlVG9rZW4oc3RyLCBUb2tlblR5cGUuV0hJTEVfVEtOKTtcclxuICAgICAgICAgICAgY2FzZSBcImZvclwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFrZVRva2VuKHN0ciwgVG9rZW5UeXBlLkZPUl9US04pO1xyXG4gICAgICAgICAgICBjYXNlIFwiaW5cIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1ha2VUb2tlbihzdHIsIFRva2VuVHlwZS5JTl9US04pO1xyXG4gICAgICAgICAgICBjYXNlIFwiYnJlYWtcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1ha2VUb2tlbihzdHIsIFRva2VuVHlwZS5CUkVBS19US04pO1xyXG4gICAgICAgICAgICBjYXNlIFwiY29udGludWVcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1ha2VUb2tlbihzdHIsIFRva2VuVHlwZS5DT05USU5VRV9US04pO1xyXG5cclxuICAgICAgICAgICAgLy9Db25kaXRpb25hbHNcclxuICAgICAgICAgICAgY2FzZSBcInRydWVcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1ha2VUb2tlbihzdHIsIFRva2VuVHlwZS5DT05EX1RSVUVfVEtOKTtcclxuICAgICAgICAgICAgY2FzZSBcImZhbHNlXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYWtlVG9rZW4oc3RyLCBUb2tlblR5cGUuQ09ORF9GQUxTRV9US04pO1xyXG5cclxuICAgICAgICAgICAgLy9UeXBlc1xyXG4gICAgICAgICAgICBjYXNlIFwibXV0XCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYWtlVG9rZW4oc3RyLCBUb2tlblR5cGUuTVVUX0NBU1RfVEtOKTtcclxuICAgICAgICAgICAgY2FzZSBcImNvbnN0XCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYWtlVG9rZW4oc3RyLCBUb2tlblR5cGUuQ09OU1RfQ0FTVF9US04pO1xyXG4gICAgICAgICAgICBjYXNlIFwidm9pZFwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFrZVRva2VuKHN0ciwgVG9rZW5UeXBlLlZPSURfVFlQRV9US04pO1xyXG4gICAgICAgICAgICBjYXNlIFwibnVtXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYWtlVG9rZW4oc3RyLCBUb2tlblR5cGUuTlVNX1RZUEVfVEtOKTtcclxuICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFrZVRva2VuKHN0ciwgVG9rZW5UeXBlLlNUUklOR19UWVBFX1RLTik7XHJcbiAgICAgICAgICAgIGNhc2UgXCJib29sXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYWtlVG9rZW4oc3RyLCBUb2tlblR5cGUuQk9PTF9UWVBFX1RLTik7XHJcblxyXG4gICAgICAgICAgICAvLyBGdW5jdGlvbnNcclxuICAgICAgICAgICAgY2FzZSBcInJldHVyblwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFrZVRva2VuKHN0ciwgVG9rZW5UeXBlLlJFVFVSTl9US04pO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1ha2VUb2tlbihzdHIsIFRva2VuVHlwZS5JREVOVElGSUVSX1RLTik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBjb25zdW1lU2luZ2xlTGluZUNvbW1lbnQoKSB7XHJcbiAgICAgICAgdGhpcy5pbmNyZW1lbnRDdXJJbmRleCgyKTtcclxuICAgICAgICB3aGlsZSAodGhpcy5jdXJJbmRleCA8IHRoaXMuc291cmNlQ29kZS5sZW5ndGggJiYgdGhpcy5nZXRDdXJDaGFyKCkgIT09IFwiXFxuXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5pbmNyZW1lbnRDdXJJbmRleCgxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGNvbnN1bWVCbG9ja0NvbW1lbnQoKSB7XHJcbiAgICAgICAgbGV0IGJlZ2luTGluZSA9IHRoaXMuY3VyTGluZTtcclxuICAgICAgICBsZXQgYmVnaW5DID0gdGhpcy5jdXJDO1xyXG4gICAgICAgIHRoaXMuaW5jcmVtZW50Q3VySW5kZXgoMik7XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuY3VySW5kZXggPCB0aGlzLnNvdXJjZUNvZGUubGVuZ3RoICYmICEodGhpcy5nZXRDdXJDaGFyKCkgPT09IFwiKlwiICYmIHRoaXMuZ2V0TmV4dENoYXIoKSA9PT0gXCIvXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW5jcmVtZW50Q3VySW5kZXgoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmN1ckluZGV4ID49IHRoaXMuc291cmNlQ29kZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5lcnJcclxuICAgICAgICAgICAgICAgIC5hdFBvaW50KFwiQmVnaW5uaW5nIG9mIHRoZSBibG9jayBjb21tZW50IGlzIGFzIGZvbGxvd3NcIiwgYmVnaW5MaW5lLCBiZWdpbkMpXHJcbiAgICAgICAgICAgICAgICAuYXRQb2ludF9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICBcIlVudGVybWluYXRlZCBibG9jayBjb21tZW50IGF0IHRoZSBlbmQgb2YgdGhlIGZpbGUuIEV4cGVjdGVkICovXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJMaW5lLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VyQ1xyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbmNyZW1lbnRDdXJJbmRleCgyKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBpc1doaXRlc3BhY2UoY2g6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiBjaCA9PT0gXCIgXCIgfHwgY2ggPT09IFwiXFx0XCIgfHwgY2ggPT09IFwiXFxyXCIgfHwgY2ggPT09IFwiXFxuXCI7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgaXNMZXR0ZXIoY2g6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGxldCBuID0gY2guY2hhckNvZGVBdCgwKTtcclxuICAgICAgICByZXR1cm4gKG4gPj0gNjUgJiYgbiA8IDkxKSB8fCAobiA+PSA5NyAmJiBuIDwgMTIzKSB8fCBjaCA9PT0gXCInXCIgfHwgY2ggPT09IFwiX1wiO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGlzTnVtYmVyKGNoOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICAgICAgICBsZXQgbiA9IGNoLmNoYXJDb2RlQXQoMCk7XHJcbiAgICAgICAgcmV0dXJuIChuID49IDQ4ICYmIG4gPD0gNTcpIHx8IGNoID09PSBcIl9cIjtcclxuICAgIH1cclxuICAgIHN0YXRpYyBpc0hleExldHRlcihjaDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgICAgICAgbGV0IG4gPSBjaC5jaGFyQ29kZUF0KDApO1xyXG4gICAgICAgIHJldHVybiAobiA+PSA2NSAmJiBuIDwgNzEpIHx8IChuID49IDk3ICYmIG4gPCAxMDMpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIHRvSW50KGNoOiBzdHJpbmcpOiBudW1iZXIge1xyXG4gICAgICAgIGlmIChMZXhlci5pc051bWJlcihjaCkpIHJldHVybiBwYXJzZUludChjaCk7XHJcbiAgICAgICAgaWYgKExleGVyLmlzSGV4TGV0dGVyKGNoKSkge1xyXG4gICAgICAgICAgICBsZXQgdmFsID0gY2guY2hhckNvZGVBdCgwKSAtIDY1ICsgMTA7XHJcbiAgICAgICAgICAgIGlmICh2YWwgPD0gMTUpIHJldHVybiB2YWw7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWwgLSAoOTcgLSA2NSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IFwiU3RyaW5nIGlzIG5vdCBhc3NpZ25hYmxlIHRvIGFueSBpbnQgdmFsdWVcIjtcclxuICAgIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scuft/lang/Lexer.ts\n");

/***/ }),

/***/ "./src/scuft/lang/Log.ts":
/*!*******************************!*\
  !*** ./src/scuft/lang/Log.ts ***!
  \*******************************/
/*! namespace exports */
/*! export applyFmt [provided] [no usage info] [missing usage info prevents renaming] */
/*! export bar [provided] [no usage info] [missing usage info prevents renaming] */
/*! export merge [provided] [no usage info] [missing usage info prevents renaming] */
/*! export space [provided] [no usage info] [missing usage info prevents renaming] */
/*! export tab [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"applyFmt\": () => /* binding */ applyFmt,\n/* harmony export */   \"merge\": () => /* binding */ merge,\n/* harmony export */   \"space\": () => /* binding */ space,\n/* harmony export */   \"tab\": () => /* binding */ tab,\n/* harmony export */   \"bar\": () => /* binding */ bar\n/* harmony export */ });\nconst DEFAULT_FMT = \"color: #7D7C84;\";\r\nfunction applyFmt(str, fmt, format = DEFAULT_FMT) {\r\n    fmt.push(format);\r\n    fmt.push(DEFAULT_FMT);\r\n    return \"%c\" + str + \"%c\";\r\n}\r\nfunction merge(firstStr, secondStr) {\r\n    for (let i = 0; i < secondStr.length; i++) {\r\n        firstStr.push(secondStr[i]);\r\n    }\r\n    return firstStr;\r\n}\r\nfunction space(amount, strA) {\r\n    const prefix = \" \".repeat(amount);\r\n    for (let i = 0; i < strA.length; i++) {\r\n        strA[i] = prefix + strA[i];\r\n    }\r\n    return strA;\r\n}\r\nfunction tab(strA) {\r\n    for (let i = 0; i < strA.length; i++) {\r\n        strA[i] = \"    \" + strA[i];\r\n    }\r\n    return strA;\r\n}\r\nfunction bar(strA) {\r\n    for (let i = 0; i < strA.length; i++) {\r\n        strA[i] = \" |  \" + strA[i];\r\n    }\r\n    return strA;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3VmdC8uL3NyYy9zY3VmdC9sYW5nL0xvZy50cz9hNjIyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsTUFBTSxXQUFXLEdBQUcsaUJBQWlCLENBQUM7QUFFL0IsU0FBUyxRQUFRLENBQUMsR0FBVyxFQUFFLEdBQWEsRUFBRSxNQUFNLEdBQUcsV0FBVztJQUNyRSxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2pCLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDdEIsT0FBTyxJQUFJLEdBQUcsR0FBRyxHQUFHLElBQUksQ0FBQztBQUM3QixDQUFDO0FBRU0sU0FBUyxLQUFLLENBQUMsUUFBa0IsRUFBRSxTQUFtQjtJQUN6RCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUN2QyxRQUFRLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQy9CO0lBQ0QsT0FBTyxRQUFRLENBQUM7QUFDcEIsQ0FBQztBQUVNLFNBQVMsS0FBSyxDQUFDLE1BQWMsRUFBRSxJQUFjO0lBQ2hELE1BQU0sTUFBTSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbEMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7UUFDbEMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDOUI7SUFDRCxPQUFPLElBQUksQ0FBQztBQUNoQixDQUFDO0FBRU0sU0FBUyxHQUFHLENBQUMsSUFBYztJQUM5QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNsQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUM5QjtJQUNELE9BQU8sSUFBSSxDQUFDO0FBQ2hCLENBQUM7QUFFTSxTQUFTLEdBQUcsQ0FBQyxJQUFjO0lBQzlCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1FBQ2xDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQzlCO0lBQ0QsT0FBTyxJQUFJLENBQUM7QUFDaEIsQ0FBQyIsImZpbGUiOiIuL3NyYy9zY3VmdC9sYW5nL0xvZy50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IERFRkFVTFRfRk1UID0gXCJjb2xvcjogIzdEN0M4NDtcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhcHBseUZtdChzdHI6IHN0cmluZywgZm10OiBzdHJpbmdbXSwgZm9ybWF0ID0gREVGQVVMVF9GTVQpOiBzdHJpbmcge1xyXG4gICAgZm10LnB1c2goZm9ybWF0KTtcclxuICAgIGZtdC5wdXNoKERFRkFVTFRfRk1UKTtcclxuICAgIHJldHVybiBcIiVjXCIgKyBzdHIgKyBcIiVjXCI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZShmaXJzdFN0cjogc3RyaW5nW10sIHNlY29uZFN0cjogc3RyaW5nW10pOiBzdHJpbmdbXSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlY29uZFN0ci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGZpcnN0U3RyLnB1c2goc2Vjb25kU3RyW2ldKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmaXJzdFN0cjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNwYWNlKGFtb3VudDogbnVtYmVyLCBzdHJBOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcclxuICAgIGNvbnN0IHByZWZpeCA9IFwiIFwiLnJlcGVhdChhbW91bnQpO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJBLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgc3RyQVtpXSA9IHByZWZpeCArIHN0ckFbaV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RyQTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRhYihzdHJBOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyQS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHN0ckFbaV0gPSBcIiAgICBcIiArIHN0ckFbaV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RyQTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGJhcihzdHJBOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyQS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHN0ckFbaV0gPSBcIiB8ICBcIiArIHN0ckFbaV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RyQTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/scuft/lang/Log.ts\n");

/***/ }),

/***/ "./src/scuft/lang/Parser.ts":
/*!**********************************!*\
  !*** ./src/scuft/lang/Parser.ts ***!
  \**********************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ Parser\n/* harmony export */ });\n/* harmony import */ var _ErrorHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ErrorHandler */ \"./src/scuft/lang/ErrorHandler.ts\");\n/* harmony import */ var _Token__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Token */ \"./src/scuft/lang/Token.ts\");\n/* harmony import */ var _Ast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Ast */ \"./src/scuft/lang/Ast.ts\");\n/* harmony import */ var _Scope__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Scope */ \"./src/scuft/lang/Scope.ts\");\n\r\n\r\n\r\n\r\nclass Parser {\r\n    constructor(lexer, errHandler) {\r\n        this.tokenQueue = [];\r\n        this.precedence = new Map();\r\n        this.LOWEST_PRECEDENCE = 0;\r\n        this.HIGHEST_PRECEDENCE = 100;\r\n        this.lexer = lexer;\r\n        this.err = _ErrorHandler__WEBPACK_IMPORTED_MODULE_0__.ErrorHandler.fromHandler(\"----Parser----\\n\", errHandler);\r\n        this.initPrecedenceMap();\r\n    }\r\n    throwAssertError(actualTkn, expectedTkn, msg) {\r\n        if (msg) {\r\n            this.err.atAfterLastToken(\"Expected \" + expectedTkn + \" but found a different token. \" + msg, actualTkn);\r\n        }\r\n        else {\r\n            this.err.atAfterLastToken(\"Expected \" + expectedTkn + \" but found a different token\", actualTkn);\r\n        }\r\n        let actualTknStr = actualTkn.stringValue;\r\n        if (actualTkn.type === _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.IDENTIFIER_TKN) {\r\n            actualTknStr = \"'\" + actualTkn.stringValue + \"'\";\r\n        }\r\n        this.err.atWholeToken_PANIC(actualTknStr + \" is not permitted here\", actualTkn);\r\n    }\r\n    assertIdentifier(expectedTkn, msg) {\r\n        let actualTkn = this.peekToken();\r\n        if (actualTkn.type !== _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.IDENTIFIER_TKN) {\r\n            this.throwAssertError(actualTkn, expectedTkn, msg);\r\n        }\r\n    }\r\n    assertToken(type, msg) {\r\n        let actualTkn = this.peekToken();\r\n        let expectedTkn = (0,_Token__WEBPACK_IMPORTED_MODULE_1__.tokenToStr)(type);\r\n        if (actualTkn.type !== type) {\r\n            this.throwAssertError(actualTkn, expectedTkn, msg);\r\n        }\r\n    }\r\n    lookAheadToken(amount) {\r\n        console.assert(amount > 0, \"Must only look ahead by amount greater than 0. Instead got %s\", amount);\r\n        for (let i = this.tokenQueue.length; i < amount; i++) {\r\n            this.tokenQueue.push(this.lexer.nextToken());\r\n        }\r\n        return this.tokenQueue[amount - 1];\r\n    }\r\n    checkAheadToken(amount, type) {\r\n        return this.lookAheadToken(amount).type === type;\r\n    }\r\n    peekToken() {\r\n        return this.lookAheadToken(1);\r\n    }\r\n    checkToken(type) {\r\n        return this.peekToken().type === type;\r\n    }\r\n    nextToken() {\r\n        if (this.tokenQueue.length > 0) {\r\n            return this.tokenQueue.shift();\r\n        }\r\n        else {\r\n            return this.lexer.nextToken();\r\n        }\r\n    }\r\n    parseProgram() {\r\n        let program = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTProgram(this.peekToken());\r\n        program.scope = _Scope__WEBPACK_IMPORTED_MODULE_3__.Scope.newGlobalScope();\r\n        program.withModules = [];\r\n        program.declarations = [];\r\n        while (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.END_TKN)) {\r\n            if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.WITH_TKN)) {\r\n                program.withModules.push(this.parseWith(program.scope));\r\n            }\r\n            else {\r\n                if (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.IDENTIFIER_TKN)) {\r\n                    this.err.atToken_PANIC(\"Statements are not allowed to exist freely in global scope\", this.peekToken());\r\n                }\r\n                let declaration = this.parseDeclaration(program.scope);\r\n                program.declarations.push(declaration);\r\n            }\r\n        }\r\n        return program;\r\n    }\r\n    parseBlock(blockScope) {\r\n        let block = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTBlock(this.peekToken());\r\n        if (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.LEFT_CURLY_TKN)) {\r\n            let singleLineBlock = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTBlock(this.peekToken());\r\n            singleLineBlock.scope = blockScope;\r\n            singleLineBlock.statements = [];\r\n            singleLineBlock.statements.push(this.getStatement(singleLineBlock));\r\n            singleLineBlock.endToken = singleLineBlock.statements[0].endToken;\r\n            return singleLineBlock;\r\n        }\r\n        this.nextToken();\r\n        block.scope = blockScope;\r\n        block.withModules = [];\r\n        block.statements = [];\r\n        while (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_CURLY_TKN) && !this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.END_TKN)) {\r\n            if (block.hasJump) {\r\n                let lastStmt = block.statements[block.statements.length - 1];\r\n                if (lastStmt.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_2__.NodeType.IF) {\r\n                    this.err\r\n                        .atNode(\"Error after if statement starting here\", lastStmt)\r\n                        .atToken(\"End of block reached after the }\", lastStmt.endToken)\r\n                        .atWholeToken_PANIC(\"If statement has no leaks. The following statement is unreachable and not allowed by this language\", this.peekToken());\r\n                }\r\n                else {\r\n                    this.err\r\n                        .atWholeNode(\"End of block reached here\", lastStmt)\r\n                        .atWholeToken_PANIC(\"Statements following a \" +\r\n                        block.statements[block.statements.length - 1].locToken.stringValue +\r\n                        \" are unreachable and not allowed by this language\", this.peekToken());\r\n                }\r\n            }\r\n            if (this.peekToken().type === _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.WITH_TKN) {\r\n                block.withModules.push(this.parseWith(blockScope));\r\n            }\r\n            else {\r\n                let statement = this.getStatement(block);\r\n                if (statement.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_2__.NodeType.DECLARATION) {\r\n                    let decl = statement;\r\n                    if (decl.rvalue) {\r\n                        switch (decl.rvalue.nodeName) {\r\n                            case _Ast__WEBPACK_IMPORTED_MODULE_2__.NodeType.MODULE:\r\n                                this.err\r\n                                    .atNode(\"Error in block\", block)\r\n                                    .atNode_PANIC(\"Module declaration is not allowed here\", decl);\r\n                            case _Ast__WEBPACK_IMPORTED_MODULE_2__.NodeType.TYPE_DEF:\r\n                                this.err\r\n                                    .atNode(\"Error in block\", block)\r\n                                    .atNode_PANIC(\"Type definition is not allowed here\", decl);\r\n                        }\r\n                    }\r\n                }\r\n                block.statements.push(statement);\r\n            }\r\n        }\r\n        if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.END_TKN)) {\r\n            this.err\r\n                .atNode(\"Error in block\", block)\r\n                .atAfterLastToken_PANIC(\"Unterminated block at end of file. Expected closing }\", this.peekToken());\r\n        }\r\n        else {\r\n            block.endToken = this.nextToken();\r\n        }\r\n        return block;\r\n    }\r\n    getStatement(block) {\r\n        let blockScope = block.scope;\r\n        switch (this.peekToken().type) {\r\n            case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BREAK_TKN:\r\n                let breakStatement = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTBreak(this.nextToken());\r\n                this.assertToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.SEMI_COLON_TKN, \"Semi-colons are required at the end of break statements\");\r\n                breakStatement.endToken = this.nextToken();\r\n                block.hasJump = true;\r\n                let enclosedFuncBreak = blockScope.getEnclosingScope(_Scope__WEBPACK_IMPORTED_MODULE_3__.ScopeType.FUNC_SCOPE);\r\n                let enclosedLoopBreak = blockScope.getEnclosingScope(_Scope__WEBPACK_IMPORTED_MODULE_3__.ScopeType.LOOP_SCOPE);\r\n                if (!enclosedLoopBreak) {\r\n                    this.err.atWholeNode_PANIC(\"Break statement must be used within a loop\", breakStatement);\r\n                }\r\n                if (enclosedFuncBreak && enclosedFuncBreak.scopeID > enclosedLoopBreak.scopeID) {\r\n                    this.err.atWholeNode_PANIC(\"Can't break out of a function using a break statement\", breakStatement);\r\n                }\r\n                return breakStatement;\r\n            case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.CONTINUE_TKN:\r\n                let continueStatement = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTContinue(this.nextToken());\r\n                this.assertToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.SEMI_COLON_TKN, \"Semi-colons are required at the end of continue statements\");\r\n                continueStatement.endToken = this.nextToken();\r\n                block.hasJump = true;\r\n                let enclosedFuncCont = blockScope.getEnclosingScope(_Scope__WEBPACK_IMPORTED_MODULE_3__.ScopeType.FUNC_SCOPE);\r\n                let enclosedLoopCont = blockScope.getEnclosingScope(_Scope__WEBPACK_IMPORTED_MODULE_3__.ScopeType.LOOP_SCOPE);\r\n                if (!enclosedLoopCont) {\r\n                    this.err.atWholeNode_PANIC(\"Continue statement must be used within a loop\", continueStatement);\r\n                }\r\n                if (enclosedFuncCont && enclosedFuncCont.scopeID > enclosedLoopCont.scopeID) {\r\n                    this.err.atWholeNode_PANIC(\"Can't continue out of a function using a continue statement\", continueStatement);\r\n                }\r\n                return continueStatement;\r\n            case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RETURN_TKN:\r\n                let returnStatement = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTReturn(this.nextToken());\r\n                if (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.SEMI_COLON_TKN)) {\r\n                    returnStatement.returnValue = this.parseExpression(blockScope);\r\n                }\r\n                this.assertToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.SEMI_COLON_TKN, \"Semi-colons are required at the end of return statements\");\r\n                returnStatement.endToken = this.nextToken();\r\n                block.hasJump = true;\r\n                block.hasReturn = true;\r\n                return returnStatement;\r\n            case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.IF_TKN:\r\n                let ifStmt = this.parseIf(blockScope);\r\n                block.hasJump = ifStmt.hasJump;\r\n                block.hasReturn = ifStmt.hasReturn;\r\n                return ifStmt;\r\n            case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.WHILE_TKN:\r\n                return this.parseWhile(blockScope);\r\n            case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.FOR_TKN:\r\n                return this.parseFor(blockScope);\r\n            default:\r\n                let refName = this.parseExpression(blockScope);\r\n                if (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COLON_TKN) &&\r\n                    !this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.MUTABLE_ASSIGNMENT_TKN) &&\r\n                    !this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.IMMUTABLE_ASSIGNMENT_TKN) &&\r\n                    !this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.CONST_ASSIGNMENT_TKN)) {\r\n                    this.assertToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.SEMI_COLON_TKN, \"This expression must end with a semi-colon\");\r\n                    this.nextToken();\r\n                    return refName;\r\n                }\r\n                else {\r\n                    return this.parseDeclarationFromName(refName, blockScope);\r\n                }\r\n        }\r\n    }\r\n    parseWith(scope) {\r\n        this.nextToken();\r\n        this.assertIdentifier(\"a module name\", \"With keyword must be followed by a name reference to a module\");\r\n        let withModuleReference = this.parseExpression(scope);\r\n        this.assertToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.SEMI_COLON_TKN, \"Semi-colons are required at the end of with statements\");\r\n        this.nextToken();\r\n        return withModuleReference;\r\n    }\r\n    parseIf(scope) {\r\n        this.assertToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.IF_TKN, \"If statement must start with if keyword\");\r\n        let ifStatement = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTIf(this.nextToken());\r\n        let ifConseqScope = new _Scope__WEBPACK_IMPORTED_MODULE_3__.Scope(scope);\r\n        ifConseqScope.scopeType = _Scope__WEBPACK_IMPORTED_MODULE_3__.ScopeType.BRANCH_SCOPE;\r\n        ifStatement.condition = this.parseExpression(ifConseqScope);\r\n        if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_PARENS_TKN)) {\r\n            this.err.atToken_PANIC(\"Unbalanced parenthesis. Expected {\", this.peekToken());\r\n        }\r\n        ifStatement.consequence = this.parseBlock(ifConseqScope);\r\n        ifStatement.endToken = ifStatement.consequence.endToken;\r\n        if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.ELSE_TKN)) {\r\n            this.nextToken();\r\n            if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.IF_TKN)) {\r\n                ifStatement.alternative = this.parseIf(scope);\r\n            }\r\n            else if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.END_TKN)) {\r\n                this.err\r\n                    .atNode(\"Error in if statement\", ifStatement)\r\n                    .atAfterLastToken_PANIC(\"Unterminated code at end of file. Expected if keyword or {\", this.peekToken());\r\n            }\r\n            else {\r\n                let alternateScope = new _Scope__WEBPACK_IMPORTED_MODULE_3__.Scope(scope);\r\n                alternateScope.scopeType = _Scope__WEBPACK_IMPORTED_MODULE_3__.ScopeType.BRANCH_SCOPE;\r\n                ifStatement.alternative = this.parseBlock(alternateScope);\r\n            }\r\n            ifStatement.hasJump = ifStatement.consequence.hasJump && ifStatement.alternative.hasJump;\r\n            ifStatement.hasReturn = ifStatement.consequence.hasReturn && ifStatement.alternative.hasReturn;\r\n            ifStatement.endToken = ifStatement.alternative.endToken;\r\n        }\r\n        return ifStatement;\r\n    }\r\n    parseWhile(scope) {\r\n        this.assertToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.WHILE_TKN, \"While loop must start with while keyword\");\r\n        let whileStatement = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTWhile(this.nextToken());\r\n        let whileScope = new _Scope__WEBPACK_IMPORTED_MODULE_3__.Scope(scope);\r\n        whileScope.scopeType = _Scope__WEBPACK_IMPORTED_MODULE_3__.ScopeType.LOOP_SCOPE;\r\n        whileStatement.condition = this.parseExpression(whileScope);\r\n        whileStatement.block = this.parseBlock(whileScope);\r\n        return whileStatement;\r\n    }\r\n    parseFor(scope) {\r\n        let forScope = new _Scope__WEBPACK_IMPORTED_MODULE_3__.Scope(scope);\r\n        forScope.scopeType = _Scope__WEBPACK_IMPORTED_MODULE_3__.ScopeType.LOOP_SCOPE;\r\n        this.assertToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.FOR_TKN, \"For loop must start with for keyword\");\r\n        let forStatement = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTFor(this.nextToken());\r\n        if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.LEFT_PARENS_TKN)) {\r\n            this.err.atToken_PANIC(\"For loops don't require encapsulating parenthesis in this language\", this.peekToken());\r\n        }\r\n        switch (this.lookAheadToken(2).type) {\r\n            case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.LEFT_CURLY_TKN:\r\n                this.assertIdentifier(\"a variable reference to an iterable\");\r\n                forStatement.iterableName = this.parseExpression(forScope);\r\n                break;\r\n            case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COMMA_TKN:\r\n                let itemDec = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTDeclaration(this.peekToken());\r\n                forStatement.itemParamDec = itemDec;\r\n                itemDec.inScope = forScope;\r\n                itemDec.lvalue = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTName(this.peekToken());\r\n                if (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.IDENTIFIER_TKN)) {\r\n                    this.err.atToken_PANIC(\"Expected a new 'item' variable declaration but got an expression instead\", this.peekToken());\r\n                }\r\n                itemDec.lvalue.refName = this.nextToken().stringValue;\r\n                forScope.table.set(itemDec.lvalue.refName, itemDec);\r\n                this.nextToken();\r\n                let indexDec = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTDeclaration(this.peekToken());\r\n                forStatement.indexParamDec = indexDec;\r\n                indexDec.inScope = forScope;\r\n                indexDec.lvalue = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTName(this.peekToken());\r\n                indexDec.type = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTTypeLiteral(this.peekToken());\r\n                indexDec.type.type = _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.NUM_TYPE_TKN;\r\n                if (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.IDENTIFIER_TKN)) {\r\n                    this.err.atToken_PANIC(\"Expected a new 'index' variable declaration but got an expression instead\", this.peekToken());\r\n                }\r\n                indexDec.lvalue.refName = this.nextToken().stringValue;\r\n                if (itemDec.lvalue.refName === indexDec.lvalue.refName) {\r\n                    this.err\r\n                        .atNode(\"Duplicate variable declaration in for loop\", itemDec)\r\n                        .atNode_PANIC(\"Variable name of item and index variable must be different\", indexDec);\r\n                }\r\n                forScope.table.set(itemDec.lvalue.refName, itemDec);\r\n                this.assertToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.IN_TKN);\r\n                this.nextToken();\r\n                this.assertIdentifier(\"a variable reference to an iterable\");\r\n                forStatement.iterableName = this.parseExpression(forScope);\r\n                break;\r\n            case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.IN_TKN:\r\n                let inItemDec = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTDeclaration(this.peekToken());\r\n                forStatement.itemParamDec = inItemDec;\r\n                inItemDec.inScope = forScope;\r\n                inItemDec.lvalue = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTName(this.peekToken());\r\n                if (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.IDENTIFIER_TKN)) {\r\n                    this.err.atToken_PANIC(\"Expected a new 'item' variable declaration but got an expression instead\", this.peekToken());\r\n                }\r\n                inItemDec.lvalue.refName = this.nextToken().stringValue;\r\n                forScope.table.set(inItemDec.lvalue.refName, inItemDec);\r\n                this.nextToken();\r\n                if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.HASH_RANGE_TKN)) {\r\n                    this.nextToken();\r\n                    let isLowerBoundExclusive = false;\r\n                    if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.LEFT_PARENS_TKN)) {\r\n                        isLowerBoundExclusive = true;\r\n                    }\r\n                    else if (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.LEFT_SQUARE_TKN)) {\r\n                        this.err.atToken_PANIC(\"Expected either a [ or a (\", this.peekToken());\r\n                    }\r\n                    this.nextToken();\r\n                    forStatement.lowerBound = this.parseExpression(forScope);\r\n                    if (isLowerBoundExclusive) {\r\n                        let expression = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTBinaryOperator(forStatement.lowerBound.locToken);\r\n                        expression.lvalue = forStatement.lowerBound;\r\n                        expression.operation = new _Token__WEBPACK_IMPORTED_MODULE_1__.Token(\"+\", forStatement.lowerBound.locToken.line, forStatement.lowerBound.locToken.c, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.OP_ADD_TKN);\r\n                        expression.rvalue = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTLiteral(forStatement.lowerBound.locToken);\r\n                        expression.rvalue.value = _Token__WEBPACK_IMPORTED_MODULE_1__.Token.fromType(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.NUMERIC_LITERAL_TKN, expression.rvalue.locToken);\r\n                        expression.rvalue.value.value = 1;\r\n                        forStatement.lowerBound = expression;\r\n                        expression.endToken = expression.rvalue.locToken;\r\n                    }\r\n                    if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_SQUARE_TKN) || this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_PARENS_TKN)) {\r\n                        this.err.atToken_PANIC(\"For loop range requires two expressions separated by a comma\", this.peekToken());\r\n                    }\r\n                    this.assertToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COMMA_TKN, \"Invalid declaration of a for loop range\");\r\n                    this.nextToken();\r\n                    forStatement.upperBound = this.parseExpression(forScope);\r\n                    if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_PARENS_TKN)) {\r\n                        let expression = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTBinaryOperator(forStatement.upperBound.locToken);\r\n                        expression.lvalue = forStatement.upperBound;\r\n                        expression.operation = new _Token__WEBPACK_IMPORTED_MODULE_1__.Token(\"-\", forStatement.upperBound.locToken.line, forStatement.upperBound.locToken.c, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.OP_SUBTR_TKN);\r\n                        expression.rvalue = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTLiteral(forStatement.upperBound.locToken);\r\n                        expression.rvalue.value = _Token__WEBPACK_IMPORTED_MODULE_1__.Token.fromType(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.NUMERIC_LITERAL_TKN, expression.rvalue.locToken);\r\n                        expression.rvalue.value.value = 1;\r\n                        forStatement.upperBound = expression;\r\n                        expression.endToken = expression.rvalue.locToken;\r\n                    }\r\n                    else if (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_SQUARE_TKN)) {\r\n                        this.err.atToken_PANIC(\"Expected either a ] or a )\", this.peekToken());\r\n                    }\r\n                    this.nextToken();\r\n                    break;\r\n                }\r\n                else {\r\n                    this.assertIdentifier(\"a variable reference to an iterable\", \"A potential fix is to use #range after the in keyword to denote iteration over a range\");\r\n                    forStatement.iterableName = this.parseExpression(forScope);\r\n                    break;\r\n                }\r\n            default:\r\n                this.err.atToken_PANIC(\"Invalid for loop. Expected a single variable name but got an expression instead\", this.peekToken());\r\n        }\r\n        forStatement.block = this.parseBlock(forScope);\r\n        return forStatement;\r\n    }\r\n    parseDeclaration(scope) {\r\n        return this.parseDeclarationFromName(this.parseExpression(scope), scope);\r\n    }\r\n    parseDeclarationFromName(refName, scope) {\r\n        let decl = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTDeclaration(refName.locToken);\r\n        decl.inScope = scope;\r\n        decl.lvalue = refName;\r\n        if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COLON_TKN)) {\r\n            this.nextToken();\r\n            decl.type = this.parseExpression(scope);\r\n        }\r\n        if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.MUTABLE_ASSIGNMENT_TKN) ||\r\n            this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.IMMUTABLE_ASSIGNMENT_TKN) ||\r\n            this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.CONST_ASSIGNMENT_TKN)) {\r\n            decl.accessAssignment = this.nextToken();\r\n            if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.TYPE_TKN)) {\r\n                decl.rvalue = this.parseTypeDefinition(scope);\r\n                decl.rvalue.typeDecRef = decl;\r\n                if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.SEMI_COLON_TKN)) {\r\n                    this.err\r\n                        .atNode(\"Error in type definition\", refName)\r\n                        .atToken_PANIC(\"Semi-colons are not accepted directly after the end bracket of a type definition\", this.peekToken());\r\n                }\r\n            }\r\n            else {\r\n                decl.rvalue = this.parseExpression(scope);\r\n                if (decl.rvalue.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_2__.NodeType.MODULE) {\r\n                    if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.SEMI_COLON_TKN)) {\r\n                        this.err\r\n                            .atNode(\"Error in module\", refName)\r\n                            .atToken_PANIC(\"Semi-colons are not accepted directly after the end bracket of a module declaration\", this.peekToken());\r\n                    }\r\n                    decl.rvalue.moduleDecRef = decl;\r\n                }\r\n                else if (decl.rvalue.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_2__.NodeType.FUNCTION) {\r\n                    if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.SEMI_COLON_TKN)) {\r\n                        this.err\r\n                            .atNode(\"Error in function declaration\", refName)\r\n                            .atToken_PANIC(\"Semi-colons are not accepted directly after the end bracket of a function declaration\", this.peekToken());\r\n                    }\r\n                }\r\n                else {\r\n                    if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.END_TKN)) {\r\n                        this.err\r\n                            .atWholeNode(\"Error in expression\", decl.rvalue)\r\n                            .atAfterLastToken_PANIC(\"Unterminated code at end of file. Expected an operator, operand, or terminating token like semi-colon\", this.peekToken());\r\n                    }\r\n                    else if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_PARENS_TKN)) {\r\n                        this.err.atToken_PANIC(\"Unbalanced parenthesis. Expected a semi-colon\", this.peekToken());\r\n                    }\r\n                    else if (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.SEMI_COLON_TKN)) {\r\n                        this.err\r\n                            .atNode(\"Error in declaration \", refName)\r\n                            .atAfterLastToken_PANIC(\"Expected a semi-colon at the end of the declaration but got \" +\r\n                            this.peekToken().stringValue +\r\n                            \" instead\", this.peekToken());\r\n                    }\r\n                    this.nextToken();\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.assertToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.SEMI_COLON_TKN, \"Semi-colons are required at the end of variable declarations\");\r\n            this.nextToken();\r\n        }\r\n        console.assert(decl.type || decl.rvalue, \"This should be evaluted as an expression statement, not a declaration\");\r\n        if (refName.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_2__.NodeType.NAME) {\r\n            if (!scope.table.has(refName.refName)) {\r\n                let isFunc = decl.rvalue && decl.rvalue.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_2__.NodeType.FUNCTION;\r\n                if (isFunc && decl.accessAssignment.type === _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.MUTABLE_ASSIGNMENT_TKN) {\r\n                    this.err\r\n                        .atNode(\"Function can't be assigned using mutable assignment\", decl)\r\n                        .addNote_PANIC(\"Functions can only be assigned to a variable using = or =>\");\r\n                }\r\n                scope.table.set(refName.refName, decl);\r\n                return decl;\r\n            }\r\n        }\r\n        decl.isAssignment = true;\r\n        return decl;\r\n    }\r\n    parseModule(scope) {\r\n        let moduleScope = new _Scope__WEBPACK_IMPORTED_MODULE_3__.Scope(scope);\r\n        moduleScope.scopeType = _Scope__WEBPACK_IMPORTED_MODULE_3__.ScopeType.MODULE_SCOPE;\r\n        this.assertToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.MODULE_TKN, \"Module must start with module keyword\");\r\n        let module = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTModule(this.nextToken());\r\n        module.scope = moduleScope;\r\n        module.withModules = [];\r\n        module.declarations = [];\r\n        this.assertToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.LEFT_CURLY_TKN);\r\n        this.nextToken();\r\n        while (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_CURLY_TKN) && !this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.END_TKN)) {\r\n            if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.WITH_TKN)) {\r\n                module.withModules.push(this.parseWith(moduleScope));\r\n            }\r\n            else {\r\n                module.declarations.push(this.parseDeclaration(moduleScope));\r\n            }\r\n        }\r\n        if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.END_TKN)) {\r\n            this.err\r\n                .atNode(\"Error in module\", module)\r\n                .atAfterLastToken_PANIC(\"Unterminated code at end of file. Expected closing {\", this.peekToken());\r\n        }\r\n        else {\r\n            this.nextToken();\r\n        }\r\n        return module;\r\n    }\r\n    parseTypeDefinition(scope) {\r\n        let typeDefScope = new _Scope__WEBPACK_IMPORTED_MODULE_3__.Scope(scope);\r\n        typeDefScope.scopeType = _Scope__WEBPACK_IMPORTED_MODULE_3__.ScopeType.TYPE_SCOPE;\r\n        this.assertToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.TYPE_TKN, \"Type definition must start with type keyword\");\r\n        let typeDef = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTTypeDefinition(this.nextToken());\r\n        typeDef.scope = typeDefScope;\r\n        typeDef.withModules = [];\r\n        typeDef.declarations = [];\r\n        this.assertToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.LEFT_CURLY_TKN, \"Type definition must be enclosed in curly brackets\");\r\n        this.nextToken();\r\n        while (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_CURLY_TKN) && !this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.END_TKN)) {\r\n            if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.WITH_TKN)) {\r\n                typeDef.withModules.push(this.parseWith(typeDefScope));\r\n            }\r\n            else {\r\n                typeDef.declarations.push(this.parseDeclaration(typeDefScope));\r\n            }\r\n        }\r\n        if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.END_TKN)) {\r\n            this.err\r\n                .atNode(\"Error in type definition\", typeDef)\r\n                .atAfterLastToken_PANIC(\"Unterminated code at end of file. Expected closing {\", this.peekToken());\r\n        }\r\n        else {\r\n            this.nextToken();\r\n        }\r\n        return typeDef;\r\n    }\r\n    tryParseFunction(scope) {\r\n        let parensAndIdentifier = this.checkAheadToken(1, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.LEFT_PARENS_TKN) && this.checkAheadToken(2, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.IDENTIFIER_TKN);\r\n        if (!((parensAndIdentifier &&\r\n            (this.checkAheadToken(3, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COLON_TKN) ||\r\n                this.checkAheadToken(3, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.MUTABLE_ASSIGNMENT_TKN))) ||\r\n            (this.checkAheadToken(1, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.LEFT_PARENS_TKN) &&\r\n                this.checkAheadToken(2, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_PARENS_TKN)))) {\r\n            if (parensAndIdentifier &&\r\n                (this.checkAheadToken(3, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.CONST_ASSIGNMENT_TKN) ||\r\n                    this.checkAheadToken(3, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.IMMUTABLE_ASSIGNMENT_TKN))) {\r\n                this.err.atToken_PANIC(\"Default function parameters can only be mutable assigned with ~=\", this.lookAheadToken(3));\r\n            }\r\n            return undefined;\r\n        }\r\n        let functionScope = new _Scope__WEBPACK_IMPORTED_MODULE_3__.Scope(scope);\r\n        functionScope.scopeType = _Scope__WEBPACK_IMPORTED_MODULE_3__.ScopeType.FUNC_SCOPE;\r\n        let func = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTFunction(this.peekToken());\r\n        func.paramDeclaration = [];\r\n        this.assertToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.LEFT_PARENS_TKN, \"Function declaration must specify parameters or use ()\");\r\n        this.nextToken();\r\n        while (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_PARENS_TKN) && !this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.END_TKN)) {\r\n            let paramDec = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTDeclaration(this.peekToken());\r\n            paramDec.inScope = functionScope;\r\n            this.assertIdentifier(\"a parameter name\", \"Function parameters must declare variable names\");\r\n            paramDec.lvalue = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTName(this.peekToken());\r\n            paramDec.lvalue.refName = this.nextToken().stringValue;\r\n            let otherDec = functionScope.table.get(paramDec.lvalue.refName);\r\n            if (otherDec) {\r\n                this.err\r\n                    .atNode(\"Found duplicate name for parameter declaration\", paramDec)\r\n                    .atNode_PANIC(\"Other duplicate parameter here\", otherDec);\r\n            }\r\n            else {\r\n                functionScope.table.set(paramDec.lvalue.refName, paramDec);\r\n            }\r\n            if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COLON_TKN)) {\r\n                this.nextToken();\r\n                paramDec.type = this.parseExpression(functionScope);\r\n            }\r\n            if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.MUTABLE_ASSIGNMENT_TKN)) {\r\n                paramDec.accessAssignment = this.nextToken();\r\n                paramDec.rvalue = this.parseExpression(functionScope);\r\n            }\r\n            if (!paramDec.type && !paramDec.rvalue) {\r\n                this.err\r\n                    .atNode(\"Error in function definition\", paramDec)\r\n                    .atToken_PANIC(this.peekToken().stringValue +\r\n                    \" is not allowed here. Function parameter must either specify a type using : or assign a default value using =\", this.peekToken());\r\n            }\r\n            func.paramDeclaration.push(paramDec);\r\n            if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COMMA_TKN)) {\r\n                if (this.checkAheadToken(2, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_PARENS_TKN)) {\r\n                    this.err.atAfterLastToken_PANIC(\"Expected another parameter definition after the comma but got nothing\", this.lookAheadToken(2));\r\n                }\r\n                else {\r\n                    this.nextToken();\r\n                }\r\n            }\r\n            else if (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_PARENS_TKN)) {\r\n                this.err.atAfterLastToken_PANIC(\"Invalid function parameter definition. Expected either a comma or )\", this.peekToken());\r\n            }\r\n        }\r\n        if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.END_TKN)) {\r\n            this.err.atAfterLastToken_PANIC(\"Unterminated parameter declaration at end of file\", this.peekToken());\r\n        }\r\n        this.nextToken();\r\n        if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.ARROW_TKN)) {\r\n            this.nextToken();\r\n            func.returnType = this.parseExpression(functionScope);\r\n        }\r\n        func.block = this.parseBlock(functionScope);\r\n        return func;\r\n    }\r\n    setPrecedence(precedence, ...types) {\r\n        for (let i = 0; i < types.length; i++) {\r\n            this.precedence.set(types[i], precedence);\r\n        }\r\n    }\r\n    initPrecedenceMap() {\r\n        this.setPrecedence(1, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_OR_TKN);\r\n        this.setPrecedence(2, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_XOR_TKN);\r\n        this.setPrecedence(3, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_AND_TKN);\r\n        this.setPrecedence(4, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BIN_OR_TKN);\r\n        this.setPrecedence(5, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BIN_XOR_TKN);\r\n        this.setPrecedence(6, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BIN_AND_TKN);\r\n        this.setPrecedence(7, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_EQUALS_TKN, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_NOT_EQUALS_TKN);\r\n        this.setPrecedence(8, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_GREATER_THAN_EQUAL_TKN, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_LESS_THAN_EQUAL_TKN, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_GREATER_THAN_TKN, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_LESS_THAN_TKN);\r\n        this.setPrecedence(9, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BIN_SHIFT_LEFT_TKN, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BIN_SHIFT_RIGHT_TKN, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BIN_SHIFT_ARITHMETIC_RIGHT_TKN);\r\n        this.setPrecedence(10, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.OP_ADD_TKN, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.OP_SUBTR_TKN);\r\n        this.setPrecedence(11, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.OP_MULT_TKN, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.OP_DIVIDE_TKN, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.OP_MODULUS_TKN);\r\n        this.setPrecedence(12, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.OP_CARROT_TKN);\r\n        this.setPrecedence(13, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.DOT_TKN, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.LEFT_PARENS_TKN);\r\n    }\r\n    parseExpression(scope) {\r\n        return this.recurseExpression(this.LOWEST_PRECEDENCE, 0, { token: this.peekToken(), scope: scope });\r\n    }\r\n    recurseExpression(precedence, depthCount, src) {\r\n        let expression;\r\n        while (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.END_TKN)) {\r\n            let tkn = this.peekToken();\r\n            if (expression) {\r\n                switch (tkn.type) {\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.MODULE_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.MUT_CAST_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.CONST_CAST_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.NUM_TYPE_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.STRING_TYPE_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BOOL_TYPE_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.VOID_TYPE_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.TYPE_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.NUMERIC_LITERAL_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.STRING_LITERAL_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_TRUE_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_FALSE_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_NOT_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BIN_NOT_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BACKSLASH_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.ELLIPSIS_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.IDENTIFIER_TKN:\r\n                        if (depthCount !== 0) {\r\n                            this.err\r\n                                .insert(\"First potential error:\\n\")\r\n                                .atToken(\"Operand token (ex: 3, true, etc.) or prefix operator (ex: !, ~, etc.) can only appear after an operator (ex: +, *, etc.)\", tkn)\r\n                                .insert(\"Second potential error:\\n\")\r\n                                .atAfterLastToken_PANIC(\"Unbalanced parenthesis. Expected \" + depthCount + \" more )\", tkn);\r\n                        }\r\n                        return expression;\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_PARENS_TKN:\r\n                        return expression;\r\n                    default:\r\n                        let curPrecedence = this.precedence.get(tkn.type);\r\n                        if (curPrecedence !== undefined) {\r\n                            if (curPrecedence > precedence) {\r\n                                if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.DOT_TKN)) {\r\n                                    if (this.checkAheadToken(2, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.LEFT_CURLY_TKN)) {\r\n                                        expression = this.parseTypeConstruction(expression, src.scope);\r\n                                        break;\r\n                                    }\r\n                                    let dotOp = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTDotOperator(expression.locToken);\r\n                                    dotOp.rootValue = expression;\r\n                                    this.nextToken();\r\n                                    let memberVal = this.recurseExpression(curPrecedence, depthCount, src);\r\n                                    if (memberVal.nodeName !== _Ast__WEBPACK_IMPORTED_MODULE_2__.NodeType.NAME) {\r\n                                        this.err.atWholeNode_PANIC(\"Expected a variable name reference to a property in \" +\r\n                                            _Ast__WEBPACK_IMPORTED_MODULE_2__.exprToStr(dotOp.rootValue), memberVal);\r\n                                    }\r\n                                    dotOp.memberValue = memberVal;\r\n                                    expression = dotOp;\r\n                                    dotOp.endToken = dotOp.memberValue.endToken;\r\n                                }\r\n                                else if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.LEFT_PARENS_TKN)) {\r\n                                    expression = this.parseCall(expression, src);\r\n                                }\r\n                                else {\r\n                                    if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BIN_SHIFT_LEFT_TKN)) {\r\n                                        if (this.checkAheadToken(2, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_LESS_THAN_TKN)) {\r\n                                            this.err.atToken_PANIC(\"Arithmetic left shift is equivalent to logical left shift. Use << instead of <<<\", this.peekToken());\r\n                                        }\r\n                                    }\r\n                                    let binOp = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTBinaryOperator(expression.locToken);\r\n                                    binOp.lvalue = expression;\r\n                                    binOp.operation = this.nextToken();\r\n                                    binOp.rvalue = this.recurseExpression(curPrecedence, depthCount, src);\r\n                                    expression = binOp;\r\n                                    expression.endToken = expression.rvalue.endToken;\r\n                                }\r\n                            }\r\n                            else {\r\n                                return expression;\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.UNKNOWN_TKN)) {\r\n                                this.err.atToken_PANIC(\"Expression contains unknown operator \" + this.peekToken().stringValue, this.peekToken());\r\n                            }\r\n                            else if (depthCount !== 0) {\r\n                                this.err\r\n                                    .atToken(\"Error in expression starting with\", src.token)\r\n                                    .atToken_PANIC(\"Unbalanced parenthesis. Expected \" + depthCount + \" more )\", tkn);\r\n                            }\r\n                            else {\r\n                                return expression;\r\n                            }\r\n                        }\r\n                }\r\n            }\r\n            else {\r\n                switch (tkn.type) {\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.MODULE_TKN:\r\n                        expression = this.parseModule(src.scope);\r\n                        break;\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.MUT_CAST_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.CONST_CAST_TKN:\r\n                        expression = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTAccessCast(tkn);\r\n                        expression.accessType = this.nextToken().type;\r\n                        expression.castedType = this.recurseExpression(this.HIGHEST_PRECEDENCE, depthCount, src);\r\n                        expression.endToken = expression.castedType.endToken;\r\n                        break;\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.NUM_TYPE_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.STRING_TYPE_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BOOL_TYPE_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.VOID_TYPE_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.TYPE_TKN:\r\n                        expression = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTTypeLiteral(tkn);\r\n                        expression.type = this.nextToken().type;\r\n                        expression.endToken = tkn;\r\n                        break;\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.NUMERIC_LITERAL_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.STRING_LITERAL_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_TRUE_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_FALSE_TKN:\r\n                        expression = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTLiteral(tkn);\r\n                        expression.value = this.nextToken();\r\n                        expression.endToken = tkn;\r\n                        break;\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COND_NOT_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BIN_NOT_TKN:\r\n                        expression = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTUnaryOperator(tkn);\r\n                        expression.operation = this.nextToken();\r\n                        expression.value = this.recurseExpression(precedence, depthCount, src);\r\n                        expression.endToken = expression.value.endToken;\r\n                        break;\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BACKSLASH_TKN:\r\n                        expression = this.parseFunctionType(src.scope);\r\n                        break;\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.ELLIPSIS_TKN:\r\n                        expression = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTName(tkn);\r\n                        expression.refName = tkn.stringValue;\r\n                        this.nextToken();\r\n                        if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.DOT_TKN) || this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.ELLIPSIS_TKN)) {\r\n                            this.err.atToken_PANIC(\"Too many dots in a row. Note that an ellipsis has three dots: ...\", this.peekToken());\r\n                        }\r\n                        break;\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.IDENTIFIER_TKN:\r\n                        expression = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTName(this.nextToken());\r\n                        expression.refName = expression.locToken.stringValue;\r\n                        expression.endToken = expression.locToken;\r\n                        break;\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.LEFT_PARENS_TKN:\r\n                        let func = this.tryParseFunction(src.scope);\r\n                        if (func) {\r\n                            expression = func;\r\n                        }\r\n                        else {\r\n                            this.nextToken();\r\n                            expression = this.recurseExpression(this.LOWEST_PRECEDENCE, depthCount + 1, src);\r\n                            this.nextToken();\r\n                        }\r\n                        break;\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.DOT_TKN:\r\n                        this.err\r\n                            .atToken(\"Error in reference starting with\", src.token)\r\n                            .atToken_PANIC(\"Can't start an expression with a dot or have two dots in a row\", this.peekToken());\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.OP_SUBTR_TKN:\r\n                        expression = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTBinaryOperator(tkn);\r\n                        expression.lvalue = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTLiteral(tkn);\r\n                        expression.lvalue.value = _Token__WEBPACK_IMPORTED_MODULE_1__.Token.fromType(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.NUMERIC_LITERAL_TKN, tkn);\r\n                        expression.lvalue.value.value = 0;\r\n                        expression.operation = this.nextToken();\r\n                        expression.rvalue = this.recurseExpression(this.HIGHEST_PRECEDENCE, depthCount, src);\r\n                        expression.endToken = expression.rvalue.endToken;\r\n                        break;\r\n                    default:\r\n                        this.err.atAfterLastToken_PANIC(\"Expected an expression but got nothing\", tkn);\r\n                }\r\n            }\r\n        }\r\n        return expression;\r\n    }\r\n    parseCall(prevExpression, src) {\r\n        let call = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTCall(prevExpression.locToken);\r\n        call.functionNameRef = prevExpression;\r\n        call.givenParams = [];\r\n        this.nextToken();\r\n        while (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_PARENS_TKN)) {\r\n            if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COMMA_TKN)) {\r\n                let expectedTkn = this.lookAheadToken(2);\r\n                if (expectedTkn.type === _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_PARENS_TKN || expectedTkn.type === _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.END_TKN) {\r\n                    this.err.atAfterLastToken_PANIC(\"Expected another expression after the comma but got nothing\", expectedTkn);\r\n                }\r\n                else {\r\n                    this.nextToken();\r\n                }\r\n            }\r\n            else {\r\n                call.givenParams.push(this.recurseExpression(this.LOWEST_PRECEDENCE, 0, src));\r\n            }\r\n        }\r\n        this.nextToken();\r\n        return call;\r\n    }\r\n    parseTypeConstruction(prevExpression, scope) {\r\n        let typeConstruct = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTTypeConstruction(prevExpression.locToken);\r\n        typeConstruct.typeRef = prevExpression;\r\n        this.assertToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.DOT_TKN, \"Dot '.' is required after the type name in a type construction\");\r\n        this.nextToken();\r\n        this.assertToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.LEFT_CURLY_TKN, \"Type construction must be enclosed in curly brackets\");\r\n        this.nextToken();\r\n        typeConstruct.assignments = [];\r\n        while (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_CURLY_TKN)) {\r\n            if (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.IDENTIFIER_TKN)) {\r\n                this.err\r\n                    .atNode(\"Error in type constructor\", typeConstruct)\r\n                    .atToken_PANIC(\"Type construction assignments need to be single variable names\", this.peekToken());\r\n            }\r\n            let lvalue = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTName(this.peekToken());\r\n            lvalue.refName = this.nextToken().stringValue;\r\n            for (let i = 0; i < typeConstruct.assignments.length; i++) {\r\n                if (typeConstruct.assignments[i].lvalue.refName === lvalue.refName) {\r\n                    this.err\r\n                        .atToken(\"Repeated assignment in type construction\", typeConstruct.assignments[i].locToken)\r\n                        .atNode_PANIC(\"Other repeated assignment found here\", lvalue);\r\n                }\r\n            }\r\n            if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.IMMUTABLE_ASSIGNMENT_TKN)) {\r\n                this.err\r\n                    .atNode(\"Error in type constructor\", typeConstruct)\r\n                    .atToken_PANIC(\"Assignment in a type constructor must use <- instead of =\", this.peekToken());\r\n            }\r\n            else if (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.REVERSE_ARROW_TKN)) {\r\n                this.err\r\n                    .atToken(\"Assignment in a type constructor must assign a value using <-\", this.peekToken())\r\n                    .addNote_PANIC(\"Type consteuction assignments need to be in the form [singleVariableName] <- [assignedValue]\");\r\n            }\r\n            this.nextToken();\r\n            let assignment = {\r\n                locToken: lvalue.locToken,\r\n                lvalue: lvalue,\r\n                rvalue: this.parseExpression(scope),\r\n            };\r\n            typeConstruct.assignments.push(assignment);\r\n            if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COMMA_TKN)) {\r\n                if (this.checkAheadToken(2, _Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_CURLY_TKN)) {\r\n                    this.err.atToken_PANIC(\"Last assignment in a type construction can't end in a comma\", this.peekToken());\r\n                }\r\n                else {\r\n                    this.nextToken();\r\n                }\r\n            }\r\n            else if (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_CURLY_TKN)) {\r\n                this.err.atAfterLastToken_PANIC(\"Invalid type construction. Expected either a comma or }\", this.peekToken());\r\n            }\r\n        }\r\n        typeConstruct.endToken = this.nextToken();\r\n        return typeConstruct;\r\n    }\r\n    parseFunctionType(scope) {\r\n        this.assertToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.BACKSLASH_TKN, \"Function type must start with a backslash\");\r\n        this.nextToken();\r\n        let type = new _Ast__WEBPACK_IMPORTED_MODULE_2__.ASTFunctionType(this.peekToken());\r\n        this.nextToken();\r\n        type.inputType = [];\r\n        while (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_PARENS_TKN) && !this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.END_TKN)) {\r\n            type.inputType.push(this.parseExpression(scope));\r\n            if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.COMMA_TKN)) {\r\n                this.nextToken();\r\n            }\r\n            else if (!this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.RIGHT_PARENS_TKN)) {\r\n                this.err.atAfterLastToken_PANIC(\"Invalid type definition. Expected either a comma or )\", this.peekToken());\r\n            }\r\n        }\r\n        if (this.checkToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.END_TKN)) {\r\n            this.err\r\n                .atNode(\"Error in declaration type specifier\", type)\r\n                .atAfterLastToken_PANIC(\"Unterminated code at end of file. Expected another type\", this.peekToken());\r\n        }\r\n        else {\r\n            this.nextToken();\r\n        }\r\n        this.assertToken(_Token__WEBPACK_IMPORTED_MODULE_1__.TokenType.ARROW_TKN, \"Function type declarations must declare a return type.\");\r\n        this.nextToken();\r\n        type.outType = this.parseExpression(scope);\r\n        return type;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3VmdC8uL3NyYy9zY3VmdC9sYW5nL1BhcnNlci50cz9kMDI0Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQThDO0FBQ1M7QUFDMUI7QUFDYztBQUk1QixNQUFNLE1BQU07SUFHdkIsWUFBWSxLQUFZLEVBQUUsVUFBd0I7UUErQjFDLGVBQVUsR0FBWSxFQUFFLENBQUM7UUFnb0J6QixlQUFVLEdBQTJCLElBQUksR0FBRyxFQUFFLENBQUM7UUFDOUMsc0JBQWlCLEdBQVcsQ0FBQyxDQUFDO1FBQzlCLHVCQUFrQixHQUFXLEdBQUcsQ0FBQztRQWhxQnRDLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO1FBQ25CLElBQUksQ0FBQyxHQUFHLEdBQUcsbUVBQXdCLENBQUMsa0JBQWtCLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFFcEUsSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUNPLGdCQUFnQixDQUFDLFNBQWdCLEVBQUUsV0FBbUIsRUFBRSxHQUFZO1FBQ3hFLElBQUksR0FBRyxFQUFFO1lBQ0wsSUFBSSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEdBQUcsV0FBVyxHQUFHLGdDQUFnQyxHQUFHLEdBQUcsRUFBRSxTQUFTLENBQUMsQ0FBQztTQUM1RzthQUFNO1lBQ0gsSUFBSSxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxXQUFXLEdBQUcsV0FBVyxHQUFHLDhCQUE4QixFQUFFLFNBQVMsQ0FBQyxDQUFDO1NBQ3BHO1FBQ0QsSUFBSSxZQUFZLEdBQUcsU0FBUyxDQUFDLFdBQVcsQ0FBQztRQUN6QyxJQUFJLFNBQVMsQ0FBQyxJQUFJLEtBQUssNERBQXdCLEVBQUU7WUFDN0MsWUFBWSxHQUFHLEdBQUcsR0FBRyxTQUFTLENBQUMsV0FBVyxHQUFHLEdBQUcsQ0FBQztTQUNwRDtRQUNELElBQUksQ0FBQyxHQUFHLENBQUMsa0JBQWtCLENBQUMsWUFBWSxHQUFHLHdCQUF3QixF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RUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQztTQUM1RzthQUFNO1lBQ0gsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1NBQ3BCO1FBRUQsSUFBSSxDQUFDLFdBQVcsQ0FBQyx1REFBbUIsRUFBRSx3REFBd0QsQ0FBQyxDQUFDO1FBQ2hHLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNqQixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDM0MsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztDQUNKIiwiZmlsZSI6Ii4vc3JjL3NjdWZ0L2xhbmcvUGFyc2VyLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXJyb3JIYW5kbGVyIH0gZnJvbSBcIi4vRXJyb3JIYW5kbGVyXCI7XHJcbmltcG9ydCB7IFRva2VuLCBUb2tlblR5cGUsIHRva2VuVG9TdHIgfSBmcm9tIFwiLi9Ub2tlblwiO1xyXG5pbXBvcnQgKiBhcyBBU1QgZnJvbSBcIi4vQXN0XCI7XHJcbmltcG9ydCB7IFNjb3BlLCBTY29wZVR5cGUgfSBmcm9tIFwiLi9TY29wZVwiO1xyXG5cclxuaW1wb3J0IExleGVyIGZyb20gXCIuL0xleGVyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYXJzZXIge1xyXG4gICAgcHJpdmF0ZSByZWFkb25seSBsZXhlcjogTGV4ZXI7XHJcbiAgICByZWFkb25seSBlcnI6IEVycm9ySGFuZGxlcjtcclxuICAgIGNvbnN0cnVjdG9yKGxleGVyOiBMZXhlciwgZXJySGFuZGxlcjogRXJyb3JIYW5kbGVyKSB7XHJcbiAgICAgICAgdGhpcy5sZXhlciA9IGxleGVyO1xyXG4gICAgICAgIHRoaXMuZXJyID0gRXJyb3JIYW5kbGVyLmZyb21IYW5kbGVyKFwiLS0tLVBhcnNlci0tLS1cXG5cIiwgZXJySGFuZGxlcik7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdFByZWNlZGVuY2VNYXAoKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgdGhyb3dBc3NlcnRFcnJvcihhY3R1YWxUa246IFRva2VuLCBleHBlY3RlZFRrbjogc3RyaW5nLCBtc2c/OiBzdHJpbmcpOiBuZXZlciB7XHJcbiAgICAgICAgaWYgKG1zZykge1xyXG4gICAgICAgICAgICB0aGlzLmVyci5hdEFmdGVyTGFzdFRva2VuKFwiRXhwZWN0ZWQgXCIgKyBleHBlY3RlZFRrbiArIFwiIGJ1dCBmb3VuZCBhIGRpZmZlcmVudCB0b2tlbi4gXCIgKyBtc2csIGFjdHVhbFRrbik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5lcnIuYXRBZnRlckxhc3RUb2tlbihcIkV4cGVjdGVkIFwiICsgZXhwZWN0ZWRUa24gKyBcIiBidXQgZm91bmQgYSBkaWZmZXJlbnQgdG9rZW5cIiwgYWN0dWFsVGtuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGFjdHVhbFRrblN0ciA9IGFjdHVhbFRrbi5zdHJpbmdWYWx1ZTtcclxuICAgICAgICBpZiAoYWN0dWFsVGtuLnR5cGUgPT09IFRva2VuVHlwZS5JREVOVElGSUVSX1RLTikge1xyXG4gICAgICAgICAgICBhY3R1YWxUa25TdHIgPSBcIidcIiArIGFjdHVhbFRrbi5zdHJpbmdWYWx1ZSArIFwiJ1wiO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmVyci5hdFdob2xlVG9rZW5fUEFOSUMoYWN0dWFsVGtuU3RyICsgXCIgaXMgbm90IHBlcm1pdHRlZCBoZXJlXCIsIGFjdHVhbFRrbik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGFzc2VydElkZW50aWZpZXIoZXhwZWN0ZWRUa246IHN0cmluZywgbXNnPzogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IGFjdHVhbFRrbiA9IHRoaXMucGVla1Rva2VuKCk7XHJcbiAgICAgICAgaWYgKGFjdHVhbFRrbi50eXBlICE9PSBUb2tlblR5cGUuSURFTlRJRklFUl9US04pIHtcclxuICAgICAgICAgICAgdGhpcy50aHJvd0Fzc2VydEVycm9yKGFjdHVhbFRrbiwgZXhwZWN0ZWRUa24sIG1zZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBhc3NlcnRUb2tlbih0eXBlOiBUb2tlblR5cGUsIG1zZz86IHN0cmluZykge1xyXG4gICAgICAgIGxldCBhY3R1YWxUa24gPSB0aGlzLnBlZWtUb2tlbigpO1xyXG4gICAgICAgIGxldCBleHBlY3RlZFRrbiA9IHRva2VuVG9TdHIodHlwZSk7XHJcbiAgICAgICAgaWYgKGFjdHVhbFRrbi50eXBlICE9PSB0eXBlKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGhyb3dBc3NlcnRFcnJvcihhY3R1YWxUa24sIGV4cGVjdGVkVGtuLCBtc2cpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgdG9rZW5RdWV1ZTogVG9rZW5bXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBsb29rQWhlYWRUb2tlbihhbW91bnQ6IG51bWJlcik6IFRva2VuIHtcclxuICAgICAgICBjb25zb2xlLmFzc2VydChhbW91bnQgPiAwLCBcIk11c3Qgb25seSBsb29rIGFoZWFkIGJ5IGFtb3VudCBncmVhdGVyIHRoYW4gMC4gSW5zdGVhZCBnb3QgJXNcIiwgYW1vdW50KTtcclxuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy50b2tlblF1ZXVlLmxlbmd0aDsgaSA8IGFtb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9rZW5RdWV1ZS5wdXNoKHRoaXMubGV4ZXIubmV4dFRva2VuKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy50b2tlblF1ZXVlW2Ftb3VudCAtIDFdO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBjaGVja0FoZWFkVG9rZW4oYW1vdW50OiBudW1iZXIsIHR5cGU6IFRva2VuVHlwZSk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvb2tBaGVhZFRva2VuKGFtb3VudCkudHlwZSA9PT0gdHlwZTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgcGVla1Rva2VuKCk6IFRva2VuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sb29rQWhlYWRUb2tlbigxKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgY2hlY2tUb2tlbih0eXBlOiBUb2tlblR5cGUpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wZWVrVG9rZW4oKS50eXBlID09PSB0eXBlO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBuZXh0VG9rZW4oKTogVG9rZW4ge1xyXG4gICAgICAgIGlmICh0aGlzLnRva2VuUXVldWUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b2tlblF1ZXVlLnNoaWZ0KCkhO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxleGVyLm5leHRUb2tlbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHBhcnNlUHJvZ3JhbSgpOiBBU1QuQVNUUHJvZ3JhbSB7XHJcbiAgICAgICAgbGV0IHByb2dyYW0gPSBuZXcgQVNULkFTVFByb2dyYW0odGhpcy5wZWVrVG9rZW4oKSk7XHJcbiAgICAgICAgcHJvZ3JhbS5zY29wZSA9IFNjb3BlLm5ld0dsb2JhbFNjb3BlKCk7XHJcbiAgICAgICAgcHJvZ3JhbS53aXRoTW9kdWxlcyA9IFtdO1xyXG4gICAgICAgIHByb2dyYW0uZGVjbGFyYXRpb25zID0gW107XHJcbiAgICAgICAgd2hpbGUgKCF0aGlzLmNoZWNrVG9rZW4oVG9rZW5UeXBlLkVORF9US04pKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrVG9rZW4oVG9rZW5UeXBlLldJVEhfVEtOKSkge1xyXG4gICAgICAgICAgICAgICAgcHJvZ3JhbS53aXRoTW9kdWxlcy5wdXNoKHRoaXMucGFyc2VXaXRoKHByb2dyYW0uc2NvcGUpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5JREVOVElGSUVSX1RLTikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVyci5hdFRva2VuX1BBTklDKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlN0YXRlbWVudHMgYXJlIG5vdCBhbGxvd2VkIHRvIGV4aXN0IGZyZWVseSBpbiBnbG9iYWwgc2NvcGVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wZWVrVG9rZW4oKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgZGVjbGFyYXRpb24gPSB0aGlzLnBhcnNlRGVjbGFyYXRpb24ocHJvZ3JhbS5zY29wZSk7XHJcbiAgICAgICAgICAgICAgICBwcm9ncmFtLmRlY2xhcmF0aW9ucy5wdXNoKGRlY2xhcmF0aW9uKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcHJvZ3JhbTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgcGFyc2VCbG9jayhibG9ja1Njb3BlOiBTY29wZSk6IEFTVC5BU1RCbG9jayB7XHJcbiAgICAgICAgbGV0IGJsb2NrID0gbmV3IEFTVC5BU1RCbG9jayh0aGlzLnBlZWtUb2tlbigpKTtcclxuICAgICAgICBpZiAoIXRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuTEVGVF9DVVJMWV9US04pKSB7XHJcbiAgICAgICAgICAgIGxldCBzaW5nbGVMaW5lQmxvY2sgPSBuZXcgQVNULkFTVEJsb2NrKHRoaXMucGVla1Rva2VuKCkpO1xyXG4gICAgICAgICAgICBzaW5nbGVMaW5lQmxvY2suc2NvcGUgPSBibG9ja1Njb3BlO1xyXG4gICAgICAgICAgICBzaW5nbGVMaW5lQmxvY2suc3RhdGVtZW50cyA9IFtdO1xyXG4gICAgICAgICAgICBzaW5nbGVMaW5lQmxvY2suc3RhdGVtZW50cy5wdXNoKHRoaXMuZ2V0U3RhdGVtZW50KHNpbmdsZUxpbmVCbG9jaykpO1xyXG4gICAgICAgICAgICBzaW5nbGVMaW5lQmxvY2suZW5kVG9rZW4gPSBzaW5nbGVMaW5lQmxvY2suc3RhdGVtZW50c1swXS5lbmRUb2tlbjtcclxuICAgICAgICAgICAgcmV0dXJuIHNpbmdsZUxpbmVCbG9jaztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5uZXh0VG9rZW4oKTsgLy8gQ29uc3VtZSB7XHJcbiAgICAgICAgYmxvY2suc2NvcGUgPSBibG9ja1Njb3BlO1xyXG4gICAgICAgIGJsb2NrLndpdGhNb2R1bGVzID0gW107XHJcbiAgICAgICAgYmxvY2suc3RhdGVtZW50cyA9IFtdO1xyXG4gICAgICAgIHdoaWxlICghdGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5SSUdIVF9DVVJMWV9US04pICYmICF0aGlzLmNoZWNrVG9rZW4oVG9rZW5UeXBlLkVORF9US04pKSB7XHJcbiAgICAgICAgICAgIGlmIChibG9jay5oYXNKdW1wKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGFzdFN0bXQgPSBibG9jay5zdGF0ZW1lbnRzW2Jsb2NrLnN0YXRlbWVudHMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgICAgICBpZiAobGFzdFN0bXQubm9kZU5hbWUgPT09IEFTVC5Ob2RlVHlwZS5JRikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdE5vZGUoXCJFcnJvciBhZnRlciBpZiBzdGF0ZW1lbnQgc3RhcnRpbmcgaGVyZVwiLCBsYXN0U3RtdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0VG9rZW4oXCJFbmQgb2YgYmxvY2sgcmVhY2hlZCBhZnRlciB0aGUgfVwiLCBsYXN0U3RtdC5lbmRUb2tlbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0V2hvbGVUb2tlbl9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiSWYgc3RhdGVtZW50IGhhcyBubyBsZWFrcy4gVGhlIGZvbGxvd2luZyBzdGF0ZW1lbnQgaXMgdW5yZWFjaGFibGUgYW5kIG5vdCBhbGxvd2VkIGJ5IHRoaXMgbGFuZ3VhZ2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVla1Rva2VuKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0V2hvbGVOb2RlKFwiRW5kIG9mIGJsb2NrIHJlYWNoZWQgaGVyZVwiLCBsYXN0U3RtdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0V2hvbGVUb2tlbl9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiU3RhdGVtZW50cyBmb2xsb3dpbmcgYSBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2suc3RhdGVtZW50c1tibG9jay5zdGF0ZW1lbnRzLmxlbmd0aCAtIDFdLmxvY1Rva2VuLnN0cmluZ1ZhbHVlICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiBhcmUgdW5yZWFjaGFibGUgYW5kIG5vdCBhbGxvd2VkIGJ5IHRoaXMgbGFuZ3VhZ2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVla1Rva2VuKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5wZWVrVG9rZW4oKS50eXBlID09PSBUb2tlblR5cGUuV0lUSF9US04pIHtcclxuICAgICAgICAgICAgICAgIGJsb2NrLndpdGhNb2R1bGVzLnB1c2godGhpcy5wYXJzZVdpdGgoYmxvY2tTY29wZSkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IHN0YXRlbWVudCA9IHRoaXMuZ2V0U3RhdGVtZW50KGJsb2NrKTtcclxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZW1lbnQubm9kZU5hbWUgPT09IEFTVC5Ob2RlVHlwZS5ERUNMQVJBVElPTikge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBkZWNsID0gPEFTVC5BU1REZWNsYXJhdGlvbj5zdGF0ZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlY2wucnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZGVjbC5ydmFsdWUubm9kZU5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQVNULk5vZGVUeXBlLk1PRFVMRTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVyclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXROb2RlKFwiRXJyb3IgaW4gYmxvY2tcIiwgYmxvY2spXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdE5vZGVfUEFOSUMoXCJNb2R1bGUgZGVjbGFyYXRpb24gaXMgbm90IGFsbG93ZWQgaGVyZVwiLCBkZWNsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQVNULk5vZGVUeXBlLlRZUEVfREVGOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdE5vZGUoXCJFcnJvciBpbiBibG9ja1wiLCBibG9jaylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0Tm9kZV9QQU5JQyhcIlR5cGUgZGVmaW5pdGlvbiBpcyBub3QgYWxsb3dlZCBoZXJlXCIsIGRlY2wpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYmxvY2suc3RhdGVtZW50cy5wdXNoKHN0YXRlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuRU5EX1RLTikpIHtcclxuICAgICAgICAgICAgdGhpcy5lcnJcclxuICAgICAgICAgICAgICAgIC5hdE5vZGUoXCJFcnJvciBpbiBibG9ja1wiLCBibG9jaylcclxuICAgICAgICAgICAgICAgIC5hdEFmdGVyTGFzdFRva2VuX1BBTklDKFwiVW50ZXJtaW5hdGVkIGJsb2NrIGF0IGVuZCBvZiBmaWxlLiBFeHBlY3RlZCBjbG9zaW5nIH1cIiwgdGhpcy5wZWVrVG9rZW4oKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYmxvY2suZW5kVG9rZW4gPSB0aGlzLm5leHRUb2tlbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYmxvY2s7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGdldFN0YXRlbWVudChibG9jazogQVNULkFTVEJsb2NrKTogQVNULkFTVFN0YXRlbWVudCB7XHJcbiAgICAgICAgbGV0IGJsb2NrU2NvcGUgPSBibG9jay5zY29wZTtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMucGVla1Rva2VuKCkudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5CUkVBS19US046XHJcbiAgICAgICAgICAgICAgICBsZXQgYnJlYWtTdGF0ZW1lbnQgPSBuZXcgQVNULkFTVEJyZWFrKHRoaXMubmV4dFRva2VuKCkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRUb2tlbihUb2tlblR5cGUuU0VNSV9DT0xPTl9US04sIFwiU2VtaS1jb2xvbnMgYXJlIHJlcXVpcmVkIGF0IHRoZSBlbmQgb2YgYnJlYWsgc3RhdGVtZW50c1wiKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrU3RhdGVtZW50LmVuZFRva2VuID0gdGhpcy5uZXh0VG9rZW4oKTsgLy8gQ29uc3VtZSBzZW1pLWNvbG9uO1xyXG4gICAgICAgICAgICAgICAgYmxvY2suaGFzSnVtcCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBsZXQgZW5jbG9zZWRGdW5jQnJlYWsgPSBibG9ja1Njb3BlLmdldEVuY2xvc2luZ1Njb3BlKFNjb3BlVHlwZS5GVU5DX1NDT1BFKTtcclxuICAgICAgICAgICAgICAgIGxldCBlbmNsb3NlZExvb3BCcmVhayA9IGJsb2NrU2NvcGUuZ2V0RW5jbG9zaW5nU2NvcGUoU2NvcGVUeXBlLkxPT1BfU0NPUEUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFlbmNsb3NlZExvb3BCcmVhaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyLmF0V2hvbGVOb2RlX1BBTklDKFwiQnJlYWsgc3RhdGVtZW50IG11c3QgYmUgdXNlZCB3aXRoaW4gYSBsb29wXCIsIGJyZWFrU3RhdGVtZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlbmNsb3NlZEZ1bmNCcmVhayAmJiBlbmNsb3NlZEZ1bmNCcmVhay5zY29wZUlEID4gZW5jbG9zZWRMb29wQnJlYWsuc2NvcGVJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyLmF0V2hvbGVOb2RlX1BBTklDKFwiQ2FuJ3QgYnJlYWsgb3V0IG9mIGEgZnVuY3Rpb24gdXNpbmcgYSBicmVhayBzdGF0ZW1lbnRcIiwgYnJlYWtTdGF0ZW1lbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJyZWFrU3RhdGVtZW50O1xyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5DT05USU5VRV9US046XHJcbiAgICAgICAgICAgICAgICBsZXQgY29udGludWVTdGF0ZW1lbnQgPSBuZXcgQVNULkFTVENvbnRpbnVlKHRoaXMubmV4dFRva2VuKCkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRUb2tlbihcclxuICAgICAgICAgICAgICAgICAgICBUb2tlblR5cGUuU0VNSV9DT0xPTl9US04sXHJcbiAgICAgICAgICAgICAgICAgICAgXCJTZW1pLWNvbG9ucyBhcmUgcmVxdWlyZWQgYXQgdGhlIGVuZCBvZiBjb250aW51ZSBzdGF0ZW1lbnRzXCJcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZVN0YXRlbWVudC5lbmRUb2tlbiA9IHRoaXMubmV4dFRva2VuKCk7IC8vIENvbnN1bWUgc2VtaS1jb2xvbjtcclxuICAgICAgICAgICAgICAgIGJsb2NrLmhhc0p1bXAgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgbGV0IGVuY2xvc2VkRnVuY0NvbnQgPSBibG9ja1Njb3BlLmdldEVuY2xvc2luZ1Njb3BlKFNjb3BlVHlwZS5GVU5DX1NDT1BFKTtcclxuICAgICAgICAgICAgICAgIGxldCBlbmNsb3NlZExvb3BDb250ID0gYmxvY2tTY29wZS5nZXRFbmNsb3NpbmdTY29wZShTY29wZVR5cGUuTE9PUF9TQ09QRSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWVuY2xvc2VkTG9vcENvbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVyci5hdFdob2xlTm9kZV9QQU5JQyhcIkNvbnRpbnVlIHN0YXRlbWVudCBtdXN0IGJlIHVzZWQgd2l0aGluIGEgbG9vcFwiLCBjb250aW51ZVN0YXRlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZW5jbG9zZWRGdW5jQ29udCAmJiBlbmNsb3NlZEZ1bmNDb250LnNjb3BlSUQgPiBlbmNsb3NlZExvb3BDb250LnNjb3BlSUQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVyci5hdFdob2xlTm9kZV9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJDYW4ndCBjb250aW51ZSBvdXQgb2YgYSBmdW5jdGlvbiB1c2luZyBhIGNvbnRpbnVlIHN0YXRlbWVudFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZVN0YXRlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGludWVTdGF0ZW1lbnQ7XHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLlJFVFVSTl9US046XHJcbiAgICAgICAgICAgICAgICBsZXQgcmV0dXJuU3RhdGVtZW50ID0gbmV3IEFTVC5BU1RSZXR1cm4odGhpcy5uZXh0VG9rZW4oKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuU0VNSV9DT0xPTl9US04pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuU3RhdGVtZW50LnJldHVyblZhbHVlID0gdGhpcy5wYXJzZUV4cHJlc3Npb24oYmxvY2tTY29wZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VydFRva2VuKFRva2VuVHlwZS5TRU1JX0NPTE9OX1RLTiwgXCJTZW1pLWNvbG9ucyBhcmUgcmVxdWlyZWQgYXQgdGhlIGVuZCBvZiByZXR1cm4gc3RhdGVtZW50c1wiKTtcclxuICAgICAgICAgICAgICAgIHJldHVyblN0YXRlbWVudC5lbmRUb2tlbiA9IHRoaXMubmV4dFRva2VuKCk7IC8vIENvbnN1bWUgc2VtaS1jb2xvbjtcclxuICAgICAgICAgICAgICAgIGJsb2NrLmhhc0p1bXAgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYmxvY2suaGFzUmV0dXJuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5TdGF0ZW1lbnQ7XHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLklGX1RLTjpcclxuICAgICAgICAgICAgICAgIGxldCBpZlN0bXQgPSB0aGlzLnBhcnNlSWYoYmxvY2tTY29wZSk7XHJcbiAgICAgICAgICAgICAgICBibG9jay5oYXNKdW1wID0gaWZTdG10Lmhhc0p1bXA7XHJcbiAgICAgICAgICAgICAgICBibG9jay5oYXNSZXR1cm4gPSBpZlN0bXQuaGFzUmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlmU3RtdDtcclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuV0hJTEVfVEtOOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VXaGlsZShibG9ja1Njb3BlKTtcclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuRk9SX1RLTjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlRm9yKGJsb2NrU2NvcGUpO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgbGV0IHJlZk5hbWUgPSB0aGlzLnBhcnNlRXhwcmVzc2lvbihibG9ja1Njb3BlKTtcclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5DT0xPTl9US04pICYmXHJcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuTVVUQUJMRV9BU1NJR05NRU5UX1RLTikgJiZcclxuICAgICAgICAgICAgICAgICAgICAhdGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5JTU1VVEFCTEVfQVNTSUdOTUVOVF9US04pICYmXHJcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuQ09OU1RfQVNTSUdOTUVOVF9US04pXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VydFRva2VuKFRva2VuVHlwZS5TRU1JX0NPTE9OX1RLTiwgXCJUaGlzIGV4cHJlc3Npb24gbXVzdCBlbmQgd2l0aCBhIHNlbWktY29sb25cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0VG9rZW4oKTsgLy8gQ29uc3VtZSBzZW1pLWNvbG9uXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZk5hbWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlRGVjbGFyYXRpb25Gcm9tTmFtZShyZWZOYW1lLCBibG9ja1Njb3BlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHBhcnNlV2l0aChzY29wZTogU2NvcGUpOiBBU1QuQVNURXhwcmVzc2lvbiB7XHJcbiAgICAgICAgdGhpcy5uZXh0VG9rZW4oKTsgLy9Db25zdW1lIHdpdGggdG9rZW5cclxuICAgICAgICB0aGlzLmFzc2VydElkZW50aWZpZXIoXCJhIG1vZHVsZSBuYW1lXCIsIFwiV2l0aCBrZXl3b3JkIG11c3QgYmUgZm9sbG93ZWQgYnkgYSBuYW1lIHJlZmVyZW5jZSB0byBhIG1vZHVsZVwiKTtcclxuICAgICAgICBsZXQgd2l0aE1vZHVsZVJlZmVyZW5jZSA9IHRoaXMucGFyc2VFeHByZXNzaW9uKHNjb3BlKTtcclxuICAgICAgICB0aGlzLmFzc2VydFRva2VuKFRva2VuVHlwZS5TRU1JX0NPTE9OX1RLTiwgXCJTZW1pLWNvbG9ucyBhcmUgcmVxdWlyZWQgYXQgdGhlIGVuZCBvZiB3aXRoIHN0YXRlbWVudHNcIik7XHJcbiAgICAgICAgdGhpcy5uZXh0VG9rZW4oKTsgLy9Db25zdW1lIHNlbWktY29sb25cclxuICAgICAgICByZXR1cm4gd2l0aE1vZHVsZVJlZmVyZW5jZTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgcGFyc2VJZihzY29wZTogU2NvcGUpOiBBU1QuQVNUSWYge1xyXG4gICAgICAgIHRoaXMuYXNzZXJ0VG9rZW4oVG9rZW5UeXBlLklGX1RLTiwgXCJJZiBzdGF0ZW1lbnQgbXVzdCBzdGFydCB3aXRoIGlmIGtleXdvcmRcIik7XHJcbiAgICAgICAgbGV0IGlmU3RhdGVtZW50ID0gbmV3IEFTVC5BU1RJZih0aGlzLm5leHRUb2tlbigpKTtcclxuICAgICAgICBsZXQgaWZDb25zZXFTY29wZSA9IG5ldyBTY29wZShzY29wZSk7XHJcbiAgICAgICAgaWZDb25zZXFTY29wZS5zY29wZVR5cGUgPSBTY29wZVR5cGUuQlJBTkNIX1NDT1BFO1xyXG4gICAgICAgIGlmU3RhdGVtZW50LmNvbmRpdGlvbiA9IHRoaXMucGFyc2VFeHByZXNzaW9uKGlmQ29uc2VxU2NvcGUpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5SSUdIVF9QQVJFTlNfVEtOKSkge1xyXG4gICAgICAgICAgICB0aGlzLmVyci5hdFRva2VuX1BBTklDKFwiVW5iYWxhbmNlZCBwYXJlbnRoZXNpcy4gRXhwZWN0ZWQge1wiLCB0aGlzLnBlZWtUb2tlbigpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWZTdGF0ZW1lbnQuY29uc2VxdWVuY2UgPSB0aGlzLnBhcnNlQmxvY2soaWZDb25zZXFTY29wZSk7XHJcbiAgICAgICAgaWZTdGF0ZW1lbnQuZW5kVG9rZW4gPSBpZlN0YXRlbWVudC5jb25zZXF1ZW5jZS5lbmRUb2tlbjtcclxuICAgICAgICBpZiAodGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5FTFNFX1RLTikpIHtcclxuICAgICAgICAgICAgdGhpcy5uZXh0VG9rZW4oKTsgLy9Db25zdW1lIGVsc2UgdG9rZW5cclxuICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuSUZfVEtOKSkge1xyXG4gICAgICAgICAgICAgICAgaWZTdGF0ZW1lbnQuYWx0ZXJuYXRpdmUgPSB0aGlzLnBhcnNlSWYoc2NvcGUpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuRU5EX1RLTikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0Tm9kZShcIkVycm9yIGluIGlmIHN0YXRlbWVudFwiLCBpZlN0YXRlbWVudClcclxuICAgICAgICAgICAgICAgICAgICAuYXRBZnRlckxhc3RUb2tlbl9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJVbnRlcm1pbmF0ZWQgY29kZSBhdCBlbmQgb2YgZmlsZS4gRXhwZWN0ZWQgaWYga2V5d29yZCBvciB7XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVla1Rva2VuKClcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IGFsdGVybmF0ZVNjb3BlID0gbmV3IFNjb3BlKHNjb3BlKTtcclxuICAgICAgICAgICAgICAgIGFsdGVybmF0ZVNjb3BlLnNjb3BlVHlwZSA9IFNjb3BlVHlwZS5CUkFOQ0hfU0NPUEU7XHJcbiAgICAgICAgICAgICAgICBpZlN0YXRlbWVudC5hbHRlcm5hdGl2ZSA9IHRoaXMucGFyc2VCbG9jayhhbHRlcm5hdGVTY29wZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWZTdGF0ZW1lbnQuaGFzSnVtcCA9IGlmU3RhdGVtZW50LmNvbnNlcXVlbmNlLmhhc0p1bXAgJiYgaWZTdGF0ZW1lbnQuYWx0ZXJuYXRpdmUuaGFzSnVtcDtcclxuICAgICAgICAgICAgaWZTdGF0ZW1lbnQuaGFzUmV0dXJuID0gaWZTdGF0ZW1lbnQuY29uc2VxdWVuY2UuaGFzUmV0dXJuICYmIGlmU3RhdGVtZW50LmFsdGVybmF0aXZlLmhhc1JldHVybjtcclxuICAgICAgICAgICAgaWZTdGF0ZW1lbnQuZW5kVG9rZW4gPSBpZlN0YXRlbWVudC5hbHRlcm5hdGl2ZS5lbmRUb2tlbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGlmU3RhdGVtZW50O1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBwYXJzZVdoaWxlKHNjb3BlOiBTY29wZSk6IEFTVC5BU1RXaGlsZSB7XHJcbiAgICAgICAgdGhpcy5hc3NlcnRUb2tlbihUb2tlblR5cGUuV0hJTEVfVEtOLCBcIldoaWxlIGxvb3AgbXVzdCBzdGFydCB3aXRoIHdoaWxlIGtleXdvcmRcIik7XHJcbiAgICAgICAgbGV0IHdoaWxlU3RhdGVtZW50ID0gbmV3IEFTVC5BU1RXaGlsZSh0aGlzLm5leHRUb2tlbigpKTtcclxuICAgICAgICBsZXQgd2hpbGVTY29wZSA9IG5ldyBTY29wZShzY29wZSk7XHJcbiAgICAgICAgd2hpbGVTY29wZS5zY29wZVR5cGUgPSBTY29wZVR5cGUuTE9PUF9TQ09QRTtcclxuICAgICAgICB3aGlsZVN0YXRlbWVudC5jb25kaXRpb24gPSB0aGlzLnBhcnNlRXhwcmVzc2lvbih3aGlsZVNjb3BlKTtcclxuICAgICAgICB3aGlsZVN0YXRlbWVudC5ibG9jayA9IHRoaXMucGFyc2VCbG9jayh3aGlsZVNjb3BlKTtcclxuICAgICAgICByZXR1cm4gd2hpbGVTdGF0ZW1lbnQ7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHBhcnNlRm9yKHNjb3BlOiBTY29wZSk6IEFTVC5BU1RGb3Ige1xyXG4gICAgICAgIGxldCBmb3JTY29wZSA9IG5ldyBTY29wZShzY29wZSk7XHJcbiAgICAgICAgZm9yU2NvcGUuc2NvcGVUeXBlID0gU2NvcGVUeXBlLkxPT1BfU0NPUEU7XHJcbiAgICAgICAgdGhpcy5hc3NlcnRUb2tlbihUb2tlblR5cGUuRk9SX1RLTiwgXCJGb3IgbG9vcCBtdXN0IHN0YXJ0IHdpdGggZm9yIGtleXdvcmRcIik7XHJcbiAgICAgICAgbGV0IGZvclN0YXRlbWVudCA9IG5ldyBBU1QuQVNURm9yKHRoaXMubmV4dFRva2VuKCkpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5MRUZUX1BBUkVOU19US04pKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXJyLmF0VG9rZW5fUEFOSUMoXHJcbiAgICAgICAgICAgICAgICBcIkZvciBsb29wcyBkb24ndCByZXF1aXJlIGVuY2Fwc3VsYXRpbmcgcGFyZW50aGVzaXMgaW4gdGhpcyBsYW5ndWFnZVwiLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wZWVrVG9rZW4oKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKHRoaXMubG9va0FoZWFkVG9rZW4oMikudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5MRUZUX0NVUkxZX1RLTjpcclxuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0SWRlbnRpZmllcihcImEgdmFyaWFibGUgcmVmZXJlbmNlIHRvIGFuIGl0ZXJhYmxlXCIpO1xyXG4gICAgICAgICAgICAgICAgZm9yU3RhdGVtZW50Lml0ZXJhYmxlTmFtZSA9IHRoaXMucGFyc2VFeHByZXNzaW9uKGZvclNjb3BlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5DT01NQV9US046XHJcbiAgICAgICAgICAgICAgICBsZXQgaXRlbURlYyA9IG5ldyBBU1QuQVNURGVjbGFyYXRpb24odGhpcy5wZWVrVG9rZW4oKSk7XHJcbiAgICAgICAgICAgICAgICBmb3JTdGF0ZW1lbnQuaXRlbVBhcmFtRGVjID0gaXRlbURlYztcclxuICAgICAgICAgICAgICAgIGl0ZW1EZWMuaW5TY29wZSA9IGZvclNjb3BlO1xyXG4gICAgICAgICAgICAgICAgaXRlbURlYy5sdmFsdWUgPSBuZXcgQVNULkFTVE5hbWUodGhpcy5wZWVrVG9rZW4oKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuSURFTlRJRklFUl9US04pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnIuYXRUb2tlbl9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJFeHBlY3RlZCBhIG5ldyAnaXRlbScgdmFyaWFibGUgZGVjbGFyYXRpb24gYnV0IGdvdCBhbiBleHByZXNzaW9uIGluc3RlYWRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wZWVrVG9rZW4oKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpdGVtRGVjLmx2YWx1ZS5yZWZOYW1lID0gdGhpcy5uZXh0VG9rZW4oKS5zdHJpbmdWYWx1ZTtcclxuICAgICAgICAgICAgICAgIGZvclNjb3BlLnRhYmxlLnNldChpdGVtRGVjLmx2YWx1ZS5yZWZOYW1lLCBpdGVtRGVjKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dFRva2VuKCk7IC8vQ29uc3VtZSBjb21tYVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBpbmRleERlYyA9IG5ldyBBU1QuQVNURGVjbGFyYXRpb24odGhpcy5wZWVrVG9rZW4oKSk7XHJcbiAgICAgICAgICAgICAgICBmb3JTdGF0ZW1lbnQuaW5kZXhQYXJhbURlYyA9IGluZGV4RGVjO1xyXG4gICAgICAgICAgICAgICAgaW5kZXhEZWMuaW5TY29wZSA9IGZvclNjb3BlO1xyXG4gICAgICAgICAgICAgICAgaW5kZXhEZWMubHZhbHVlID0gbmV3IEFTVC5BU1ROYW1lKHRoaXMucGVla1Rva2VuKCkpO1xyXG4gICAgICAgICAgICAgICAgaW5kZXhEZWMudHlwZSA9IG5ldyBBU1QuQVNUVHlwZUxpdGVyYWwodGhpcy5wZWVrVG9rZW4oKSk7XHJcbiAgICAgICAgICAgICAgICBpbmRleERlYy50eXBlLnR5cGUgPSA8QVNULlR5cGVMaXRlcmFsVG9rZW4+VG9rZW5UeXBlLk5VTV9UWVBFX1RLTjtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5JREVOVElGSUVSX1RLTikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVyci5hdFRva2VuX1BBTklDKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkV4cGVjdGVkIGEgbmV3ICdpbmRleCcgdmFyaWFibGUgZGVjbGFyYXRpb24gYnV0IGdvdCBhbiBleHByZXNzaW9uIGluc3RlYWRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wZWVrVG9rZW4oKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpbmRleERlYy5sdmFsdWUucmVmTmFtZSA9IHRoaXMubmV4dFRva2VuKCkuc3RyaW5nVmFsdWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbURlYy5sdmFsdWUucmVmTmFtZSA9PT0gaW5kZXhEZWMubHZhbHVlLnJlZk5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVyclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXROb2RlKFwiRHVwbGljYXRlIHZhcmlhYmxlIGRlY2xhcmF0aW9uIGluIGZvciBsb29wXCIsIGl0ZW1EZWMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdE5vZGVfUEFOSUMoXCJWYXJpYWJsZSBuYW1lIG9mIGl0ZW0gYW5kIGluZGV4IHZhcmlhYmxlIG11c3QgYmUgZGlmZmVyZW50XCIsIGluZGV4RGVjKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvclNjb3BlLnRhYmxlLnNldChpdGVtRGVjLmx2YWx1ZS5yZWZOYW1lLCBpdGVtRGVjKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VydFRva2VuKFRva2VuVHlwZS5JTl9US04pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0VG9rZW4oKTsgLy9Db25zdW1lIGluIHRva2VuXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRJZGVudGlmaWVyKFwiYSB2YXJpYWJsZSByZWZlcmVuY2UgdG8gYW4gaXRlcmFibGVcIik7XHJcbiAgICAgICAgICAgICAgICBmb3JTdGF0ZW1lbnQuaXRlcmFibGVOYW1lID0gdGhpcy5wYXJzZUV4cHJlc3Npb24oZm9yU2NvcGUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLklOX1RLTjpcclxuICAgICAgICAgICAgICAgIGxldCBpbkl0ZW1EZWMgPSBuZXcgQVNULkFTVERlY2xhcmF0aW9uKHRoaXMucGVla1Rva2VuKCkpO1xyXG4gICAgICAgICAgICAgICAgZm9yU3RhdGVtZW50Lml0ZW1QYXJhbURlYyA9IGluSXRlbURlYztcclxuICAgICAgICAgICAgICAgIGluSXRlbURlYy5pblNjb3BlID0gZm9yU2NvcGU7XHJcbiAgICAgICAgICAgICAgICBpbkl0ZW1EZWMubHZhbHVlID0gbmV3IEFTVC5BU1ROYW1lKHRoaXMucGVla1Rva2VuKCkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNoZWNrVG9rZW4oVG9rZW5UeXBlLklERU5USUZJRVJfVEtOKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyLmF0VG9rZW5fUEFOSUMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiRXhwZWN0ZWQgYSBuZXcgJ2l0ZW0nIHZhcmlhYmxlIGRlY2xhcmF0aW9uIGJ1dCBnb3QgYW4gZXhwcmVzc2lvbiBpbnN0ZWFkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVla1Rva2VuKClcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5JdGVtRGVjLmx2YWx1ZS5yZWZOYW1lID0gdGhpcy5uZXh0VG9rZW4oKS5zdHJpbmdWYWx1ZTtcclxuICAgICAgICAgICAgICAgIGZvclNjb3BlLnRhYmxlLnNldChpbkl0ZW1EZWMubHZhbHVlLnJlZk5hbWUsIGluSXRlbURlYyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0VG9rZW4oKTsgLy9Db25zdW1lIGluXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuSEFTSF9SQU5HRV9US04pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0VG9rZW4oKTsgLy9Db25zdW1lICNyYW5nZSB0b2tlblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpc0xvd2VyQm91bmRFeGNsdXNpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5MRUZUX1BBUkVOU19US04pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTG93ZXJCb3VuZEV4Y2x1c2l2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5MRUZUX1NRVUFSRV9US04pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyLmF0VG9rZW5fUEFOSUMoXCJFeHBlY3RlZCBlaXRoZXIgYSBbIG9yIGEgKFwiLCB0aGlzLnBlZWtUb2tlbigpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0VG9rZW4oKTsgLy9jb25zdW1lICkgb3IgXVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBmb3JTdGF0ZW1lbnQubG93ZXJCb3VuZCA9IHRoaXMucGFyc2VFeHByZXNzaW9uKGZvclNjb3BlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNMb3dlckJvdW5kRXhjbHVzaXZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBleHByZXNzaW9uID0gbmV3IEFTVC5BU1RCaW5hcnlPcGVyYXRvcihmb3JTdGF0ZW1lbnQubG93ZXJCb3VuZC5sb2NUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24ubHZhbHVlID0gZm9yU3RhdGVtZW50Lmxvd2VyQm91bmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24ub3BlcmF0aW9uID0gbmV3IFRva2VuKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIrXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JTdGF0ZW1lbnQubG93ZXJCb3VuZC5sb2NUb2tlbi5saW5lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yU3RhdGVtZW50Lmxvd2VyQm91bmQubG9jVG9rZW4uYyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRva2VuVHlwZS5PUF9BRERfVEtOXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24ucnZhbHVlID0gbmV3IEFTVC5BU1RMaXRlcmFsKGZvclN0YXRlbWVudC5sb3dlckJvdW5kLmxvY1Rva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbi5ydmFsdWUudmFsdWUgPSBUb2tlbi5mcm9tVHlwZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRva2VuVHlwZS5OVU1FUklDX0xJVEVSQUxfVEtOLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbi5ydmFsdWUubG9jVG9rZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbi5ydmFsdWUudmFsdWUudmFsdWUgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JTdGF0ZW1lbnQubG93ZXJCb3VuZCA9IGV4cHJlc3Npb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24uZW5kVG9rZW4gPSBleHByZXNzaW9uLnJ2YWx1ZS5sb2NUb2tlbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrVG9rZW4oVG9rZW5UeXBlLlJJR0hUX1NRVUFSRV9US04pIHx8IHRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuUklHSFRfUEFSRU5TX1RLTikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnIuYXRUb2tlbl9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiRm9yIGxvb3AgcmFuZ2UgcmVxdWlyZXMgdHdvIGV4cHJlc3Npb25zIHNlcGFyYXRlZCBieSBhIGNvbW1hXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBlZWtUb2tlbigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0VG9rZW4oVG9rZW5UeXBlLkNPTU1BX1RLTiwgXCJJbnZhbGlkIGRlY2xhcmF0aW9uIG9mIGEgZm9yIGxvb3AgcmFuZ2VcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0VG9rZW4oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yU3RhdGVtZW50LnVwcGVyQm91bmQgPSB0aGlzLnBhcnNlRXhwcmVzc2lvbihmb3JTY29wZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrVG9rZW4oVG9rZW5UeXBlLlJJR0hUX1BBUkVOU19US04pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBleHByZXNzaW9uID0gbmV3IEFTVC5BU1RCaW5hcnlPcGVyYXRvcihmb3JTdGF0ZW1lbnQudXBwZXJCb3VuZC5sb2NUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24ubHZhbHVlID0gZm9yU3RhdGVtZW50LnVwcGVyQm91bmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24ub3BlcmF0aW9uID0gbmV3IFRva2VuKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCItXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JTdGF0ZW1lbnQudXBwZXJCb3VuZC5sb2NUb2tlbi5saW5lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yU3RhdGVtZW50LnVwcGVyQm91bmQubG9jVG9rZW4uYyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRva2VuVHlwZS5PUF9TVUJUUl9US05cclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbi5ydmFsdWUgPSBuZXcgQVNULkFTVExpdGVyYWwoZm9yU3RhdGVtZW50LnVwcGVyQm91bmQubG9jVG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uLnJ2YWx1ZS52YWx1ZSA9IFRva2VuLmZyb21UeXBlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVG9rZW5UeXBlLk5VTUVSSUNfTElURVJBTF9US04sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uLnJ2YWx1ZS5sb2NUb2tlblxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uLnJ2YWx1ZS52YWx1ZS52YWx1ZSA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvclN0YXRlbWVudC51cHBlckJvdW5kID0gZXhwcmVzc2lvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbi5lbmRUb2tlbiA9IGV4cHJlc3Npb24ucnZhbHVlLmxvY1Rva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuUklHSFRfU1FVQVJFX1RLTikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnIuYXRUb2tlbl9QQU5JQyhcIkV4cGVjdGVkIGVpdGhlciBhIF0gb3IgYSApXCIsIHRoaXMucGVla1Rva2VuKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRUb2tlbigpOyAvL2NvbnN1bWUgKSBvciBdXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0SWRlbnRpZmllcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJhIHZhcmlhYmxlIHJlZmVyZW5jZSB0byBhbiBpdGVyYWJsZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkEgcG90ZW50aWFsIGZpeCBpcyB0byB1c2UgI3JhbmdlIGFmdGVyIHRoZSBpbiBrZXl3b3JkIHRvIGRlbm90ZSBpdGVyYXRpb24gb3ZlciBhIHJhbmdlXCJcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvclN0YXRlbWVudC5pdGVyYWJsZU5hbWUgPSB0aGlzLnBhcnNlRXhwcmVzc2lvbihmb3JTY29wZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVyci5hdFRva2VuX1BBTklDKFxyXG4gICAgICAgICAgICAgICAgICAgIFwiSW52YWxpZCBmb3IgbG9vcC4gRXhwZWN0ZWQgYSBzaW5nbGUgdmFyaWFibGUgbmFtZSBidXQgZ290IGFuIGV4cHJlc3Npb24gaW5zdGVhZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGVla1Rva2VuKClcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvclN0YXRlbWVudC5ibG9jayA9IHRoaXMucGFyc2VCbG9jayhmb3JTY29wZSk7XHJcbiAgICAgICAgcmV0dXJuIGZvclN0YXRlbWVudDtcclxuICAgIH1cclxuICAgIHByaXZhdGUgcGFyc2VEZWNsYXJhdGlvbihzY29wZTogU2NvcGUpOiBBU1QuQVNURGVjbGFyYXRpb24ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlRGVjbGFyYXRpb25Gcm9tTmFtZSh0aGlzLnBhcnNlRXhwcmVzc2lvbihzY29wZSksIHNjb3BlKTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgcGFyc2VEZWNsYXJhdGlvbkZyb21OYW1lKHJlZk5hbWU6IEFTVC5BU1RFeHByZXNzaW9uLCBzY29wZTogU2NvcGUpOiBBU1QuQVNURGVjbGFyYXRpb24ge1xyXG4gICAgICAgIGxldCBkZWNsID0gbmV3IEFTVC5BU1REZWNsYXJhdGlvbihyZWZOYW1lLmxvY1Rva2VuKTtcclxuICAgICAgICBkZWNsLmluU2NvcGUgPSBzY29wZTtcclxuICAgICAgICBkZWNsLmx2YWx1ZSA9IHJlZk5hbWU7XHJcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuQ09MT05fVEtOKSkge1xyXG4gICAgICAgICAgICB0aGlzLm5leHRUb2tlbigpOyAvL0NvbnN1bWUgOlxyXG4gICAgICAgICAgICBkZWNsLnR5cGUgPSB0aGlzLnBhcnNlRXhwcmVzc2lvbihzY29wZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuTVVUQUJMRV9BU1NJR05NRU5UX1RLTikgfHxcclxuICAgICAgICAgICAgdGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5JTU1VVEFCTEVfQVNTSUdOTUVOVF9US04pIHx8XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuQ09OU1RfQVNTSUdOTUVOVF9US04pXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGRlY2wuYWNjZXNzQXNzaWdubWVudCA9IHRoaXMubmV4dFRva2VuKCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrVG9rZW4oVG9rZW5UeXBlLlRZUEVfVEtOKSkge1xyXG4gICAgICAgICAgICAgICAgZGVjbC5ydmFsdWUgPSB0aGlzLnBhcnNlVHlwZURlZmluaXRpb24oc2NvcGUpO1xyXG4gICAgICAgICAgICAgICAgKDxBU1QuQVNUVHlwZURlZmluaXRpb24+ZGVjbC5ydmFsdWUpLnR5cGVEZWNSZWYgPSBkZWNsO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuU0VNSV9DT0xPTl9US04pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0Tm9kZShcIkVycm9yIGluIHR5cGUgZGVmaW5pdGlvblwiLCByZWZOYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXRUb2tlbl9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiU2VtaS1jb2xvbnMgYXJlIG5vdCBhY2NlcHRlZCBkaXJlY3RseSBhZnRlciB0aGUgZW5kIGJyYWNrZXQgb2YgYSB0eXBlIGRlZmluaXRpb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVla1Rva2VuKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRlY2wucnZhbHVlID0gdGhpcy5wYXJzZUV4cHJlc3Npb24oc2NvcGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlY2wucnZhbHVlLm5vZGVOYW1lID09PSBBU1QuTm9kZVR5cGUuTU9EVUxFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuU0VNSV9DT0xPTl9US04pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXROb2RlKFwiRXJyb3IgaW4gbW9kdWxlXCIsIHJlZk5hbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXRUb2tlbl9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlNlbWktY29sb25zIGFyZSBub3QgYWNjZXB0ZWQgZGlyZWN0bHkgYWZ0ZXIgdGhlIGVuZCBicmFja2V0IG9mIGEgbW9kdWxlIGRlY2xhcmF0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wZWVrVG9rZW4oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgKDxBU1QuQVNUTW9kdWxlPmRlY2wucnZhbHVlKS5tb2R1bGVEZWNSZWYgPSBkZWNsO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkZWNsLnJ2YWx1ZS5ub2RlTmFtZSA9PT0gQVNULk5vZGVUeXBlLkZVTkNUSU9OKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuU0VNSV9DT0xPTl9US04pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXROb2RlKFwiRXJyb3IgaW4gZnVuY3Rpb24gZGVjbGFyYXRpb25cIiwgcmVmTmFtZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdFRva2VuX1BBTklDKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiU2VtaS1jb2xvbnMgYXJlIG5vdCBhY2NlcHRlZCBkaXJlY3RseSBhZnRlciB0aGUgZW5kIGJyYWNrZXQgb2YgYSBmdW5jdGlvbiBkZWNsYXJhdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVla1Rva2VuKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5FTkRfVEtOKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVyclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0V2hvbGVOb2RlKFwiRXJyb3IgaW4gZXhwcmVzc2lvblwiLCBkZWNsLnJ2YWx1ZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdEFmdGVyTGFzdFRva2VuX1BBTklDKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiVW50ZXJtaW5hdGVkIGNvZGUgYXQgZW5kIG9mIGZpbGUuIEV4cGVjdGVkIGFuIG9wZXJhdG9yLCBvcGVyYW5kLCBvciB0ZXJtaW5hdGluZyB0b2tlbiBsaWtlIHNlbWktY29sb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBlZWtUb2tlbigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5SSUdIVF9QQVJFTlNfVEtOKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVyci5hdFRva2VuX1BBTklDKFwiVW5iYWxhbmNlZCBwYXJlbnRoZXNpcy4gRXhwZWN0ZWQgYSBzZW1pLWNvbG9uXCIsIHRoaXMucGVla1Rva2VuKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuU0VNSV9DT0xPTl9US04pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXROb2RlKFwiRXJyb3IgaW4gZGVjbGFyYXRpb24gXCIsIHJlZk5hbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXRBZnRlckxhc3RUb2tlbl9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkV4cGVjdGVkIGEgc2VtaS1jb2xvbiBhdCB0aGUgZW5kIG9mIHRoZSBkZWNsYXJhdGlvbiBidXQgZ290IFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wZWVrVG9rZW4oKS5zdHJpbmdWYWx1ZSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiIGluc3RlYWRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBlZWtUb2tlbigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5hc3NlcnRUb2tlbihUb2tlblR5cGUuU0VNSV9DT0xPTl9US04sIFwiU2VtaS1jb2xvbnMgYXJlIHJlcXVpcmVkIGF0IHRoZSBlbmQgb2YgdmFyaWFibGUgZGVjbGFyYXRpb25zXCIpO1xyXG4gICAgICAgICAgICB0aGlzLm5leHRUb2tlbigpOyAvLyBDb25zdW1lIHNlbWktY29sb25cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KFxyXG4gICAgICAgICAgICBkZWNsLnR5cGUgfHwgZGVjbC5ydmFsdWUsXHJcbiAgICAgICAgICAgIFwiVGhpcyBzaG91bGQgYmUgZXZhbHV0ZWQgYXMgYW4gZXhwcmVzc2lvbiBzdGF0ZW1lbnQsIG5vdCBhIGRlY2xhcmF0aW9uXCJcclxuICAgICAgICApO1xyXG4gICAgICAgIGlmIChyZWZOYW1lLm5vZGVOYW1lID09PSBBU1QuTm9kZVR5cGUuTkFNRSkge1xyXG4gICAgICAgICAgICBpZiAoIXNjb3BlLnRhYmxlLmhhcygoPEFTVC5BU1ROYW1lPnJlZk5hbWUpLnJlZk5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXNGdW5jID0gZGVjbC5ydmFsdWUgJiYgZGVjbC5ydmFsdWUubm9kZU5hbWUgPT09IEFTVC5Ob2RlVHlwZS5GVU5DVElPTjtcclxuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmMgJiYgZGVjbC5hY2Nlc3NBc3NpZ25tZW50LnR5cGUgPT09IFRva2VuVHlwZS5NVVRBQkxFX0FTU0lHTk1FTlRfVEtOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0Tm9kZShcIkZ1bmN0aW9uIGNhbid0IGJlIGFzc2lnbmVkIHVzaW5nIG11dGFibGUgYXNzaWdubWVudFwiLCBkZWNsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkTm90ZV9QQU5JQyhcIkZ1bmN0aW9ucyBjYW4gb25seSBiZSBhc3NpZ25lZCB0byBhIHZhcmlhYmxlIHVzaW5nID0gb3IgPT5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzY29wZS50YWJsZS5zZXQoKDxBU1QuQVNUTmFtZT5yZWZOYW1lKS5yZWZOYW1lLCBkZWNsKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkZWNsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlY2wuaXNBc3NpZ25tZW50ID0gdHJ1ZTtcclxuICAgICAgICByZXR1cm4gZGVjbDtcclxuICAgIH1cclxuICAgIHByaXZhdGUgcGFyc2VNb2R1bGUoc2NvcGU6IFNjb3BlKTogQVNULkFTVE1vZHVsZSB7XHJcbiAgICAgICAgbGV0IG1vZHVsZVNjb3BlID0gbmV3IFNjb3BlKHNjb3BlKTtcclxuICAgICAgICBtb2R1bGVTY29wZS5zY29wZVR5cGUgPSBTY29wZVR5cGUuTU9EVUxFX1NDT1BFO1xyXG4gICAgICAgIHRoaXMuYXNzZXJ0VG9rZW4oVG9rZW5UeXBlLk1PRFVMRV9US04sIFwiTW9kdWxlIG11c3Qgc3RhcnQgd2l0aCBtb2R1bGUga2V5d29yZFwiKTtcclxuICAgICAgICBsZXQgbW9kdWxlID0gbmV3IEFTVC5BU1RNb2R1bGUodGhpcy5uZXh0VG9rZW4oKSk7XHJcbiAgICAgICAgbW9kdWxlLnNjb3BlID0gbW9kdWxlU2NvcGU7XHJcbiAgICAgICAgbW9kdWxlLndpdGhNb2R1bGVzID0gW107XHJcbiAgICAgICAgbW9kdWxlLmRlY2xhcmF0aW9ucyA9IFtdO1xyXG4gICAgICAgIHRoaXMuYXNzZXJ0VG9rZW4oVG9rZW5UeXBlLkxFRlRfQ1VSTFlfVEtOKTtcclxuICAgICAgICB0aGlzLm5leHRUb2tlbigpOyAvL0NvbnN1bWUgbGVmdCBjdXJseVxyXG4gICAgICAgIHdoaWxlICghdGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5SSUdIVF9DVVJMWV9US04pICYmICF0aGlzLmNoZWNrVG9rZW4oVG9rZW5UeXBlLkVORF9US04pKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrVG9rZW4oVG9rZW5UeXBlLldJVEhfVEtOKSkge1xyXG4gICAgICAgICAgICAgICAgbW9kdWxlLndpdGhNb2R1bGVzLnB1c2godGhpcy5wYXJzZVdpdGgobW9kdWxlU2NvcGUpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1vZHVsZS5kZWNsYXJhdGlvbnMucHVzaCh0aGlzLnBhcnNlRGVjbGFyYXRpb24obW9kdWxlU2NvcGUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5FTkRfVEtOKSkge1xyXG4gICAgICAgICAgICB0aGlzLmVyclxyXG4gICAgICAgICAgICAgICAgLmF0Tm9kZShcIkVycm9yIGluIG1vZHVsZVwiLCBtb2R1bGUpXHJcbiAgICAgICAgICAgICAgICAuYXRBZnRlckxhc3RUb2tlbl9QQU5JQyhcIlVudGVybWluYXRlZCBjb2RlIGF0IGVuZCBvZiBmaWxlLiBFeHBlY3RlZCBjbG9zaW5nIHtcIiwgdGhpcy5wZWVrVG9rZW4oKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5uZXh0VG9rZW4oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1vZHVsZTtcclxuICAgIH1cclxuICAgIHByaXZhdGUgcGFyc2VUeXBlRGVmaW5pdGlvbihzY29wZTogU2NvcGUpOiBBU1QuQVNUVHlwZURlZmluaXRpb24ge1xyXG4gICAgICAgIGxldCB0eXBlRGVmU2NvcGUgPSBuZXcgU2NvcGUoc2NvcGUpO1xyXG4gICAgICAgIHR5cGVEZWZTY29wZS5zY29wZVR5cGUgPSBTY29wZVR5cGUuVFlQRV9TQ09QRTtcclxuICAgICAgICB0aGlzLmFzc2VydFRva2VuKFRva2VuVHlwZS5UWVBFX1RLTiwgXCJUeXBlIGRlZmluaXRpb24gbXVzdCBzdGFydCB3aXRoIHR5cGUga2V5d29yZFwiKTtcclxuICAgICAgICBsZXQgdHlwZURlZiA9IG5ldyBBU1QuQVNUVHlwZURlZmluaXRpb24odGhpcy5uZXh0VG9rZW4oKSk7XHJcbiAgICAgICAgdHlwZURlZi5zY29wZSA9IHR5cGVEZWZTY29wZTtcclxuICAgICAgICB0eXBlRGVmLndpdGhNb2R1bGVzID0gW107XHJcbiAgICAgICAgdHlwZURlZi5kZWNsYXJhdGlvbnMgPSBbXTtcclxuICAgICAgICB0aGlzLmFzc2VydFRva2VuKFRva2VuVHlwZS5MRUZUX0NVUkxZX1RLTiwgXCJUeXBlIGRlZmluaXRpb24gbXVzdCBiZSBlbmNsb3NlZCBpbiBjdXJseSBicmFja2V0c1wiKTtcclxuICAgICAgICB0aGlzLm5leHRUb2tlbigpOyAvL0NvbnN1bWUgbGVmdCBjdXJseVxyXG4gICAgICAgIHdoaWxlICghdGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5SSUdIVF9DVVJMWV9US04pICYmICF0aGlzLmNoZWNrVG9rZW4oVG9rZW5UeXBlLkVORF9US04pKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrVG9rZW4oVG9rZW5UeXBlLldJVEhfVEtOKSkge1xyXG4gICAgICAgICAgICAgICAgdHlwZURlZi53aXRoTW9kdWxlcy5wdXNoKHRoaXMucGFyc2VXaXRoKHR5cGVEZWZTY29wZSkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdHlwZURlZi5kZWNsYXJhdGlvbnMucHVzaCh0aGlzLnBhcnNlRGVjbGFyYXRpb24odHlwZURlZlNjb3BlKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuRU5EX1RLTikpIHtcclxuICAgICAgICAgICAgdGhpcy5lcnJcclxuICAgICAgICAgICAgICAgIC5hdE5vZGUoXCJFcnJvciBpbiB0eXBlIGRlZmluaXRpb25cIiwgdHlwZURlZilcclxuICAgICAgICAgICAgICAgIC5hdEFmdGVyTGFzdFRva2VuX1BBTklDKFwiVW50ZXJtaW5hdGVkIGNvZGUgYXQgZW5kIG9mIGZpbGUuIEV4cGVjdGVkIGNsb3Npbmcge1wiLCB0aGlzLnBlZWtUb2tlbigpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm5leHRUb2tlbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHlwZURlZjtcclxuICAgIH1cclxuICAgIHByaXZhdGUgdHJ5UGFyc2VGdW5jdGlvbihzY29wZTogU2NvcGUpOiBBU1QuQVNURnVuY3Rpb24gfCB1bmRlZmluZWQge1xyXG4gICAgICAgIGxldCBwYXJlbnNBbmRJZGVudGlmaWVyID1cclxuICAgICAgICAgICAgdGhpcy5jaGVja0FoZWFkVG9rZW4oMSwgVG9rZW5UeXBlLkxFRlRfUEFSRU5TX1RLTikgJiYgdGhpcy5jaGVja0FoZWFkVG9rZW4oMiwgVG9rZW5UeXBlLklERU5USUZJRVJfVEtOKTtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICEoXHJcbiAgICAgICAgICAgICAgICAocGFyZW5zQW5kSWRlbnRpZmllciAmJlxyXG4gICAgICAgICAgICAgICAgICAgICh0aGlzLmNoZWNrQWhlYWRUb2tlbigzLCBUb2tlblR5cGUuQ09MT05fVEtOKSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrQWhlYWRUb2tlbigzLCBUb2tlblR5cGUuTVVUQUJMRV9BU1NJR05NRU5UX1RLTikpKSB8fFxyXG4gICAgICAgICAgICAgICAgKHRoaXMuY2hlY2tBaGVhZFRva2VuKDEsIFRva2VuVHlwZS5MRUZUX1BBUkVOU19US04pICYmXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja0FoZWFkVG9rZW4oMiwgVG9rZW5UeXBlLlJJR0hUX1BBUkVOU19US04pKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHBhcmVuc0FuZElkZW50aWZpZXIgJiZcclxuICAgICAgICAgICAgICAgICh0aGlzLmNoZWNrQWhlYWRUb2tlbigzLCBUb2tlblR5cGUuQ09OU1RfQVNTSUdOTUVOVF9US04pIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja0FoZWFkVG9rZW4oMywgVG9rZW5UeXBlLklNTVVUQUJMRV9BU1NJR05NRU5UX1RLTikpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lcnIuYXRUb2tlbl9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICBcIkRlZmF1bHQgZnVuY3Rpb24gcGFyYW1ldGVycyBjYW4gb25seSBiZSBtdXRhYmxlIGFzc2lnbmVkIHdpdGggfj1cIixcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvb2tBaGVhZFRva2VuKDMpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgZnVuY3Rpb25TY29wZSA9IG5ldyBTY29wZShzY29wZSk7XHJcbiAgICAgICAgZnVuY3Rpb25TY29wZS5zY29wZVR5cGUgPSBTY29wZVR5cGUuRlVOQ19TQ09QRTtcclxuICAgICAgICBsZXQgZnVuYyA9IG5ldyBBU1QuQVNURnVuY3Rpb24odGhpcy5wZWVrVG9rZW4oKSk7XHJcblxyXG4gICAgICAgIGZ1bmMucGFyYW1EZWNsYXJhdGlvbiA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLmFzc2VydFRva2VuKFRva2VuVHlwZS5MRUZUX1BBUkVOU19US04sIFwiRnVuY3Rpb24gZGVjbGFyYXRpb24gbXVzdCBzcGVjaWZ5IHBhcmFtZXRlcnMgb3IgdXNlICgpXCIpO1xyXG4gICAgICAgIHRoaXMubmV4dFRva2VuKCk7IC8vQ29uc3VtZSBsZWZ0IHBhcmVudGhlc2lzXHJcblxyXG4gICAgICAgIHdoaWxlICghdGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5SSUdIVF9QQVJFTlNfVEtOKSAmJiAhdGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5FTkRfVEtOKSkge1xyXG4gICAgICAgICAgICBsZXQgcGFyYW1EZWMgPSBuZXcgQVNULkFTVERlY2xhcmF0aW9uKHRoaXMucGVla1Rva2VuKCkpO1xyXG4gICAgICAgICAgICBwYXJhbURlYy5pblNjb3BlID0gZnVuY3Rpb25TY29wZTtcclxuICAgICAgICAgICAgdGhpcy5hc3NlcnRJZGVudGlmaWVyKFwiYSBwYXJhbWV0ZXIgbmFtZVwiLCBcIkZ1bmN0aW9uIHBhcmFtZXRlcnMgbXVzdCBkZWNsYXJlIHZhcmlhYmxlIG5hbWVzXCIpO1xyXG4gICAgICAgICAgICBwYXJhbURlYy5sdmFsdWUgPSBuZXcgQVNULkFTVE5hbWUodGhpcy5wZWVrVG9rZW4oKSk7XHJcbiAgICAgICAgICAgIHBhcmFtRGVjLmx2YWx1ZS5yZWZOYW1lID0gdGhpcy5uZXh0VG9rZW4oKS5zdHJpbmdWYWx1ZTtcclxuICAgICAgICAgICAgbGV0IG90aGVyRGVjID0gZnVuY3Rpb25TY29wZS50YWJsZS5nZXQoKDxBU1QuQVNUTmFtZT5wYXJhbURlYy5sdmFsdWUpLnJlZk5hbWUpO1xyXG4gICAgICAgICAgICBpZiAob3RoZXJEZWMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0Tm9kZShcIkZvdW5kIGR1cGxpY2F0ZSBuYW1lIGZvciBwYXJhbWV0ZXIgZGVjbGFyYXRpb25cIiwgcGFyYW1EZWMpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0Tm9kZV9QQU5JQyhcIk90aGVyIGR1cGxpY2F0ZSBwYXJhbWV0ZXIgaGVyZVwiLCBvdGhlckRlYyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvblNjb3BlLnRhYmxlLnNldChwYXJhbURlYy5sdmFsdWUucmVmTmFtZSwgcGFyYW1EZWMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrVG9rZW4oVG9rZW5UeXBlLkNPTE9OX1RLTikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dFRva2VuKCk7IC8vQ29uc3VtZSBjb2xvblxyXG4gICAgICAgICAgICAgICAgcGFyYW1EZWMudHlwZSA9IHRoaXMucGFyc2VFeHByZXNzaW9uKGZ1bmN0aW9uU2NvcGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrVG9rZW4oVG9rZW5UeXBlLk1VVEFCTEVfQVNTSUdOTUVOVF9US04pKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbURlYy5hY2Nlc3NBc3NpZ25tZW50ID0gdGhpcy5uZXh0VG9rZW4oKTsgLy9Db25zdW1lID1cclxuICAgICAgICAgICAgICAgIHBhcmFtRGVjLnJ2YWx1ZSA9IHRoaXMucGFyc2VFeHByZXNzaW9uKGZ1bmN0aW9uU2NvcGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghcGFyYW1EZWMudHlwZSAmJiAhcGFyYW1EZWMucnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVyclxyXG4gICAgICAgICAgICAgICAgICAgIC5hdE5vZGUoXCJFcnJvciBpbiBmdW5jdGlvbiBkZWZpbml0aW9uXCIsIHBhcmFtRGVjKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdFRva2VuX1BBTklDKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBlZWtUb2tlbigpLnN0cmluZ1ZhbHVlICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiIGlzIG5vdCBhbGxvd2VkIGhlcmUuIEZ1bmN0aW9uIHBhcmFtZXRlciBtdXN0IGVpdGhlciBzcGVjaWZ5IGEgdHlwZSB1c2luZyA6IG9yIGFzc2lnbiBhIGRlZmF1bHQgdmFsdWUgdXNpbmcgPVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBlZWtUb2tlbigpXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jLnBhcmFtRGVjbGFyYXRpb24ucHVzaChwYXJhbURlYyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrVG9rZW4oVG9rZW5UeXBlLkNPTU1BX1RLTikpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrQWhlYWRUb2tlbigyLCBUb2tlblR5cGUuUklHSFRfUEFSRU5TX1RLTikpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhID0gKGI6IG51bSwgIClcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBeXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnIuYXRBZnRlckxhc3RUb2tlbl9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJFeHBlY3RlZCBhbm90aGVyIHBhcmFtZXRlciBkZWZpbml0aW9uIGFmdGVyIHRoZSBjb21tYSBidXQgZ290IG5vdGhpbmdcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb29rQWhlYWRUb2tlbigyKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFRva2VuKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuUklHSFRfUEFSRU5TX1RLTikpIHtcclxuICAgICAgICAgICAgICAgIC8vIGEgPSAoYTpudW0gIGI6bnVtKVxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgIF5cclxuICAgICAgICAgICAgICAgIHRoaXMuZXJyLmF0QWZ0ZXJMYXN0VG9rZW5fUEFOSUMoXHJcbiAgICAgICAgICAgICAgICAgICAgXCJJbnZhbGlkIGZ1bmN0aW9uIHBhcmFtZXRlciBkZWZpbml0aW9uLiBFeHBlY3RlZCBlaXRoZXIgYSBjb21tYSBvciApXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZWVrVG9rZW4oKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5FTkRfVEtOKSkge1xyXG4gICAgICAgICAgICAvL2EgPSAoYTpudW0sICAgICBbRW5kIG9mIEZpbGVdXHJcbiAgICAgICAgICAgIC8vICAgICAgICAgICBeXHJcbiAgICAgICAgICAgIHRoaXMuZXJyLmF0QWZ0ZXJMYXN0VG9rZW5fUEFOSUMoXCJVbnRlcm1pbmF0ZWQgcGFyYW1ldGVyIGRlY2xhcmF0aW9uIGF0IGVuZCBvZiBmaWxlXCIsIHRoaXMucGVla1Rva2VuKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLm5leHRUb2tlbigpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5BUlJPV19US04pKSB7XHJcbiAgICAgICAgICAgIHRoaXMubmV4dFRva2VuKCk7XHJcbiAgICAgICAgICAgIGZ1bmMucmV0dXJuVHlwZSA9IHRoaXMucGFyc2VFeHByZXNzaW9uKGZ1bmN0aW9uU2NvcGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jLmJsb2NrID0gdGhpcy5wYXJzZUJsb2NrKGZ1bmN0aW9uU2NvcGUpO1xyXG5cclxuICAgICAgICByZXR1cm4gZnVuYztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHByZWNlZGVuY2U6IE1hcDxUb2tlblR5cGUsIG51bWJlcj4gPSBuZXcgTWFwKCk7XHJcbiAgICByZWFkb25seSBMT1dFU1RfUFJFQ0VERU5DRTogbnVtYmVyID0gMDtcclxuICAgIHJlYWRvbmx5IEhJR0hFU1RfUFJFQ0VERU5DRTogbnVtYmVyID0gMTAwO1xyXG4gICAgcHJpdmF0ZSBzZXRQcmVjZWRlbmNlKHByZWNlZGVuY2U6IG51bWJlciwgLi4udHlwZXM6IFRva2VuVHlwZVtdKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnByZWNlZGVuY2Uuc2V0KHR5cGVzW2ldLCBwcmVjZWRlbmNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGluaXRQcmVjZWRlbmNlTWFwKCkge1xyXG4gICAgICAgIC8vIEJvb2xlYW4gT3BlcmF0b3JzXHJcbiAgICAgICAgdGhpcy5zZXRQcmVjZWRlbmNlKDEsIFRva2VuVHlwZS5DT05EX09SX1RLTik7XHJcbiAgICAgICAgdGhpcy5zZXRQcmVjZWRlbmNlKDIsIFRva2VuVHlwZS5DT05EX1hPUl9US04pO1xyXG4gICAgICAgIHRoaXMuc2V0UHJlY2VkZW5jZSgzLCBUb2tlblR5cGUuQ09ORF9BTkRfVEtOKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRQcmVjZWRlbmNlKDQsIFRva2VuVHlwZS5CSU5fT1JfVEtOKTtcclxuICAgICAgICB0aGlzLnNldFByZWNlZGVuY2UoNSwgVG9rZW5UeXBlLkJJTl9YT1JfVEtOKTtcclxuICAgICAgICB0aGlzLnNldFByZWNlZGVuY2UoNiwgVG9rZW5UeXBlLkJJTl9BTkRfVEtOKTtcclxuXHJcbiAgICAgICAgLy8gQm9vbGVhbnMgY2FuIGJlIGNvbXBhcmVkLCBzbyAoPT0pIGhhcyB0byBiZSBsb3dlciBwcmVjZWRlbmNlLlxyXG4gICAgICAgIHRoaXMuc2V0UHJlY2VkZW5jZSg3LCBUb2tlblR5cGUuQ09ORF9FUVVBTFNfVEtOLCBUb2tlblR5cGUuQ09ORF9OT1RfRVFVQUxTX1RLTik7XHJcbiAgICAgICAgdGhpcy5zZXRQcmVjZWRlbmNlKFxyXG4gICAgICAgICAgICA4LFxyXG4gICAgICAgICAgICBUb2tlblR5cGUuQ09ORF9HUkVBVEVSX1RIQU5fRVFVQUxfVEtOLFxyXG4gICAgICAgICAgICBUb2tlblR5cGUuQ09ORF9MRVNTX1RIQU5fRVFVQUxfVEtOLFxyXG4gICAgICAgICAgICBUb2tlblR5cGUuQ09ORF9HUkVBVEVSX1RIQU5fVEtOLFxyXG4gICAgICAgICAgICBUb2tlblR5cGUuQ09ORF9MRVNTX1RIQU5fVEtOXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRQcmVjZWRlbmNlKFxyXG4gICAgICAgICAgICA5LFxyXG4gICAgICAgICAgICBUb2tlblR5cGUuQklOX1NISUZUX0xFRlRfVEtOLFxyXG4gICAgICAgICAgICBUb2tlblR5cGUuQklOX1NISUZUX1JJR0hUX1RLTixcclxuICAgICAgICAgICAgVG9rZW5UeXBlLkJJTl9TSElGVF9BUklUSE1FVElDX1JJR0hUX1RLTlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIE51bWVyaWMgT3BlcmF0aW9uc1xyXG4gICAgICAgIHRoaXMuc2V0UHJlY2VkZW5jZSgxMCwgVG9rZW5UeXBlLk9QX0FERF9US04sIFRva2VuVHlwZS5PUF9TVUJUUl9US04pO1xyXG4gICAgICAgIHRoaXMuc2V0UHJlY2VkZW5jZSgxMSwgVG9rZW5UeXBlLk9QX01VTFRfVEtOLCBUb2tlblR5cGUuT1BfRElWSURFX1RLTiwgVG9rZW5UeXBlLk9QX01PRFVMVVNfVEtOKTtcclxuICAgICAgICB0aGlzLnNldFByZWNlZGVuY2UoMTIsIFRva2VuVHlwZS5PUF9DQVJST1RfVEtOKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRQcmVjZWRlbmNlKDEzLCBUb2tlblR5cGUuRE9UX1RLTiwgVG9rZW5UeXBlLkxFRlRfUEFSRU5TX1RLTik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHBhcnNlRXhwcmVzc2lvbihzY29wZTogU2NvcGUpOiBBU1QuQVNURXhwcmVzc2lvbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVjdXJzZUV4cHJlc3Npb24odGhpcy5MT1dFU1RfUFJFQ0VERU5DRSwgMCwgeyB0b2tlbjogdGhpcy5wZWVrVG9rZW4oKSwgc2NvcGU6IHNjb3BlIH0pO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSByZWN1cnNlRXhwcmVzc2lvbihcclxuICAgICAgICBwcmVjZWRlbmNlOiBudW1iZXIsXHJcbiAgICAgICAgZGVwdGhDb3VudDogbnVtYmVyLFxyXG4gICAgICAgIHNyYzogeyB0b2tlbjogVG9rZW47IHNjb3BlOiBTY29wZSB9XHJcbiAgICApOiBBU1QuQVNURXhwcmVzc2lvbiB7XHJcbiAgICAgICAgbGV0IGV4cHJlc3Npb24hOiBBU1QuQVNURXhwcmVzc2lvbjtcclxuICAgICAgICB3aGlsZSAoIXRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuRU5EX1RLTikpIHtcclxuICAgICAgICAgICAgbGV0IHRrbiA9IHRoaXMucGVla1Rva2VuKCk7XHJcbiAgICAgICAgICAgIGlmIChleHByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRrbi50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuTU9EVUxFX1RLTjpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5NVVRfQ0FTVF9US046XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuQ09OU1RfQ0FTVF9US046XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuTlVNX1RZUEVfVEtOOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLlNUUklOR19UWVBFX1RLTjpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5CT09MX1RZUEVfVEtOOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLlZPSURfVFlQRV9US046XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuVFlQRV9US046XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuTlVNRVJJQ19MSVRFUkFMX1RLTjpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5TVFJJTkdfTElURVJBTF9US046XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuQ09ORF9UUlVFX1RLTjpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5DT05EX0ZBTFNFX1RLTjpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5DT05EX05PVF9US046XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuQklOX05PVF9US046XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuQkFDS1NMQVNIX1RLTjpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5FTExJUFNJU19US046XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuSURFTlRJRklFUl9US046XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXB0aENvdW50ICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVyclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbnNlcnQoXCJGaXJzdCBwb3RlbnRpYWwgZXJyb3I6XFxuXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0VG9rZW4oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiT3BlcmFuZCB0b2tlbiAoZXg6IDMsIHRydWUsIGV0Yy4pIG9yIHByZWZpeCBvcGVyYXRvciAoZXg6ICEsIH4sIGV0Yy4pIGNhbiBvbmx5IGFwcGVhciBhZnRlciBhbiBvcGVyYXRvciAoZXg6ICssICosIGV0Yy4pXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRrblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5zZXJ0KFwiU2Vjb25kIHBvdGVudGlhbCBlcnJvcjpcXG5cIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXRBZnRlckxhc3RUb2tlbl9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJVbmJhbGFuY2VkIHBhcmVudGhlc2lzLiBFeHBlY3RlZCBcIiArIGRlcHRoQ291bnQgKyBcIiBtb3JlIClcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGtuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhwcmVzc2lvbjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5SSUdIVF9QQVJFTlNfVEtOOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhwcmVzc2lvbjtcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VyUHJlY2VkZW5jZSA9IHRoaXMucHJlY2VkZW5jZS5nZXQodGtuLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyUHJlY2VkZW5jZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VyUHJlY2VkZW5jZSA+IHByZWNlZGVuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5ET1RfVEtOKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja0FoZWFkVG9rZW4oMiwgVG9rZW5UeXBlLkxFRlRfQ1VSTFlfVEtOKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHRoaXMucGFyc2VUeXBlQ29uc3RydWN0aW9uKGV4cHJlc3Npb24sIHNyYy5zY29wZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZG90T3AgPSBuZXcgQVNULkFTVERvdE9wZXJhdG9yKGV4cHJlc3Npb24ubG9jVG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3RPcC5yb290VmFsdWUgPSBleHByZXNzaW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRUb2tlbigpOyAvL0NvbnN1bWUgdGhlIGRvdCB0b2tlblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWVtYmVyVmFsID0gdGhpcy5yZWN1cnNlRXhwcmVzc2lvbihjdXJQcmVjZWRlbmNlLCBkZXB0aENvdW50LCBzcmMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVtYmVyVmFsLm5vZGVOYW1lICE9PSBBU1QuTm9kZVR5cGUuTkFNRSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnIuYXRXaG9sZU5vZGVfUEFOSUMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJFeHBlY3RlZCBhIHZhcmlhYmxlIG5hbWUgcmVmZXJlbmNlIHRvIGEgcHJvcGVydHkgaW4gXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBU1QuZXhwclRvU3RyKGRvdE9wLnJvb3RWYWx1ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVtYmVyVmFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvdE9wLm1lbWJlclZhbHVlID0gPEFTVC5BU1ROYW1lPm1lbWJlclZhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbiA9IGRvdE9wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3RPcC5lbmRUb2tlbiA9IGRvdE9wLm1lbWJlclZhbHVlLmVuZFRva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5MRUZUX1BBUkVOU19US04pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gPSB0aGlzLnBhcnNlQ2FsbChleHByZXNzaW9uLCBzcmMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrVG9rZW4oVG9rZW5UeXBlLkJJTl9TSElGVF9MRUZUX1RLTikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrQWhlYWRUb2tlbigyLCBUb2tlblR5cGUuQ09ORF9MRVNTX1RIQU5fVEtOKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyLmF0VG9rZW5fUEFOSUMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQXJpdGhtZXRpYyBsZWZ0IHNoaWZ0IGlzIGVxdWl2YWxlbnQgdG8gbG9naWNhbCBsZWZ0IHNoaWZ0LiBVc2UgPDwgaW5zdGVhZCBvZiA8PDxcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wZWVrVG9rZW4oKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJpbk9wID0gbmV3IEFTVC5BU1RCaW5hcnlPcGVyYXRvcihleHByZXNzaW9uLmxvY1Rva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluT3AubHZhbHVlID0gZXhwcmVzc2lvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluT3Aub3BlcmF0aW9uID0gdGhpcy5uZXh0VG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluT3AucnZhbHVlID0gdGhpcy5yZWN1cnNlRXhwcmVzc2lvbihjdXJQcmVjZWRlbmNlLCBkZXB0aENvdW50LCBzcmMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uID0gYmluT3A7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24uZW5kVG9rZW4gPSBleHByZXNzaW9uLnJ2YWx1ZS5lbmRUb2tlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBleHByZXNzaW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuVU5LTk9XTl9US04pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnIuYXRUb2tlbl9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJFeHByZXNzaW9uIGNvbnRhaW5zIHVua25vd24gb3BlcmF0b3IgXCIgKyB0aGlzLnBlZWtUb2tlbigpLnN0cmluZ1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBlZWtUb2tlbigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTsgLy8gYSA9IDMgIyA0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkZXB0aENvdW50ICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0VG9rZW4oXCJFcnJvciBpbiBleHByZXNzaW9uIHN0YXJ0aW5nIHdpdGhcIiwgc3JjLnRva2VuKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXRUb2tlbl9QQU5JQyhcIlVuYmFsYW5jZWQgcGFyZW50aGVzaXMuIEV4cGVjdGVkIFwiICsgZGVwdGhDb3VudCArIFwiIG1vcmUgKVwiLCB0a24pOyAvL2IgPSAoKCgoKDAgKyA1KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhwcmVzc2lvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0a24udHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLk1PRFVMRV9US046XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gPSB0aGlzLnBhcnNlTW9kdWxlKHNyYy5zY29wZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLk1VVF9DQVNUX1RLTjpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5DT05TVF9DQVNUX1RLTjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbiA9IG5ldyBBU1QuQVNUQWNjZXNzQ2FzdCh0a24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uLmFjY2Vzc1R5cGUgPSA8QVNULkFjY2Vzc0Nhc3RUb2tlbj50aGlzLm5leHRUb2tlbigpLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24uY2FzdGVkVHlwZSA9IHRoaXMucmVjdXJzZUV4cHJlc3Npb24odGhpcy5ISUdIRVNUX1BSRUNFREVOQ0UsIGRlcHRoQ291bnQsIHNyYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24uZW5kVG9rZW4gPSBleHByZXNzaW9uLmNhc3RlZFR5cGUuZW5kVG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLk5VTV9UWVBFX1RLTjpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5TVFJJTkdfVFlQRV9US046XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuQk9PTF9UWVBFX1RLTjpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5WT0lEX1RZUEVfVEtOOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLlRZUEVfVEtOOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uID0gbmV3IEFTVC5BU1RUeXBlTGl0ZXJhbCh0a24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uLnR5cGUgPSA8QVNULlR5cGVMaXRlcmFsVG9rZW4+dGhpcy5uZXh0VG9rZW4oKS50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uLmVuZFRva2VuID0gdGtuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5OVU1FUklDX0xJVEVSQUxfVEtOOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLlNUUklOR19MSVRFUkFMX1RLTjpcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5DT05EX1RSVUVfVEtOOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLkNPTkRfRkFMU0VfVEtOOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uID0gbmV3IEFTVC5BU1RMaXRlcmFsKHRrbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24udmFsdWUgPSB0aGlzLm5leHRUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uLmVuZFRva2VuID0gdGtuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5DT05EX05PVF9US046XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuQklOX05PVF9US046XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gPSBuZXcgQVNULkFTVFVuYXJ5T3BlcmF0b3IodGtuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbi5vcGVyYXRpb24gPSB0aGlzLm5leHRUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uLnZhbHVlID0gdGhpcy5yZWN1cnNlRXhwcmVzc2lvbihwcmVjZWRlbmNlLCBkZXB0aENvdW50LCBzcmMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uLmVuZFRva2VuID0gZXhwcmVzc2lvbi52YWx1ZS5lbmRUb2tlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuQkFDS1NMQVNIX1RLTjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHRoaXMucGFyc2VGdW5jdGlvblR5cGUoc3JjLnNjb3BlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuRUxMSVBTSVNfVEtOOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uID0gbmV3IEFTVC5BU1ROYW1lKHRrbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24ucmVmTmFtZSA9IHRrbi5zdHJpbmdWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0VG9rZW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuRE9UX1RLTikgfHwgdGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5FTExJUFNJU19US04pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVyci5hdFRva2VuX1BBTklDKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiVG9vIG1hbnkgZG90cyBpbiBhIHJvdy4gTm90ZSB0aGF0IGFuIGVsbGlwc2lzIGhhcyB0aHJlZSBkb3RzOiAuLi5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBlZWtUb2tlbigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLklERU5USUZJRVJfVEtOOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uID0gbmV3IEFTVC5BU1ROYW1lKHRoaXMubmV4dFRva2VuKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uLnJlZk5hbWUgPSBleHByZXNzaW9uLmxvY1Rva2VuLnN0cmluZ1ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uLmVuZFRva2VuID0gZXhwcmVzc2lvbi5sb2NUb2tlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuTEVGVF9QQVJFTlNfVEtOOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZnVuYyA9IHRoaXMudHJ5UGFyc2VGdW5jdGlvbihzcmMuc2NvcGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnVuYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbiA9IGZ1bmM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1RoaXMgaXMgYW4gb3BlbiBwYXJlbnRoZXNpc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0VG9rZW4oKTsgLy9Db25zdW1lIGxlZnQgcGFyZW50aGVzaXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gPSB0aGlzLnJlY3Vyc2VFeHByZXNzaW9uKHRoaXMuTE9XRVNUX1BSRUNFREVOQ0UsIGRlcHRoQ291bnQgKyAxLCBzcmMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0VG9rZW4oKTsgLy9Db25zdW1lIHJpZ2h0IHBhcmVudGhlc2lzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuRE9UX1RLTjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdFRva2VuKFwiRXJyb3IgaW4gcmVmZXJlbmNlIHN0YXJ0aW5nIHdpdGhcIiwgc3JjLnRva2VuKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0VG9rZW5fUEFOSUMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJDYW4ndCBzdGFydCBhbiBleHByZXNzaW9uIHdpdGggYSBkb3Qgb3IgaGF2ZSB0d28gZG90cyBpbiBhIHJvd1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVla1Rva2VuKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuT1BfU1VCVFJfVEtOOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIG5lZ2F0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gPSBuZXcgQVNULkFTVEJpbmFyeU9wZXJhdG9yKHRrbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24ubHZhbHVlID0gbmV3IEFTVC5BU1RMaXRlcmFsKHRrbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24ubHZhbHVlLnZhbHVlID0gVG9rZW4uZnJvbVR5cGUoVG9rZW5UeXBlLk5VTUVSSUNfTElURVJBTF9US04sIHRrbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24ubHZhbHVlLnZhbHVlLnZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbi5vcGVyYXRpb24gPSB0aGlzLm5leHRUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uLnJ2YWx1ZSA9IHRoaXMucmVjdXJzZUV4cHJlc3Npb24odGhpcy5ISUdIRVNUX1BSRUNFREVOQ0UsIGRlcHRoQ291bnQsIHNyYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24uZW5kVG9rZW4gPSBleHByZXNzaW9uLnJ2YWx1ZS5lbmRUb2tlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnIuYXRBZnRlckxhc3RUb2tlbl9QQU5JQyhcIkV4cGVjdGVkIGFuIGV4cHJlc3Npb24gYnV0IGdvdCBub3RoaW5nXCIsIHRrbik7IC8vYSA9IDMgKyA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGV4cHJlc3Npb247XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHBhcnNlQ2FsbChwcmV2RXhwcmVzc2lvbjogQVNULkFTVEV4cHJlc3Npb24sIHNyYzogeyB0b2tlbjogVG9rZW47IHNjb3BlOiBTY29wZSB9KTogQVNULkFTVENhbGwge1xyXG4gICAgICAgIGxldCBjYWxsID0gbmV3IEFTVC5BU1RDYWxsKHByZXZFeHByZXNzaW9uLmxvY1Rva2VuKTtcclxuICAgICAgICBjYWxsLmZ1bmN0aW9uTmFtZVJlZiA9IHByZXZFeHByZXNzaW9uO1xyXG5cclxuICAgICAgICBjYWxsLmdpdmVuUGFyYW1zID0gW107XHJcblxyXG4gICAgICAgIHRoaXMubmV4dFRva2VuKCk7IC8vQ29uc3VtZSBsZWZ0IHBhcmVudGhlc2lzXHJcbiAgICAgICAgd2hpbGUgKCF0aGlzLmNoZWNrVG9rZW4oVG9rZW5UeXBlLlJJR0hUX1BBUkVOU19US04pKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrVG9rZW4oVG9rZW5UeXBlLkNPTU1BX1RLTikpIHtcclxuICAgICAgICAgICAgICAgIGxldCBleHBlY3RlZFRrbiA9IHRoaXMubG9va0FoZWFkVG9rZW4oMik7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXhwZWN0ZWRUa24udHlwZSA9PT0gVG9rZW5UeXBlLlJJR0hUX1BBUkVOU19US04gfHwgZXhwZWN0ZWRUa24udHlwZSA9PT0gVG9rZW5UeXBlLkVORF9US04pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhKDIsIDMyLCAgIClcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIF5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVyci5hdEFmdGVyTGFzdFRva2VuX1BBTklDKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkV4cGVjdGVkIGFub3RoZXIgZXhwcmVzc2lvbiBhZnRlciB0aGUgY29tbWEgYnV0IGdvdCBub3RoaW5nXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkVGtuXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0VG9rZW4oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNhbGwuZ2l2ZW5QYXJhbXMucHVzaCh0aGlzLnJlY3Vyc2VFeHByZXNzaW9uKHRoaXMuTE9XRVNUX1BSRUNFREVOQ0UsIDAsIHNyYykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubmV4dFRva2VuKCk7IC8vIENvbnN1bWUgcmlnaHQgcGFyZW50aGVzaXNcclxuICAgICAgICByZXR1cm4gY2FsbDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHBhcnNlVHlwZUNvbnN0cnVjdGlvbihwcmV2RXhwcmVzc2lvbjogQVNULkFTVEV4cHJlc3Npb24sIHNjb3BlOiBTY29wZSk6IEFTVC5BU1RUeXBlQ29uc3RydWN0aW9uIHtcclxuICAgICAgICBsZXQgdHlwZUNvbnN0cnVjdCA9IG5ldyBBU1QuQVNUVHlwZUNvbnN0cnVjdGlvbihwcmV2RXhwcmVzc2lvbi5sb2NUb2tlbik7XHJcbiAgICAgICAgdHlwZUNvbnN0cnVjdC50eXBlUmVmID0gcHJldkV4cHJlc3Npb247XHJcbiAgICAgICAgdGhpcy5hc3NlcnRUb2tlbihUb2tlblR5cGUuRE9UX1RLTiwgXCJEb3QgJy4nIGlzIHJlcXVpcmVkIGFmdGVyIHRoZSB0eXBlIG5hbWUgaW4gYSB0eXBlIGNvbnN0cnVjdGlvblwiKTtcclxuICAgICAgICB0aGlzLm5leHRUb2tlbigpOyAvL0NvbnN1bWUgZG90XHJcbiAgICAgICAgdGhpcy5hc3NlcnRUb2tlbihUb2tlblR5cGUuTEVGVF9DVVJMWV9US04sIFwiVHlwZSBjb25zdHJ1Y3Rpb24gbXVzdCBiZSBlbmNsb3NlZCBpbiBjdXJseSBicmFja2V0c1wiKTtcclxuICAgICAgICB0aGlzLm5leHRUb2tlbigpOyAvL0NvbnN1bWUgbGVmdCBjdXJseVxyXG4gICAgICAgIHR5cGVDb25zdHJ1Y3QuYXNzaWdubWVudHMgPSBbXTtcclxuICAgICAgICB3aGlsZSAoIXRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuUklHSFRfQ1VSTFlfVEtOKSkge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuSURFTlRJRklFUl9US04pKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVyclxyXG4gICAgICAgICAgICAgICAgICAgIC5hdE5vZGUoXCJFcnJvciBpbiB0eXBlIGNvbnN0cnVjdG9yXCIsIHR5cGVDb25zdHJ1Y3QpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0VG9rZW5fUEFOSUMoXCJUeXBlIGNvbnN0cnVjdGlvbiBhc3NpZ25tZW50cyBuZWVkIHRvIGJlIHNpbmdsZSB2YXJpYWJsZSBuYW1lc1wiLCB0aGlzLnBlZWtUb2tlbigpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgbHZhbHVlID0gbmV3IEFTVC5BU1ROYW1lKHRoaXMucGVla1Rva2VuKCkpO1xyXG4gICAgICAgICAgICBsdmFsdWUucmVmTmFtZSA9IHRoaXMubmV4dFRva2VuKCkuc3RyaW5nVmFsdWU7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHlwZUNvbnN0cnVjdC5hc3NpZ25tZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCg8QVNULkFTVE5hbWU+dHlwZUNvbnN0cnVjdC5hc3NpZ25tZW50c1tpXS5sdmFsdWUpLnJlZk5hbWUgPT09IGx2YWx1ZS5yZWZOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0VG9rZW4oXCJSZXBlYXRlZCBhc3NpZ25tZW50IGluIHR5cGUgY29uc3RydWN0aW9uXCIsIHR5cGVDb25zdHJ1Y3QuYXNzaWdubWVudHNbaV0ubG9jVG9rZW4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdE5vZGVfUEFOSUMoXCJPdGhlciByZXBlYXRlZCBhc3NpZ25tZW50IGZvdW5kIGhlcmVcIiwgbHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5JTU1VVEFCTEVfQVNTSUdOTUVOVF9US04pKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVyclxyXG4gICAgICAgICAgICAgICAgICAgIC5hdE5vZGUoXCJFcnJvciBpbiB0eXBlIGNvbnN0cnVjdG9yXCIsIHR5cGVDb25zdHJ1Y3QpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0VG9rZW5fUEFOSUMoXCJBc3NpZ25tZW50IGluIGEgdHlwZSBjb25zdHJ1Y3RvciBtdXN0IHVzZSA8LSBpbnN0ZWFkIG9mID1cIiwgdGhpcy5wZWVrVG9rZW4oKSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuUkVWRVJTRV9BUlJPV19US04pKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVyclxyXG4gICAgICAgICAgICAgICAgICAgIC5hdFRva2VuKFwiQXNzaWdubWVudCBpbiBhIHR5cGUgY29uc3RydWN0b3IgbXVzdCBhc3NpZ24gYSB2YWx1ZSB1c2luZyA8LVwiLCB0aGlzLnBlZWtUb2tlbigpKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGROb3RlX1BBTklDKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlR5cGUgY29uc3RldWN0aW9uIGFzc2lnbm1lbnRzIG5lZWQgdG8gYmUgaW4gdGhlIGZvcm0gW3NpbmdsZVZhcmlhYmxlTmFtZV0gPC0gW2Fzc2lnbmVkVmFsdWVdXCJcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMubmV4dFRva2VuKCk7IC8vQ29uc3VtZSA8LVxyXG4gICAgICAgICAgICBsZXQgYXNzaWdubWVudCA9IHtcclxuICAgICAgICAgICAgICAgIGxvY1Rva2VuOiBsdmFsdWUubG9jVG9rZW4sXHJcbiAgICAgICAgICAgICAgICBsdmFsdWU6IGx2YWx1ZSxcclxuICAgICAgICAgICAgICAgIHJ2YWx1ZTogdGhpcy5wYXJzZUV4cHJlc3Npb24oc2NvcGUpLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0eXBlQ29uc3RydWN0LmFzc2lnbm1lbnRzLnB1c2goYXNzaWdubWVudCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrVG9rZW4oVG9rZW5UeXBlLkNPTU1BX1RLTikpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrQWhlYWRUb2tlbigyLCBUb2tlblR5cGUuUklHSFRfQ1VSTFlfVEtOKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHBhcnRpY2xlID0gUGFydGljbGUgeyBhID0gMywgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIF5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVyci5hdFRva2VuX1BBTklDKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkxhc3QgYXNzaWdubWVudCBpbiBhIHR5cGUgY29uc3RydWN0aW9uIGNhbid0IGVuZCBpbiBhIGNvbW1hXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVla1Rva2VuKClcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLmNoZWNrVG9rZW4oVG9rZW5UeXBlLlJJR0hUX0NVUkxZX1RLTikpIHtcclxuICAgICAgICAgICAgICAgIC8vIHBhcnRpY2xlID0gUGFydGljbGUgeyBhID0gMzsgICAgYiA9IDQgfTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgIF5cclxuICAgICAgICAgICAgICAgIHRoaXMuZXJyLmF0QWZ0ZXJMYXN0VG9rZW5fUEFOSUMoXHJcbiAgICAgICAgICAgICAgICAgICAgXCJJbnZhbGlkIHR5cGUgY29uc3RydWN0aW9uLiBFeHBlY3RlZCBlaXRoZXIgYSBjb21tYSBvciB9XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZWVrVG9rZW4oKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0eXBlQ29uc3RydWN0LmVuZFRva2VuID0gdGhpcy5uZXh0VG9rZW4oKTsgLy9Db25zdW1lIHJpZ2h0IGN1cmx5IHRva2VuXHJcbiAgICAgICAgcmV0dXJuIHR5cGVDb25zdHJ1Y3Q7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHBhcnNlRnVuY3Rpb25UeXBlKHNjb3BlOiBTY29wZSk6IEFTVC5BU1RGdW5jdGlvblR5cGUge1xyXG4gICAgICAgIHRoaXMuYXNzZXJ0VG9rZW4oVG9rZW5UeXBlLkJBQ0tTTEFTSF9US04sIFwiRnVuY3Rpb24gdHlwZSBtdXN0IHN0YXJ0IHdpdGggYSBiYWNrc2xhc2hcIik7XHJcbiAgICAgICAgdGhpcy5uZXh0VG9rZW4oKTtcclxuXHJcbiAgICAgICAgbGV0IHR5cGUgPSBuZXcgQVNULkFTVEZ1bmN0aW9uVHlwZSh0aGlzLnBlZWtUb2tlbigpKTtcclxuICAgICAgICB0aGlzLm5leHRUb2tlbigpO1xyXG4gICAgICAgIHR5cGUuaW5wdXRUeXBlID0gW107XHJcbiAgICAgICAgd2hpbGUgKCF0aGlzLmNoZWNrVG9rZW4oVG9rZW5UeXBlLlJJR0hUX1BBUkVOU19US04pICYmICF0aGlzLmNoZWNrVG9rZW4oVG9rZW5UeXBlLkVORF9US04pKSB7XHJcbiAgICAgICAgICAgIHR5cGUuaW5wdXRUeXBlLnB1c2godGhpcy5wYXJzZUV4cHJlc3Npb24oc2NvcGUpKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuQ09NTUFfVEtOKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0VG9rZW4oKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5jaGVja1Rva2VuKFRva2VuVHlwZS5SSUdIVF9QQVJFTlNfVEtOKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gYTogKG51bTsgKVxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgIF5cclxuICAgICAgICAgICAgICAgIHRoaXMuZXJyLmF0QWZ0ZXJMYXN0VG9rZW5fUEFOSUMoXHJcbiAgICAgICAgICAgICAgICAgICAgXCJJbnZhbGlkIHR5cGUgZGVmaW5pdGlvbi4gRXhwZWN0ZWQgZWl0aGVyIGEgY29tbWEgb3IgKVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGVla1Rva2VuKClcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY2hlY2tUb2tlbihUb2tlblR5cGUuRU5EX1RLTikpIHtcclxuICAgICAgICAgICAgLy8gYSA6IChudW0sIG51bSxcclxuICAgICAgICAgICAgdGhpcy5lcnJcclxuICAgICAgICAgICAgICAgIC5hdE5vZGUoXCJFcnJvciBpbiBkZWNsYXJhdGlvbiB0eXBlIHNwZWNpZmllclwiLCB0eXBlKVxyXG4gICAgICAgICAgICAgICAgLmF0QWZ0ZXJMYXN0VG9rZW5fUEFOSUMoXCJVbnRlcm1pbmF0ZWQgY29kZSBhdCBlbmQgb2YgZmlsZS4gRXhwZWN0ZWQgYW5vdGhlciB0eXBlXCIsIHRoaXMucGVla1Rva2VuKCkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubmV4dFRva2VuKCk7IC8vQ29uc3VtZSByaWdodCBwYXJlbnRoZXNpc1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5hc3NlcnRUb2tlbihUb2tlblR5cGUuQVJST1dfVEtOLCBcIkZ1bmN0aW9uIHR5cGUgZGVjbGFyYXRpb25zIG11c3QgZGVjbGFyZSBhIHJldHVybiB0eXBlLlwiKTtcclxuICAgICAgICB0aGlzLm5leHRUb2tlbigpOyAvL0NvbnN1bWUgLT4gZnVuY3Rpb25cclxuICAgICAgICB0eXBlLm91dFR5cGUgPSB0aGlzLnBhcnNlRXhwcmVzc2lvbihzY29wZSk7XHJcbiAgICAgICAgcmV0dXJuIHR5cGU7XHJcbiAgICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scuft/lang/Parser.ts\n");

/***/ }),

/***/ "./src/scuft/lang/Scope.ts":
/*!*********************************!*\
  !*** ./src/scuft/lang/Scope.ts ***!
  \*********************************/
/*! namespace exports */
/*! export Scope [provided] [no usage info] [missing usage info prevents renaming] */
/*! export ScopeType [provided] [no usage info] [missing usage info prevents renaming] */
/*! export printScope [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ScopeType\": () => /* binding */ ScopeType,\n/* harmony export */   \"Scope\": () => /* binding */ Scope,\n/* harmony export */   \"printScope\": () => /* binding */ printScope\n/* harmony export */ });\n/* harmony import */ var _Ast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Ast */ \"./src/scuft/lang/Ast.ts\");\n/* harmony import */ var _Log__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Log */ \"./src/scuft/lang/Log.ts\");\n/* harmony import */ var _Token__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Token */ \"./src/scuft/lang/Token.ts\");\n\r\n\r\n\r\nvar ScopeType;\r\n(function (ScopeType) {\r\n    ScopeType[ScopeType[\"GLOBAL_SCOPE\"] = 0] = \"GLOBAL_SCOPE\";\r\n    ScopeType[ScopeType[\"MODULE_SCOPE\"] = 1] = \"MODULE_SCOPE\";\r\n    ScopeType[ScopeType[\"TYPE_SCOPE\"] = 2] = \"TYPE_SCOPE\";\r\n    ScopeType[ScopeType[\"FUNC_SCOPE\"] = 3] = \"FUNC_SCOPE\";\r\n    ScopeType[ScopeType[\"BRANCH_SCOPE\"] = 4] = \"BRANCH_SCOPE\";\r\n    ScopeType[ScopeType[\"LOOP_SCOPE\"] = 5] = \"LOOP_SCOPE\";\r\n})(ScopeType || (ScopeType = {}));\r\nclass Scope {\r\n    constructor(parentScope) {\r\n        this.table = new Map();\r\n        this.scopeID = Scope.scopeCounter++;\r\n        if (parentScope) {\r\n            this.parent = parentScope;\r\n            if (!parentScope.debugChildren)\r\n                parentScope.debugChildren = [];\r\n            parentScope.debugChildren.push(this);\r\n        }\r\n    }\r\n    static newGlobalScope() {\r\n        let globalScope = new Scope(undefined);\r\n        globalScope.operatorOverloads = new Map();\r\n        globalScope.scopeType = ScopeType.GLOBAL_SCOPE;\r\n        return globalScope;\r\n    }\r\n    addOperatorOverload(operator, overload) {\r\n        let existingOverloads = this.operatorOverloads.get(operator);\r\n        if (!existingOverloads) {\r\n            existingOverloads = [];\r\n            this.operatorOverloads.set(operator, existingOverloads);\r\n        }\r\n        existingOverloads.push(overload);\r\n    }\r\n    getOperatorOverload(operator) {\r\n        return this.operatorOverloads.get(operator);\r\n    }\r\n    getEnclosingScope(scopeType) {\r\n        if (this.scopeType === scopeType)\r\n            return this;\r\n        if (!this.parent)\r\n            return undefined;\r\n        return this.parent.getEnclosingScope(scopeType);\r\n    }\r\n    equals(otherScope) {\r\n        return otherScope.scopeID === this.scopeID;\r\n    }\r\n    isUnordered() {\r\n        return (this.scopeType === ScopeType.GLOBAL_SCOPE ||\r\n            this.scopeType === ScopeType.MODULE_SCOPE ||\r\n            this.scopeType === ScopeType.TYPE_SCOPE);\r\n    }\r\n}\r\nScope.scopeCounter = 0;\r\nfunction printScope(scope) {\r\n    let fmt = [];\r\n    let lines = [];\r\n    (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(lines, recurseScope(scope, fmt));\r\n    let str = [lines.join(\"\\n\")];\r\n    for (let i = 0; i < fmt.length; i++) {\r\n        str.push(fmt[i]);\r\n    }\r\n    console.log.apply(lines, str);\r\n}\r\nfunction recurseScope(scope, fmt) {\r\n    let lines = [(0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)(\"Scope\", fmt)];\r\n    if (scope.operatorOverloads) {\r\n        (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(lines, [\"   OperatorOverloads:\"]);\r\n        let maxKeyLength = 0;\r\n        for (const key of scope.operatorOverloads.keys()) {\r\n            if ((0,_Token__WEBPACK_IMPORTED_MODULE_2__.tokenToStr)(key).length > maxKeyLength)\r\n                maxKeyLength = (0,_Token__WEBPACK_IMPORTED_MODULE_2__.tokenToStr)(key).length;\r\n        }\r\n        for (const [key, value] of scope.operatorOverloads.entries()) {\r\n            for (let i = 0; i < value.length; i++) {\r\n                let line = \"    |  \";\r\n                if (i === 0) {\r\n                    line +=\r\n                        (0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)((0,_Token__WEBPACK_IMPORTED_MODULE_2__.tokenToStr)(key), fmt, _Ast__WEBPACK_IMPORTED_MODULE_0__.ASTFmt.IDENTIFIER_FMT) +\r\n                            \" \".repeat(maxKeyLength - (0,_Token__WEBPACK_IMPORTED_MODULE_2__.tokenToStr)(key).length);\r\n                }\r\n                else {\r\n                    line += \" \".repeat(maxKeyLength);\r\n                }\r\n                line += \"  => \" + (0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)(_Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(value[i]), fmt, _Ast__WEBPACK_IMPORTED_MODULE_0__.ASTFmt.EXPRESSION_FMT);\r\n                lines.push(line);\r\n            }\r\n        }\r\n    }\r\n    lines.push(\"   Table:\");\r\n    let maxKeyLength = 0;\r\n    let maxTypeLength = 0;\r\n    for (const [key, value] of scope.table.entries()) {\r\n        if (key.length > maxKeyLength)\r\n            maxKeyLength = key.length;\r\n        if (value.type && value.type.resolved) {\r\n            let typeName = _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(value.type.resolved);\r\n            if (typeName.length > maxTypeLength)\r\n                maxTypeLength = typeName.length;\r\n        }\r\n    }\r\n    for (const [key, value] of scope.table.entries()) {\r\n        let line = \"    |  \";\r\n        line += (0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)(key, fmt, _Ast__WEBPACK_IMPORTED_MODULE_0__.ASTFmt.IDENTIFIER_FMT) + \" \".repeat(maxKeyLength - key.length);\r\n        let typeName = \"\";\r\n        if (value.type && value.type.resolved) {\r\n            typeName = _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(value.type.resolved);\r\n            line += \" : \" + (0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)(typeName, fmt, _Ast__WEBPACK_IMPORTED_MODULE_0__.ASTFmt.TYPE_FMT);\r\n        }\r\n        else {\r\n            line += \"   \";\r\n        }\r\n        if (value.rvalue) {\r\n            let assignment = \"  =  \";\r\n            if (value.accessAssignment.type === _Token__WEBPACK_IMPORTED_MODULE_2__.TokenType.CONST_ASSIGNMENT_TKN)\r\n                assignment = \"  => \";\r\n            if (value.accessAssignment.type === _Token__WEBPACK_IMPORTED_MODULE_2__.TokenType.MUTABLE_ASSIGNMENT_TKN)\r\n                assignment = \" ~=  \";\r\n            line +=\r\n                \" \".repeat(maxTypeLength - typeName.length) +\r\n                    assignment +\r\n                    (0,_Log__WEBPACK_IMPORTED_MODULE_1__.applyFmt)(_Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(value.rvalue), fmt, _Ast__WEBPACK_IMPORTED_MODULE_0__.ASTFmt.EXPRESSION_FMT);\r\n        }\r\n        lines.push(line);\r\n    }\r\n    if (scope.debugChildren) {\r\n        lines.push(\"   Children:\");\r\n        for (let i = 0; i < scope.debugChildren.length; i++) {\r\n            (0,_Log__WEBPACK_IMPORTED_MODULE_1__.merge)(lines, (0,_Log__WEBPACK_IMPORTED_MODULE_1__.space)(3, (0,_Log__WEBPACK_IMPORTED_MODULE_1__.bar)(recurseScope(scope.debugChildren[i], fmt))));\r\n        }\r\n    }\r\n    return lines;\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3VmdC8uL3NyYy9zY3VmdC9sYW5nL1Njb3BlLnRzPzFjNjgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTZCO0FBQ3VCO0FBQ0o7QUFFaEQsSUFBWSxTQVNYO0FBVEQsV0FBWSxTQUFTO0lBQ2pCLHlEQUFZO0lBQ1oseURBQVk7SUFDWixxREFBVTtJQUVWLHFEQUFVO0lBRVYseURBQVk7SUFDWixxREFBVTtBQUNkLENBQUMsRUFUVyxTQUFTLEtBQVQsU0FBUyxRQVNwQjtBQUNNLE1BQU0sS0FBSztJQTBCZCxZQUFZLFdBQThCO1FBSjFDLFVBQUssR0FBb0MsSUFBSSxHQUFHLEVBQUUsQ0FBQztRQUsvQyxJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQyxZQUFZLEVBQUUsQ0FBQztRQUNwQyxJQUFJLFdBQVcsRUFBRTtZQUNiLElBQUksQ0FBQyxNQUFNLEdBQUcsV0FBVyxDQUFDO1lBQzFCLElBQUksQ0FBQyxXQUFXLENBQUMsYUFBYTtnQkFBRSxXQUFXLENBQUMsYUFBYSxHQUFHLEVBQUUsQ0FBQztZQUMvRCxXQUFXLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztTQUN4QztJQUNMLENBQUM7SUFoQ0QsTUFBTSxDQUFDLGNBQWM7UUFDakIsSUFBSSxXQUFXLEdBQUcsSUFBSSxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDdkMsV0FBVyxDQUFDLGlCQUFpQixHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7UUFDMUMsV0FBVyxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUMsWUFBWSxDQUFDO1FBQy9DLE9BQU8sV0FBVyxDQUFDO0lBQ3ZCLENBQUM7SUFFRCxtQkFBbUIsQ0FBQyxRQUFtQixFQUFFLFFBQXlCO1FBQzlELElBQUksaUJBQWlCLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM3RCxJQUFJLENBQUMsaUJBQWlCLEVBQUU7WUFD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QUMsY0FBYyxDQUFDLENBQUM7UUFDM0IsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxhQUFhLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO1lBQ2pELDJDQUFLLENBQUMsS0FBSyxFQUFFLDJDQUFLLENBQUMsQ0FBQyxFQUFFLHlDQUFHLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDMUU7S0FDSjtJQUNELE9BQU8sS0FBSyxDQUFDO0FBQ2pCLENBQUMiLCJmaWxlIjoiLi9zcmMvc2N1ZnQvbGFuZy9TY29wZS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIEFTVCBmcm9tIFwiLi9Bc3RcIjtcclxuaW1wb3J0IHsgYXBwbHlGbXQsIG1lcmdlLCBzcGFjZSwgYmFyIH0gZnJvbSBcIi4vTG9nXCI7XHJcbmltcG9ydCB7IFRva2VuVHlwZSwgdG9rZW5Ub1N0ciB9IGZyb20gXCIuL1Rva2VuXCI7XHJcblxyXG5leHBvcnQgZW51bSBTY29wZVR5cGUge1xyXG4gICAgR0xPQkFMX1NDT1BFLFxyXG4gICAgTU9EVUxFX1NDT1BFLFxyXG4gICAgVFlQRV9TQ09QRSxcclxuXHJcbiAgICBGVU5DX1NDT1BFLFxyXG5cclxuICAgIEJSQU5DSF9TQ09QRSxcclxuICAgIExPT1BfU0NPUEUsXHJcbn1cclxuZXhwb3J0IGNsYXNzIFNjb3BlIHtcclxuICAgIHN0YXRpYyBuZXdHbG9iYWxTY29wZSgpOiBTY29wZSB7XHJcbiAgICAgICAgbGV0IGdsb2JhbFNjb3BlID0gbmV3IFNjb3BlKHVuZGVmaW5lZCk7XHJcbiAgICAgICAgZ2xvYmFsU2NvcGUub3BlcmF0b3JPdmVybG9hZHMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgZ2xvYmFsU2NvcGUuc2NvcGVUeXBlID0gU2NvcGVUeXBlLkdMT0JBTF9TQ09QRTtcclxuICAgICAgICByZXR1cm4gZ2xvYmFsU2NvcGU7XHJcbiAgICB9XHJcbiAgICBvcGVyYXRvck92ZXJsb2FkcyE6IE1hcDxUb2tlblR5cGUsIEFTVC5BU1RGdW5jdGlvbltdPjsgLy8gR2xvYmFsIHNjb3BlIGhhcyBhIGxpc3Qgb2Ygb3ZlcmxvYWRzXHJcbiAgICBhZGRPcGVyYXRvck92ZXJsb2FkKG9wZXJhdG9yOiBUb2tlblR5cGUsIG92ZXJsb2FkOiBBU1QuQVNURnVuY3Rpb24pIHtcclxuICAgICAgICBsZXQgZXhpc3RpbmdPdmVybG9hZHMgPSB0aGlzLm9wZXJhdG9yT3ZlcmxvYWRzLmdldChvcGVyYXRvcik7XHJcbiAgICAgICAgaWYgKCFleGlzdGluZ092ZXJsb2Fkcykge1xyXG4gICAgICAgICAgICBleGlzdGluZ092ZXJsb2FkcyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLm9wZXJhdG9yT3ZlcmxvYWRzLnNldChvcGVyYXRvciwgZXhpc3RpbmdPdmVybG9hZHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBleGlzdGluZ092ZXJsb2Fkcy5wdXNoKG92ZXJsb2FkKTtcclxuICAgIH1cclxuICAgIGdldE9wZXJhdG9yT3ZlcmxvYWQob3BlcmF0b3I6IFRva2VuVHlwZSk6IEFTVC5BU1RGdW5jdGlvbltdIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5vcGVyYXRvck92ZXJsb2Fkcy5nZXQob3BlcmF0b3IpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIHNjb3BlQ291bnRlciA9IDA7XHJcbiAgICBzY29wZUlEOiBudW1iZXI7XHJcbiAgICBzY29wZVR5cGUhOiBTY29wZVR5cGU7XHJcbiAgICB0YWJsZTogTWFwPHN0cmluZywgQVNULkFTVERlY2xhcmF0aW9uPiA9IG5ldyBNYXAoKTtcclxuICAgIHdpdGhNb2R1bGVzITogQVNULkFTVERlY2xhcmF0aW9uW107IC8vIFN0b3JlIHRoZSBzY29wZSBvZiBhbGwgXCJ3aXRoXCIgbW9kdWxlc1xyXG4gICAgcGFyZW50ITogU2NvcGU7XHJcbiAgICBkZWJ1Z0NoaWxkcmVuITogU2NvcGVbXTsgLy8gUHVyZWx5IGZvciBkZWJ1Z2luZywgc2NvcGUgZG9lc24ndCBuZWVkIHRvIGtub3cgaXRzIGNoaWxkcmVuXHJcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnRTY29wZTogU2NvcGUgfCB1bmRlZmluZWQpIHtcclxuICAgICAgICB0aGlzLnNjb3BlSUQgPSBTY29wZS5zY29wZUNvdW50ZXIrKztcclxuICAgICAgICBpZiAocGFyZW50U2NvcGUpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnRTY29wZTtcclxuICAgICAgICAgICAgaWYgKCFwYXJlbnRTY29wZS5kZWJ1Z0NoaWxkcmVuKSBwYXJlbnRTY29wZS5kZWJ1Z0NoaWxkcmVuID0gW107XHJcbiAgICAgICAgICAgIHBhcmVudFNjb3BlLmRlYnVnQ2hpbGRyZW4ucHVzaCh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRFbmNsb3NpbmdTY29wZShzY29wZVR5cGU6IFNjb3BlVHlwZSk6IFNjb3BlIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICBpZiAodGhpcy5zY29wZVR5cGUgPT09IHNjb3BlVHlwZSkgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuZ2V0RW5jbG9zaW5nU2NvcGUoc2NvcGVUeXBlKTtcclxuICAgIH1cclxuICAgIGVxdWFscyhvdGhlclNjb3BlOiBTY29wZSkge1xyXG4gICAgICAgIHJldHVybiBvdGhlclNjb3BlLnNjb3BlSUQgPT09IHRoaXMuc2NvcGVJRDtcclxuICAgIH1cclxuICAgIGlzVW5vcmRlcmVkKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIHRoaXMuc2NvcGVUeXBlID09PSBTY29wZVR5cGUuR0xPQkFMX1NDT1BFIHx8XHJcbiAgICAgICAgICAgIHRoaXMuc2NvcGVUeXBlID09PSBTY29wZVR5cGUuTU9EVUxFX1NDT1BFIHx8XHJcbiAgICAgICAgICAgIHRoaXMuc2NvcGVUeXBlID09PSBTY29wZVR5cGUuVFlQRV9TQ09QRVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwcmludFNjb3BlKHNjb3BlOiBTY29wZSkge1xyXG4gICAgbGV0IGZtdDogc3RyaW5nW10gPSBbXTtcclxuICAgIGxldCBsaW5lczogc3RyaW5nW10gPSBbXTtcclxuICAgIG1lcmdlKGxpbmVzLCByZWN1cnNlU2NvcGUoc2NvcGUsIGZtdCkpO1xyXG5cclxuICAgIGxldCBzdHI6IHN0cmluZ1tdID0gW2xpbmVzLmpvaW4oXCJcXG5cIildO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBzdHIucHVzaChmbXRbaV0pO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2cuYXBwbHkobGluZXMsIHN0cik7XHJcbn1cclxuZnVuY3Rpb24gcmVjdXJzZVNjb3BlKHNjb3BlOiBTY29wZSwgZm10OiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcclxuICAgIGxldCBsaW5lczogc3RyaW5nW10gPSBbYXBwbHlGbXQoXCJTY29wZVwiLCBmbXQpXTtcclxuICAgIGlmIChzY29wZS5vcGVyYXRvck92ZXJsb2Fkcykge1xyXG4gICAgICAgIG1lcmdlKGxpbmVzLCBbXCIgICBPcGVyYXRvck92ZXJsb2FkczpcIl0pO1xyXG4gICAgICAgIGxldCBtYXhLZXlMZW5ndGggPSAwO1xyXG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHNjb3BlLm9wZXJhdG9yT3ZlcmxvYWRzLmtleXMoKSkge1xyXG4gICAgICAgICAgICBpZiAodG9rZW5Ub1N0cihrZXkpLmxlbmd0aCA+IG1heEtleUxlbmd0aCkgbWF4S2V5TGVuZ3RoID0gdG9rZW5Ub1N0cihrZXkpLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2Ygc2NvcGUub3BlcmF0b3JPdmVybG9hZHMuZW50cmllcygpKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBsaW5lID0gXCIgICAgfCAgXCI7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmUgKz1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlGbXQodG9rZW5Ub1N0cihrZXkpLCBmbXQsIEFTVC5BU1RGbXQuSURFTlRJRklFUl9GTVQpICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCIgXCIucmVwZWF0KG1heEtleUxlbmd0aCAtIHRva2VuVG9TdHIoa2V5KS5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lICs9IFwiIFwiLnJlcGVhdChtYXhLZXlMZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbGluZSArPSBcIiAgPT4gXCIgKyBhcHBseUZtdChBU1QuZXhwclRvU3RyKHZhbHVlW2ldKSwgZm10LCBBU1QuQVNURm10LkVYUFJFU1NJT05fRk1UKTtcclxuICAgICAgICAgICAgICAgIGxpbmVzLnB1c2gobGluZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsaW5lcy5wdXNoKFwiICAgVGFibGU6XCIpO1xyXG4gICAgbGV0IG1heEtleUxlbmd0aCA9IDA7XHJcbiAgICBsZXQgbWF4VHlwZUxlbmd0aCA9IDA7XHJcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBzY29wZS50YWJsZS5lbnRyaWVzKCkpIHtcclxuICAgICAgICBpZiAoa2V5Lmxlbmd0aCA+IG1heEtleUxlbmd0aCkgbWF4S2V5TGVuZ3RoID0ga2V5Lmxlbmd0aDtcclxuICAgICAgICBpZiAodmFsdWUudHlwZSAmJiB2YWx1ZS50eXBlLnJlc29sdmVkKSB7XHJcbiAgICAgICAgICAgIGxldCB0eXBlTmFtZSA9IEFTVC5leHByVG9TdHIodmFsdWUudHlwZS5yZXNvbHZlZCk7XHJcbiAgICAgICAgICAgIGlmICh0eXBlTmFtZS5sZW5ndGggPiBtYXhUeXBlTGVuZ3RoKSBtYXhUeXBlTGVuZ3RoID0gdHlwZU5hbWUubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHNjb3BlLnRhYmxlLmVudHJpZXMoKSkge1xyXG4gICAgICAgIGxldCBsaW5lID0gXCIgICAgfCAgXCI7XHJcbiAgICAgICAgbGluZSArPSBhcHBseUZtdChrZXksIGZtdCwgQVNULkFTVEZtdC5JREVOVElGSUVSX0ZNVCkgKyBcIiBcIi5yZXBlYXQobWF4S2V5TGVuZ3RoIC0ga2V5Lmxlbmd0aCk7XHJcbiAgICAgICAgbGV0IHR5cGVOYW1lID0gXCJcIjtcclxuICAgICAgICBpZiAodmFsdWUudHlwZSAmJiB2YWx1ZS50eXBlLnJlc29sdmVkKSB7XHJcbiAgICAgICAgICAgIHR5cGVOYW1lID0gQVNULmV4cHJUb1N0cih2YWx1ZS50eXBlLnJlc29sdmVkKTtcclxuICAgICAgICAgICAgbGluZSArPSBcIiA6IFwiICsgYXBwbHlGbXQodHlwZU5hbWUsIGZtdCwgQVNULkFTVEZtdC5UWVBFX0ZNVCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGluZSArPSBcIiAgIFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmFsdWUucnZhbHVlKSB7XHJcbiAgICAgICAgICAgIGxldCBhc3NpZ25tZW50ID0gXCIgID0gIFwiO1xyXG4gICAgICAgICAgICBpZiAodmFsdWUuYWNjZXNzQXNzaWdubWVudC50eXBlID09PSBUb2tlblR5cGUuQ09OU1RfQVNTSUdOTUVOVF9US04pIGFzc2lnbm1lbnQgPSBcIiAgPT4gXCI7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZS5hY2Nlc3NBc3NpZ25tZW50LnR5cGUgPT09IFRva2VuVHlwZS5NVVRBQkxFX0FTU0lHTk1FTlRfVEtOKSBhc3NpZ25tZW50ID0gXCIgfj0gIFwiO1xyXG4gICAgICAgICAgICBsaW5lICs9XHJcbiAgICAgICAgICAgICAgICBcIiBcIi5yZXBlYXQobWF4VHlwZUxlbmd0aCAtIHR5cGVOYW1lLmxlbmd0aCkgK1xyXG4gICAgICAgICAgICAgICAgYXNzaWdubWVudCArXHJcbiAgICAgICAgICAgICAgICBhcHBseUZtdChBU1QuZXhwclRvU3RyKHZhbHVlLnJ2YWx1ZSksIGZtdCwgQVNULkFTVEZtdC5FWFBSRVNTSU9OX0ZNVCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxpbmVzLnB1c2gobGluZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc2NvcGUuZGVidWdDaGlsZHJlbikge1xyXG4gICAgICAgIGxpbmVzLnB1c2goXCIgICBDaGlsZHJlbjpcIik7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY29wZS5kZWJ1Z0NoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIG1lcmdlKGxpbmVzLCBzcGFjZSgzLCBiYXIocmVjdXJzZVNjb3BlKHNjb3BlLmRlYnVnQ2hpbGRyZW5baV0sIGZtdCkpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxpbmVzO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/scuft/lang/Scope.ts\n");

/***/ }),

/***/ "./src/scuft/lang/ScuftTest.ts":
/*!*************************************!*\
  !*** ./src/scuft/lang/ScuftTest.ts ***!
  \*************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* export default binding */ __WEBPACK_DEFAULT_EXPORT__\n/* harmony export */ });\n/* harmony import */ var _Lexer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Lexer */ \"./src/scuft/lang/Lexer.ts\");\n/* harmony import */ var _Parser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Parser */ \"./src/scuft/lang/Parser.ts\");\n/* harmony import */ var _TypeChecker__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TypeChecker */ \"./src/scuft/lang/TypeChecker.ts\");\n/* harmony import */ var _Interpreter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Interpreter */ \"./src/scuft/lang/Interpreter.ts\");\n/* harmony import */ var _test_7_InterpTest_scft__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../test/7-InterpTest.scft */ \"./src/scuft/test/7-InterpTest.scft\");\n/* harmony import */ var _Ast__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Ast */ \"./src/scuft/lang/Ast.ts\");\n/* harmony import */ var _Scope__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Scope */ \"./src/scuft/lang/Scope.ts\");\n/* harmony import */ var _ErrorHandler__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ErrorHandler */ \"./src/scuft/lang/ErrorHandler.ts\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/* harmony default export */ function __WEBPACK_DEFAULT_EXPORT__() {\r\n    function testString(input) {\r\n        let errHandler = _ErrorHandler__WEBPACK_IMPORTED_MODULE_7__.ErrorHandler.fromSource(\"\", input);\r\n        let parser = new _Parser__WEBPACK_IMPORTED_MODULE_1__.default(new _Lexer__WEBPACK_IMPORTED_MODULE_0__.default(input, errHandler), errHandler);\r\n        let prgm = parser.parseProgram();\r\n        (0,_Ast__WEBPACK_IMPORTED_MODULE_5__.printAST)(prgm);\r\n        let typeCheck = new _TypeChecker__WEBPACK_IMPORTED_MODULE_2__.default(errHandler);\r\n        typeCheck.typeCheckProgram(prgm);\r\n        (0,_Scope__WEBPACK_IMPORTED_MODULE_6__.printScope)(prgm.scope);\r\n        let interp = new _Interpreter__WEBPACK_IMPORTED_MODULE_3__.default();\r\n        interp.interpProgram(prgm);\r\n    }\r\n    testString(_test_7_InterpTest_scft__WEBPACK_IMPORTED_MODULE_4__.default);\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3VmdC8uL3NyYy9zY3VmdC9sYW5nL1NjdWZ0VGVzdC50cz8wYjQ4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUE0QjtBQUNFO0FBQ1U7QUFDQTtBQU9XO0FBRWxCO0FBQ0k7QUFDUztBQUU5Qyw2QkFBZSxzQ0FBWTtJQUN2QixTQUFTLFVBQVUsQ0FBQyxLQUFhO1FBQzdCLElBQUksVUFBVSxHQUFHLGtFQUF1QixDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUtwRCxJQUFJLE1BQU0sR0FBRyxJQUFJLDRDQUFNLENBQUMsSUFBSSwyQ0FBSyxDQUFDLEtBQUssRUFBRSxVQUFVLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUNsRSxJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsWUFBWSxFQUFFLENBQUM7UUFFakMsOENBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUVmLElBQUksU0FBUyxHQUFHLElBQUksaURBQVcsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUM1QyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDakMsa0RBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFdkIsSUFBSSxNQUFNLEdBQUcsSUFBSSxpREFBVyxFQUFFLENBQUM7UUFDL0IsTUFBTSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMvQixDQUFDO0lBT0QsVUFBVSxDQUFDLDREQUFVLENBQUMsQ0FBQztBQUczQixDQUFDIiwiZmlsZSI6Ii4vc3JjL3NjdWZ0L2xhbmcvU2N1ZnRUZXN0LnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExleGVyIGZyb20gXCIuL0xleGVyXCI7XHJcbmltcG9ydCBQYXJzZXIgZnJvbSBcIi4vUGFyc2VyXCI7XHJcbmltcG9ydCBUeXBlQ2hlY2tlciBmcm9tIFwiLi9UeXBlQ2hlY2tlclwiO1xyXG5pbXBvcnQgSW50ZXJwcmV0ZXIgZnJvbSBcIi4vSW50ZXJwcmV0ZXJcIjtcclxuXHJcbmltcG9ydCBzaW1wbGVUZXN0IGZyb20gXCIuLi90ZXN0LzEtU2ltcGxlVGVzdC5zY2Z0XCI7XHJcbmltcG9ydCBsaXRlcmFsVGVzdCBmcm9tIFwiLi4vdGVzdC8yLUxpdGVyYWxUZXN0LnNjZnRcIjtcclxuaW1wb3J0IGV4cHJlc3Npb25UZXN0IGZyb20gXCIuLi90ZXN0LzQtRXhwcmVzc2lvblRlc3Quc2NmdFwiO1xyXG5pbXBvcnQgbW9kdWxlVHlwZURlZlRlc3QgZnJvbSBcIi4uL3Rlc3QvNS1Nb2R1bGVUeXBlRGVmaW5pdGlvblRlc3Quc2NmdFwiO1xyXG5pbXBvcnQgZGVjbGFyZVR5cGVUZXN0IGZyb20gXCIuLi90ZXN0LzYtRGVjbGFyYXRpb25UeXBlSW5mZXIuc2NmdFwiO1xyXG5pbXBvcnQgaW50ZXJwVGVzdCBmcm9tIFwiLi4vdGVzdC83LUludGVycFRlc3Quc2NmdFwiO1xyXG5cclxuaW1wb3J0IHsgcHJpbnRBU1QgfSBmcm9tIFwiLi9Bc3RcIjtcclxuaW1wb3J0IHsgcHJpbnRTY29wZSB9IGZyb20gXCIuL1Njb3BlXCI7XHJcbmltcG9ydCB7IEVycm9ySGFuZGxlciB9IGZyb20gXCIuL0Vycm9ySGFuZGxlclwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gdGVzdFN0cmluZyhpbnB1dDogc3RyaW5nKSB7XHJcbiAgICAgICAgbGV0IGVyckhhbmRsZXIgPSBFcnJvckhhbmRsZXIuZnJvbVNvdXJjZShcIlwiLCBpbnB1dCk7XHJcblxyXG4gICAgICAgIC8vIGxldCBsZXhlciA9IG5ldyBMZXhlcihpbnB1dCwgZXJySGFuZGxlcik7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cobGV4ZXIubGV4KCkpO1xyXG5cclxuICAgICAgICBsZXQgcGFyc2VyID0gbmV3IFBhcnNlcihuZXcgTGV4ZXIoaW5wdXQsIGVyckhhbmRsZXIpLCBlcnJIYW5kbGVyKTtcclxuICAgICAgICBsZXQgcHJnbSA9IHBhcnNlci5wYXJzZVByb2dyYW0oKTtcclxuXHJcbiAgICAgICAgcHJpbnRBU1QocHJnbSk7XHJcblxyXG4gICAgICAgIGxldCB0eXBlQ2hlY2sgPSBuZXcgVHlwZUNoZWNrZXIoZXJySGFuZGxlcik7XHJcbiAgICAgICAgdHlwZUNoZWNrLnR5cGVDaGVja1Byb2dyYW0ocHJnbSk7XHJcbiAgICAgICAgcHJpbnRTY29wZShwcmdtLnNjb3BlKTtcclxuXHJcbiAgICAgICAgbGV0IGludGVycCA9IG5ldyBJbnRlcnByZXRlcigpO1xyXG4gICAgICAgIGludGVycC5pbnRlcnBQcm9ncmFtKHByZ20pO1xyXG4gICAgfVxyXG4gICAgLy8gdGVzdFN0cmluZyhzaW1wbGVUZXN0KTtcclxuICAgIC8vIHRlc3RTdHJpbmcobGl0ZXJhbFRlc3QpO1xyXG4gICAgLy8gdGVzdFN0cmluZyh0eXBlVGVzdCk7XHJcbiAgICAvLyB0ZXN0U3RyaW5nKGV4cHJlc3Npb25UZXN0KTtcclxuICAgIC8vIHRlc3RTdHJpbmcobW9kdWxlVHlwZURlZlRlc3QpO1xyXG4gICAgLy8gdGVzdFN0cmluZyhkZWNsYXJlVHlwZVRlc3QpO1xyXG4gICAgdGVzdFN0cmluZyhpbnRlcnBUZXN0KTtcclxuXHJcbiAgICAvLyB0ZXN0U3RyaW5nKFwiYjIgPSAoYTogbnVtLCBiOiBudW0pIC0+IG51bSB7fTtcIik7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scuft/lang/ScuftTest.ts\n");

/***/ }),

/***/ "./src/scuft/lang/Token.ts":
/*!*********************************!*\
  !*** ./src/scuft/lang/Token.ts ***!
  \*********************************/
/*! namespace exports */
/*! export Token [provided] [no usage info] [missing usage info prevents renaming] */
/*! export TokenType [provided] [no usage info] [missing usage info prevents renaming] */
/*! export tokenToStr [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Token\": () => /* binding */ Token,\n/* harmony export */   \"tokenToStr\": () => /* binding */ tokenToStr,\n/* harmony export */   \"TokenType\": () => /* binding */ TokenType\n/* harmony export */ });\nclass Token {\r\n    constructor(stringValue, line, c, type) {\r\n        this.stringValue = stringValue;\r\n        this.line = line;\r\n        this.c = c;\r\n        this.type = type;\r\n        this.typeName = TokenType[type];\r\n    }\r\n    static fromType(type, locToken) {\r\n        return new Token(tokenToStr(type), locToken.line, locToken.c, type);\r\n    }\r\n    equals(other) {\r\n        return (other.line === this.line && other.c === this.c && this.isTokenTypeEqual(other) && other.value === this.value);\r\n    }\r\n    isTokenTypeEqual(other) {\r\n        return other.type === this.type;\r\n    }\r\n    isTokenBefore(otherAfterCurrent) {\r\n        return (this.line < otherAfterCurrent.line || (this.line === otherAfterCurrent.line && this.c < otherAfterCurrent.c));\r\n    }\r\n}\r\nfunction tokenToStr(tokenType) {\r\n    switch (tokenType) {\r\n        case TokenType.COLON_TKN:\r\n            return \":\";\r\n        case TokenType.CONST_ASSIGNMENT_TKN:\r\n            return \"=>\";\r\n        case TokenType.IMMUTABLE_ASSIGNMENT_TKN:\r\n            return \"=\";\r\n        case TokenType.MUTABLE_ASSIGNMENT_TKN:\r\n            return \"~=\";\r\n        case TokenType.LEFT_CURLY_TKN:\r\n            return \"{\";\r\n        case TokenType.RIGHT_CURLY_TKN:\r\n            return \"}\";\r\n        case TokenType.LEFT_SQUARE_TKN:\r\n            return \"[\";\r\n        case TokenType.RIGHT_SQUARE_TKN:\r\n            return \"]\";\r\n        case TokenType.LEFT_PARENS_TKN:\r\n            return \"(\";\r\n        case TokenType.RIGHT_PARENS_TKN:\r\n            return \")\";\r\n        case TokenType.TYPE_TKN:\r\n            return \"type\";\r\n        case TokenType.MODULE_TKN:\r\n            return \"module\";\r\n        case TokenType.WITH_TKN:\r\n            return \"with\";\r\n        case TokenType.IF_TKN:\r\n            return \"if\";\r\n        case TokenType.ELSE_TKN:\r\n            return \"else\";\r\n        case TokenType.WHILE_TKN:\r\n            return \"while\";\r\n        case TokenType.FOR_TKN:\r\n            return \"for\";\r\n        case TokenType.IN_TKN:\r\n            return \"in\";\r\n        case TokenType.BREAK_TKN:\r\n            return \"break\";\r\n        case TokenType.CONTINUE_TKN:\r\n            return \"continue\";\r\n        case TokenType.COND_OR_TKN:\r\n            return \"||\";\r\n        case TokenType.COND_AND_TKN:\r\n            return \"&&\";\r\n        case TokenType.COND_XOR_TKN:\r\n            return \"$$\";\r\n        case TokenType.COND_NOT_TKN:\r\n            return \"!\";\r\n        case TokenType.COND_EQUALS_TKN:\r\n            return \"==\";\r\n        case TokenType.COND_NOT_EQUALS_TKN:\r\n            return \"!=\";\r\n        case TokenType.COND_LESS_THAN_TKN:\r\n            return \"<\";\r\n        case TokenType.COND_LESS_THAN_EQUAL_TKN:\r\n            return \"<=\";\r\n        case TokenType.COND_GREATER_THAN_TKN:\r\n            return \">\";\r\n        case TokenType.COND_GREATER_THAN_EQUAL_TKN:\r\n            return \">=\";\r\n        case TokenType.COND_TRUE_TKN:\r\n            return \"true\";\r\n        case TokenType.COND_FALSE_TKN:\r\n            return \"false\";\r\n        case TokenType.MUT_CAST_TKN:\r\n            return \"mut\";\r\n        case TokenType.IMMUT_CAST_TKN:\r\n            return \"immut\";\r\n        case TokenType.CONST_CAST_TKN:\r\n            return \"const\";\r\n        case TokenType.VOID_TYPE_TKN:\r\n            return \"void\";\r\n        case TokenType.NUM_TYPE_TKN:\r\n            return \"num\";\r\n        case TokenType.STRING_TYPE_TKN:\r\n            return \"string\";\r\n        case TokenType.BOOL_TYPE_TKN:\r\n            return \"bool\";\r\n        case TokenType.BIN_OR_TKN:\r\n            return \"or\";\r\n        case TokenType.BIN_AND_TKN:\r\n            return \"and\";\r\n        case TokenType.BIN_XOR_TKN:\r\n            return \"xor\";\r\n        case TokenType.BIN_NOT_TKN:\r\n            return \"~\";\r\n        case TokenType.BIN_SHIFT_RIGHT_TKN:\r\n            return \">>\";\r\n        case TokenType.BIN_SHIFT_ARITHMETIC_RIGHT_TKN:\r\n            return \">>>\";\r\n        case TokenType.BIN_SHIFT_LEFT_TKN:\r\n            return \"<<\";\r\n        case TokenType.ARROW_TKN:\r\n            return \"->\";\r\n        case TokenType.RETURN_TKN:\r\n            return \"return\";\r\n        case TokenType.BACKSLASH_TKN:\r\n            return \"\\\\\";\r\n        case TokenType.OP_ADD_TKN:\r\n            return \"+\";\r\n        case TokenType.OP_SUBTR_TKN:\r\n            return \"-\";\r\n        case TokenType.OP_MULT_TKN:\r\n            return \"*\";\r\n        case TokenType.OP_DIVIDE_TKN:\r\n            return \"/\";\r\n        case TokenType.OP_CARROT_TKN:\r\n            return \"^\";\r\n        case TokenType.OP_MODULUS_TKN:\r\n            return \"%\";\r\n        case TokenType.OP_ADD_ADD_TKN:\r\n            return \"++\";\r\n        case TokenType.OP_ADD_EQUALS_TKN:\r\n            return \"+=\";\r\n        case TokenType.OP_SUBTR_SUBTR_TKN:\r\n            return \"--\";\r\n        case TokenType.OP_SUBTR_EQUALS_TKN:\r\n            return \"-=\";\r\n        case TokenType.OP_MULT_EQUALS_TKN:\r\n            return \"*=\";\r\n        case TokenType.OP_DIV_EQUALS_TKN:\r\n            return \"/=\";\r\n        case TokenType.HASH_RANGE_TKN:\r\n            return \"#range\";\r\n        case TokenType.DOUBLE_QUOTE_TKN:\r\n            return '\"';\r\n        case TokenType.DOT_TKN:\r\n            return \".\";\r\n        case TokenType.ELLIPSIS_TKN:\r\n            return \"...\";\r\n        case TokenType.REVERSE_ARROW_TKN:\r\n            return \"<-\";\r\n        case TokenType.COMMA_TKN:\r\n            return \",\";\r\n        case TokenType.SEMI_COLON_TKN:\r\n            return \";\";\r\n        default:\r\n            return TokenType[tokenType];\r\n    }\r\n}\r\nvar TokenType;\r\n(function (TokenType) {\r\n    TokenType[TokenType[\"IDENTIFIER_TKN\"] = 0] = \"IDENTIFIER_TKN\";\r\n    TokenType[TokenType[\"COLON_TKN\"] = 1] = \"COLON_TKN\";\r\n    TokenType[TokenType[\"NUMERIC_LITERAL_TKN\"] = 2] = \"NUMERIC_LITERAL_TKN\";\r\n    TokenType[TokenType[\"STRING_LITERAL_TKN\"] = 3] = \"STRING_LITERAL_TKN\";\r\n    TokenType[TokenType[\"IMMUTABLE_ASSIGNMENT_TKN\"] = 4] = \"IMMUTABLE_ASSIGNMENT_TKN\";\r\n    TokenType[TokenType[\"CONST_ASSIGNMENT_TKN\"] = 5] = \"CONST_ASSIGNMENT_TKN\";\r\n    TokenType[TokenType[\"MUTABLE_ASSIGNMENT_TKN\"] = 6] = \"MUTABLE_ASSIGNMENT_TKN\";\r\n    TokenType[TokenType[\"LEFT_CURLY_TKN\"] = 7] = \"LEFT_CURLY_TKN\";\r\n    TokenType[TokenType[\"RIGHT_CURLY_TKN\"] = 8] = \"RIGHT_CURLY_TKN\";\r\n    TokenType[TokenType[\"LEFT_SQUARE_TKN\"] = 9] = \"LEFT_SQUARE_TKN\";\r\n    TokenType[TokenType[\"RIGHT_SQUARE_TKN\"] = 10] = \"RIGHT_SQUARE_TKN\";\r\n    TokenType[TokenType[\"LEFT_PARENS_TKN\"] = 11] = \"LEFT_PARENS_TKN\";\r\n    TokenType[TokenType[\"RIGHT_PARENS_TKN\"] = 12] = \"RIGHT_PARENS_TKN\";\r\n    TokenType[TokenType[\"TYPE_TKN\"] = 13] = \"TYPE_TKN\";\r\n    TokenType[TokenType[\"MODULE_TKN\"] = 14] = \"MODULE_TKN\";\r\n    TokenType[TokenType[\"WITH_TKN\"] = 15] = \"WITH_TKN\";\r\n    TokenType[TokenType[\"IF_TKN\"] = 16] = \"IF_TKN\";\r\n    TokenType[TokenType[\"ELSE_TKN\"] = 17] = \"ELSE_TKN\";\r\n    TokenType[TokenType[\"WHILE_TKN\"] = 18] = \"WHILE_TKN\";\r\n    TokenType[TokenType[\"FOR_TKN\"] = 19] = \"FOR_TKN\";\r\n    TokenType[TokenType[\"IN_TKN\"] = 20] = \"IN_TKN\";\r\n    TokenType[TokenType[\"BREAK_TKN\"] = 21] = \"BREAK_TKN\";\r\n    TokenType[TokenType[\"CONTINUE_TKN\"] = 22] = \"CONTINUE_TKN\";\r\n    TokenType[TokenType[\"COND_OR_TKN\"] = 23] = \"COND_OR_TKN\";\r\n    TokenType[TokenType[\"COND_AND_TKN\"] = 24] = \"COND_AND_TKN\";\r\n    TokenType[TokenType[\"COND_XOR_TKN\"] = 25] = \"COND_XOR_TKN\";\r\n    TokenType[TokenType[\"COND_NOT_TKN\"] = 26] = \"COND_NOT_TKN\";\r\n    TokenType[TokenType[\"COND_EQUALS_TKN\"] = 27] = \"COND_EQUALS_TKN\";\r\n    TokenType[TokenType[\"COND_NOT_EQUALS_TKN\"] = 28] = \"COND_NOT_EQUALS_TKN\";\r\n    TokenType[TokenType[\"COND_LESS_THAN_TKN\"] = 29] = \"COND_LESS_THAN_TKN\";\r\n    TokenType[TokenType[\"COND_LESS_THAN_EQUAL_TKN\"] = 30] = \"COND_LESS_THAN_EQUAL_TKN\";\r\n    TokenType[TokenType[\"COND_GREATER_THAN_TKN\"] = 31] = \"COND_GREATER_THAN_TKN\";\r\n    TokenType[TokenType[\"COND_GREATER_THAN_EQUAL_TKN\"] = 32] = \"COND_GREATER_THAN_EQUAL_TKN\";\r\n    TokenType[TokenType[\"COND_TRUE_TKN\"] = 33] = \"COND_TRUE_TKN\";\r\n    TokenType[TokenType[\"COND_FALSE_TKN\"] = 34] = \"COND_FALSE_TKN\";\r\n    TokenType[TokenType[\"MUT_CAST_TKN\"] = 35] = \"MUT_CAST_TKN\";\r\n    TokenType[TokenType[\"IMMUT_CAST_TKN\"] = 36] = \"IMMUT_CAST_TKN\";\r\n    TokenType[TokenType[\"CONST_CAST_TKN\"] = 37] = \"CONST_CAST_TKN\";\r\n    TokenType[TokenType[\"VOID_TYPE_TKN\"] = 38] = \"VOID_TYPE_TKN\";\r\n    TokenType[TokenType[\"NUM_TYPE_TKN\"] = 39] = \"NUM_TYPE_TKN\";\r\n    TokenType[TokenType[\"STRING_TYPE_TKN\"] = 40] = \"STRING_TYPE_TKN\";\r\n    TokenType[TokenType[\"BOOL_TYPE_TKN\"] = 41] = \"BOOL_TYPE_TKN\";\r\n    TokenType[TokenType[\"BIN_OR_TKN\"] = 42] = \"BIN_OR_TKN\";\r\n    TokenType[TokenType[\"BIN_AND_TKN\"] = 43] = \"BIN_AND_TKN\";\r\n    TokenType[TokenType[\"BIN_XOR_TKN\"] = 44] = \"BIN_XOR_TKN\";\r\n    TokenType[TokenType[\"BIN_NOT_TKN\"] = 45] = \"BIN_NOT_TKN\";\r\n    TokenType[TokenType[\"BIN_SHIFT_RIGHT_TKN\"] = 46] = \"BIN_SHIFT_RIGHT_TKN\";\r\n    TokenType[TokenType[\"BIN_SHIFT_ARITHMETIC_RIGHT_TKN\"] = 47] = \"BIN_SHIFT_ARITHMETIC_RIGHT_TKN\";\r\n    TokenType[TokenType[\"BIN_SHIFT_LEFT_TKN\"] = 48] = \"BIN_SHIFT_LEFT_TKN\";\r\n    TokenType[TokenType[\"ARROW_TKN\"] = 49] = \"ARROW_TKN\";\r\n    TokenType[TokenType[\"RETURN_TKN\"] = 50] = \"RETURN_TKN\";\r\n    TokenType[TokenType[\"BACKSLASH_TKN\"] = 51] = \"BACKSLASH_TKN\";\r\n    TokenType[TokenType[\"OP_ADD_TKN\"] = 52] = \"OP_ADD_TKN\";\r\n    TokenType[TokenType[\"OP_SUBTR_TKN\"] = 53] = \"OP_SUBTR_TKN\";\r\n    TokenType[TokenType[\"OP_MULT_TKN\"] = 54] = \"OP_MULT_TKN\";\r\n    TokenType[TokenType[\"OP_DIVIDE_TKN\"] = 55] = \"OP_DIVIDE_TKN\";\r\n    TokenType[TokenType[\"OP_CARROT_TKN\"] = 56] = \"OP_CARROT_TKN\";\r\n    TokenType[TokenType[\"OP_MODULUS_TKN\"] = 57] = \"OP_MODULUS_TKN\";\r\n    TokenType[TokenType[\"OP_ADD_ADD_TKN\"] = 58] = \"OP_ADD_ADD_TKN\";\r\n    TokenType[TokenType[\"OP_ADD_EQUALS_TKN\"] = 59] = \"OP_ADD_EQUALS_TKN\";\r\n    TokenType[TokenType[\"OP_SUBTR_SUBTR_TKN\"] = 60] = \"OP_SUBTR_SUBTR_TKN\";\r\n    TokenType[TokenType[\"OP_SUBTR_EQUALS_TKN\"] = 61] = \"OP_SUBTR_EQUALS_TKN\";\r\n    TokenType[TokenType[\"OP_MULT_EQUALS_TKN\"] = 62] = \"OP_MULT_EQUALS_TKN\";\r\n    TokenType[TokenType[\"OP_DIV_EQUALS_TKN\"] = 63] = \"OP_DIV_EQUALS_TKN\";\r\n    TokenType[TokenType[\"HASH_RANGE_TKN\"] = 64] = \"HASH_RANGE_TKN\";\r\n    TokenType[TokenType[\"DOUBLE_QUOTE_TKN\"] = 65] = \"DOUBLE_QUOTE_TKN\";\r\n    TokenType[TokenType[\"DOT_TKN\"] = 66] = \"DOT_TKN\";\r\n    TokenType[TokenType[\"ELLIPSIS_TKN\"] = 67] = \"ELLIPSIS_TKN\";\r\n    TokenType[TokenType[\"REVERSE_ARROW_TKN\"] = 68] = \"REVERSE_ARROW_TKN\";\r\n    TokenType[TokenType[\"COMMA_TKN\"] = 69] = \"COMMA_TKN\";\r\n    TokenType[TokenType[\"SEMI_COLON_TKN\"] = 70] = \"SEMI_COLON_TKN\";\r\n    TokenType[TokenType[\"UNKNOWN_TKN\"] = 71] = \"UNKNOWN_TKN\";\r\n    TokenType[TokenType[\"END_TKN\"] = 72] = \"END_TKN\";\r\n})(TokenType || (TokenType = {}));\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3VmdC8uL3NyYy9zY3VmdC9sYW5nL1Rva2VuLnRzP2NiNDgiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU8sTUFBTSxLQUFLO0lBY2QsWUFBWSxXQUFtQixFQUFFLElBQVksRUFBRSxDQUFTLEVBQUUsSUFBZTtRQUNyRSxJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztRQUUvQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUVYLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxRQUFRLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFYRCxNQUFNLENBQUMsUUFBUSxDQUFDLElBQWUsRUFBRSxRQUFlO1FBQzVDLE9BQU8sSUFBSSxLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxFQUFFLFFBQVEsQ0FBQyxJQUFJLEVBQUUsUUFBUSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUN4RSxDQUFDO0lBVUQsTUFBTSxDQUFDLEtBQVk7UUFDZixPQUFPLENBQ0gsS0FBSyxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLEtBQUssQ0FBQyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsS0FBSyxDQUFDLElBQUksS0FBSyxDQUFDLEtBQUssS0FBSyxJQUFJLENBQUMsS0FBSyxDQUMvRyxDQUFDO0lBQ04sQ0FBQztJQUNELGdCQUFnQixDQUFDLEtBQVk7UUFDekIsT0FBTyxLQUFLLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJLENBQUM7SUFDcEMsQ0FBQztJQUVELGFBQWEsQ0FBQyxpQkFBd0I7UUFDbEMsT0FBTyxDQUNILElBQUksQ0FBQyxJQUFJLEdBQUcsaUJBQWlCLENBQUMsSUFBSSxJQUFJLENB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LGdFQUFlO0lBQ2Ysa0VBQWdCO0lBR2hCLGtEQUFRO0lBQ1Isc0RBQVU7SUFDVixrREFBUTtJQUNSLDhDQUFNO0lBQ04sa0RBQVE7SUFDUixvREFBUztJQUNULGdEQUFPO0lBQ1AsOENBQU07SUFDTixvREFBUztJQUNULDBEQUFZO0lBR1osd0RBQVc7SUFDWCwwREFBWTtJQUNaLDBEQUFZO0lBQ1osMERBQVk7SUFDWixnRUFBZTtJQUNmLHdFQUFtQjtJQUNuQixzRUFBa0I7SUFDbEIsa0ZBQXdCO0lBQ3hCLDRFQUFxQjtJQUNyQix3RkFBMkI7SUFDM0IsNERBQWE7SUFDYiw4REFBYztJQUdkLDBEQUFZO0lBQ1osOERBQWM7SUFDZCw4REFBYztJQUNkLDREQUFhO0lBQ2IsMERBQVk7SUFDWixnRUFBZTtJQUNmLDREQUFhO0lBR2Isc0RBQVU7SUFDVix3REFBVztJQUNYLHdEQUFXO0lBQ1gsd0RBQVc7SUFDWCx3RUFBbUI7SUFDbkIsOEZBQThCO0lBQzlCLHNFQUFrQjtJQUdsQixvREFBUztJQUNULHNEQUFVO0lBR1YsNERBQWE7SUFHYixzREFBVTtJQUNWLDBEQUFZO0lBQ1osd0RBQVc7SUFDWCw0REFBYTtJQUNiLDREQUFhO0lBQ2IsOERBQWM7SUFDZCw4REFBYztJQUNkLG9FQUFpQjtJQUNqQixzRUFBa0I7SUFDbEIsd0VBQW1CO0lBQ25CLHNFQUFrQjtJQUNsQixvRUFBaUI7SUFHakIsOERBQWM7SUFHZCxrRUFBZ0I7SUFDaEIsZ0RBQU87SUFDUCwwREFBWTtJQUNaLG9FQUFpQjtJQUNqQixvREFBUztJQUNULDhEQUFjO0lBQ2Qsd0RBQVc7SUFDWCxnREFBTztBQUNYLENBQUMsRUFoR1csU0FBUyxLQUFULFNBQVMsUUFnR3BCIiwiZmlsZSI6Ii4vc3JjL3NjdWZ0L2xhbmcvVG9rZW4udHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVG9rZW4ge1xyXG4gICAgc3RyaW5nVmFsdWU6IHN0cmluZzsgLy8gc3RyaW5nIG9mIHRva2VuIGluIHdyaXR0ZW4gcHJvZ3JhbVxyXG5cclxuICAgIGxpbmU6IG51bWJlcjtcclxuICAgIGM6IG51bWJlcjsgLy8gaG9yaXpvbnRhbCBwb3ppdGlvbmFsIGFjY3Jvc3MgbGluZVxyXG5cclxuICAgIHR5cGU6IFRva2VuVHlwZTtcclxuICAgIHR5cGVOYW1lOiBzdHJpbmc7XHJcblxyXG4gICAgdmFsdWUhOiBudW1iZXIgfCBzdHJpbmc7XHJcblxyXG4gICAgc3RhdGljIGZyb21UeXBlKHR5cGU6IFRva2VuVHlwZSwgbG9jVG9rZW46IFRva2VuKTogVG9rZW4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgVG9rZW4odG9rZW5Ub1N0cih0eXBlKSwgbG9jVG9rZW4ubGluZSwgbG9jVG9rZW4uYywgdHlwZSk7XHJcbiAgICB9XHJcbiAgICBjb25zdHJ1Y3RvcihzdHJpbmdWYWx1ZTogc3RyaW5nLCBsaW5lOiBudW1iZXIsIGM6IG51bWJlciwgdHlwZTogVG9rZW5UeXBlKSB7XHJcbiAgICAgICAgdGhpcy5zdHJpbmdWYWx1ZSA9IHN0cmluZ1ZhbHVlO1xyXG5cclxuICAgICAgICB0aGlzLmxpbmUgPSBsaW5lO1xyXG4gICAgICAgIHRoaXMuYyA9IGM7XHJcblxyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy50eXBlTmFtZSA9IFRva2VuVHlwZVt0eXBlXTtcclxuICAgIH1cclxuICAgIGVxdWFscyhvdGhlcjogVG9rZW4pOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICBvdGhlci5saW5lID09PSB0aGlzLmxpbmUgJiYgb3RoZXIuYyA9PT0gdGhpcy5jICYmIHRoaXMuaXNUb2tlblR5cGVFcXVhbChvdGhlcikgJiYgb3RoZXIudmFsdWUgPT09IHRoaXMudmFsdWVcclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgaXNUb2tlblR5cGVFcXVhbChvdGhlcjogVG9rZW4pOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gb3RoZXIudHlwZSA9PT0gdGhpcy50eXBlO1xyXG4gICAgfVxyXG4gICAgLy8gUmV0dXJucyB3aGV0aGVyIHRoZSBvdGhlckFmdGVyQ3VycmVudCB0b2tlbiBpcyBhZnRlciB0aGUgY3VycmVudFxyXG4gICAgaXNUb2tlbkJlZm9yZShvdGhlckFmdGVyQ3VycmVudDogVG9rZW4pOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICB0aGlzLmxpbmUgPCBvdGhlckFmdGVyQ3VycmVudC5saW5lIHx8ICh0aGlzLmxpbmUgPT09IG90aGVyQWZ0ZXJDdXJyZW50LmxpbmUgJiYgdGhpcy5jIDwgb3RoZXJBZnRlckN1cnJlbnQuYylcclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdG9rZW5Ub1N0cih0b2tlblR5cGU6IFRva2VuVHlwZSk6IHN0cmluZyB7XHJcbiAgICBzd2l0Y2ggKHRva2VuVHlwZSkge1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLkNPTE9OX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiOlwiO1xyXG5cclxuICAgICAgICAvL0Fzc2lnbm1lbnRzXHJcbiAgICAgICAgY2FzZSBUb2tlblR5cGUuQ09OU1RfQVNTSUdOTUVOVF9US046XHJcbiAgICAgICAgICAgIHJldHVybiBcIj0+XCI7XHJcbiAgICAgICAgY2FzZSBUb2tlblR5cGUuSU1NVVRBQkxFX0FTU0lHTk1FTlRfVEtOOlxyXG4gICAgICAgICAgICByZXR1cm4gXCI9XCI7XHJcbiAgICAgICAgY2FzZSBUb2tlblR5cGUuTVVUQUJMRV9BU1NJR05NRU5UX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwifj1cIjtcclxuXHJcbiAgICAgICAgLy8gQmxvY2tzXHJcbiAgICAgICAgY2FzZSBUb2tlblR5cGUuTEVGVF9DVVJMWV9US046XHJcbiAgICAgICAgICAgIHJldHVybiBcIntcIjtcclxuICAgICAgICBjYXNlIFRva2VuVHlwZS5SSUdIVF9DVVJMWV9US046XHJcbiAgICAgICAgICAgIHJldHVybiBcIn1cIjtcclxuICAgICAgICBjYXNlIFRva2VuVHlwZS5MRUZUX1NRVUFSRV9US046XHJcbiAgICAgICAgICAgIHJldHVybiBcIltcIjtcclxuICAgICAgICBjYXNlIFRva2VuVHlwZS5SSUdIVF9TUVVBUkVfVEtOOlxyXG4gICAgICAgICAgICByZXR1cm4gXCJdXCI7XHJcbiAgICAgICAgY2FzZSBUb2tlblR5cGUuTEVGVF9QQVJFTlNfVEtOOlxyXG4gICAgICAgICAgICByZXR1cm4gXCIoXCI7XHJcbiAgICAgICAgY2FzZSBUb2tlblR5cGUuUklHSFRfUEFSRU5TX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiKVwiO1xyXG5cclxuICAgICAgICAvLyBTdGF0ZW1lbnQgS2V5d29yZHNcclxuICAgICAgICBjYXNlIFRva2VuVHlwZS5UWVBFX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwidHlwZVwiO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLk1PRFVMRV9US046XHJcbiAgICAgICAgICAgIHJldHVybiBcIm1vZHVsZVwiO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLldJVEhfVEtOOlxyXG4gICAgICAgICAgICByZXR1cm4gXCJ3aXRoXCI7XHJcbiAgICAgICAgY2FzZSBUb2tlblR5cGUuSUZfVEtOOlxyXG4gICAgICAgICAgICByZXR1cm4gXCJpZlwiO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLkVMU0VfVEtOOlxyXG4gICAgICAgICAgICByZXR1cm4gXCJlbHNlXCI7XHJcbiAgICAgICAgY2FzZSBUb2tlblR5cGUuV0hJTEVfVEtOOlxyXG4gICAgICAgICAgICByZXR1cm4gXCJ3aGlsZVwiO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLkZPUl9US046XHJcbiAgICAgICAgICAgIHJldHVybiBcImZvclwiO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLklOX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiaW5cIjtcclxuICAgICAgICBjYXNlIFRva2VuVHlwZS5CUkVBS19US046XHJcbiAgICAgICAgICAgIHJldHVybiBcImJyZWFrXCI7XHJcbiAgICAgICAgY2FzZSBUb2tlblR5cGUuQ09OVElOVUVfVEtOOlxyXG4gICAgICAgICAgICByZXR1cm4gXCJjb250aW51ZVwiO1xyXG5cclxuICAgICAgICAvLyBDb25kaXRpb25hbHNcclxuICAgICAgICBjYXNlIFRva2VuVHlwZS5DT05EX09SX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwifHxcIjtcclxuICAgICAgICBjYXNlIFRva2VuVHlwZS5DT05EX0FORF9US046XHJcbiAgICAgICAgICAgIHJldHVybiBcIiYmXCI7XHJcbiAgICAgICAgY2FzZSBUb2tlblR5cGUuQ09ORF9YT1JfVEtOOlxyXG4gICAgICAgICAgICByZXR1cm4gXCIkJFwiO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLkNPTkRfTk9UX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiIVwiO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLkNPTkRfRVFVQUxTX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiPT1cIjtcclxuICAgICAgICBjYXNlIFRva2VuVHlwZS5DT05EX05PVF9FUVVBTFNfVEtOOlxyXG4gICAgICAgICAgICByZXR1cm4gXCIhPVwiO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLkNPTkRfTEVTU19USEFOX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiPFwiO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLkNPTkRfTEVTU19USEFOX0VRVUFMX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiPD1cIjtcclxuICAgICAgICBjYXNlIFRva2VuVHlwZS5DT05EX0dSRUFURVJfVEhBTl9US046XHJcbiAgICAgICAgICAgIHJldHVybiBcIj5cIjtcclxuICAgICAgICBjYXNlIFRva2VuVHlwZS5DT05EX0dSRUFURVJfVEhBTl9FUVVBTF9US046XHJcbiAgICAgICAgICAgIHJldHVybiBcIj49XCI7XHJcbiAgICAgICAgY2FzZSBUb2tlblR5cGUuQ09ORF9UUlVFX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwidHJ1ZVwiO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLkNPTkRfRkFMU0VfVEtOOlxyXG4gICAgICAgICAgICByZXR1cm4gXCJmYWxzZVwiO1xyXG5cclxuICAgICAgICAvLyBUeXBlc1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLk1VVF9DQVNUX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwibXV0XCI7XHJcbiAgICAgICAgY2FzZSBUb2tlblR5cGUuSU1NVVRfQ0FTVF9US046XHJcbiAgICAgICAgICAgIHJldHVybiBcImltbXV0XCI7XHJcbiAgICAgICAgY2FzZSBUb2tlblR5cGUuQ09OU1RfQ0FTVF9US046XHJcbiAgICAgICAgICAgIHJldHVybiBcImNvbnN0XCI7XHJcbiAgICAgICAgY2FzZSBUb2tlblR5cGUuVk9JRF9UWVBFX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwidm9pZFwiO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLk5VTV9UWVBFX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwibnVtXCI7XHJcbiAgICAgICAgY2FzZSBUb2tlblR5cGUuU1RSSU5HX1RZUEVfVEtOOlxyXG4gICAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIjtcclxuICAgICAgICBjYXNlIFRva2VuVHlwZS5CT09MX1RZUEVfVEtOOlxyXG4gICAgICAgICAgICByZXR1cm4gXCJib29sXCI7XHJcblxyXG4gICAgICAgIC8vIEJpdHdpc2UgT3BlcmF0b3JzXHJcbiAgICAgICAgY2FzZSBUb2tlblR5cGUuQklOX09SX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwib3JcIjtcclxuICAgICAgICBjYXNlIFRva2VuVHlwZS5CSU5fQU5EX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiYW5kXCI7XHJcbiAgICAgICAgY2FzZSBUb2tlblR5cGUuQklOX1hPUl9US046XHJcbiAgICAgICAgICAgIHJldHVybiBcInhvclwiO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLkJJTl9OT1RfVEtOOlxyXG4gICAgICAgICAgICByZXR1cm4gXCJ+XCI7XHJcbiAgICAgICAgY2FzZSBUb2tlblR5cGUuQklOX1NISUZUX1JJR0hUX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiPj5cIjtcclxuICAgICAgICBjYXNlIFRva2VuVHlwZS5CSU5fU0hJRlRfQVJJVEhNRVRJQ19SSUdIVF9US046XHJcbiAgICAgICAgICAgIHJldHVybiBcIj4+PlwiO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLkJJTl9TSElGVF9MRUZUX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiPDxcIjtcclxuXHJcbiAgICAgICAgLy8gRnVuY3Rpb24gRGVmc1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLkFSUk9XX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiLT5cIjtcclxuICAgICAgICBjYXNlIFRva2VuVHlwZS5SRVRVUk5fVEtOOlxyXG4gICAgICAgICAgICByZXR1cm4gXCJyZXR1cm5cIjtcclxuXHJcbiAgICAgICAgLy8gTGFtYmRhIERlZiBhbmQgZnVuY3Rpb24gdHlwZVxyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLkJBQ0tTTEFTSF9US046XHJcbiAgICAgICAgICAgIHJldHVybiBcIlxcXFxcIjtcclxuXHJcbiAgICAgICAgLy8gT3BlcmF0b3JzXHJcbiAgICAgICAgY2FzZSBUb2tlblR5cGUuT1BfQUREX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiK1wiO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLk9QX1NVQlRSX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiLVwiO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLk9QX01VTFRfVEtOOlxyXG4gICAgICAgICAgICByZXR1cm4gXCIqXCI7XHJcbiAgICAgICAgY2FzZSBUb2tlblR5cGUuT1BfRElWSURFX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiL1wiO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLk9QX0NBUlJPVF9US046XHJcbiAgICAgICAgICAgIHJldHVybiBcIl5cIjtcclxuICAgICAgICBjYXNlIFRva2VuVHlwZS5PUF9NT0RVTFVTX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiJVwiO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLk9QX0FERF9BRERfVEtOOlxyXG4gICAgICAgICAgICByZXR1cm4gXCIrK1wiO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLk9QX0FERF9FUVVBTFNfVEtOOlxyXG4gICAgICAgICAgICByZXR1cm4gXCIrPVwiO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLk9QX1NVQlRSX1NVQlRSX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiLS1cIjtcclxuICAgICAgICBjYXNlIFRva2VuVHlwZS5PUF9TVUJUUl9FUVVBTFNfVEtOOlxyXG4gICAgICAgICAgICByZXR1cm4gXCItPVwiO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLk9QX01VTFRfRVFVQUxTX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiKj1cIjtcclxuICAgICAgICBjYXNlIFRva2VuVHlwZS5PUF9ESVZfRVFVQUxTX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiLz1cIjtcclxuXHJcbiAgICAgICAgLy8gRGlyZWN0aXZlc1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLkhBU0hfUkFOR0VfVEtOOlxyXG4gICAgICAgICAgICByZXR1cm4gXCIjcmFuZ2VcIjtcclxuXHJcbiAgICAgICAgLy8gTWlzY2VsbGFuZW91c1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLkRPVUJMRV9RVU9URV9US046XHJcbiAgICAgICAgICAgIHJldHVybiAnXCInO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLkRPVF9US046XHJcbiAgICAgICAgICAgIHJldHVybiBcIi5cIjtcclxuICAgICAgICBjYXNlIFRva2VuVHlwZS5FTExJUFNJU19US046XHJcbiAgICAgICAgICAgIHJldHVybiBcIi4uLlwiO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLlJFVkVSU0VfQVJST1dfVEtOOlxyXG4gICAgICAgICAgICByZXR1cm4gXCI8LVwiO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLkNPTU1BX1RLTjpcclxuICAgICAgICAgICAgcmV0dXJuIFwiLFwiO1xyXG4gICAgICAgIGNhc2UgVG9rZW5UeXBlLlNFTUlfQ09MT05fVEtOOlxyXG4gICAgICAgICAgICByZXR1cm4gXCI7XCI7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuIFRva2VuVHlwZVt0b2tlblR5cGVdO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZW51bSBUb2tlblR5cGUge1xyXG4gICAgSURFTlRJRklFUl9US04sXHJcbiAgICBDT0xPTl9US04sXHJcbiAgICBOVU1FUklDX0xJVEVSQUxfVEtOLFxyXG4gICAgU1RSSU5HX0xJVEVSQUxfVEtOLFxyXG5cclxuICAgIC8vQXNzaWdubWVudHNcclxuICAgIElNTVVUQUJMRV9BU1NJR05NRU5UX1RLTixcclxuICAgIENPTlNUX0FTU0lHTk1FTlRfVEtOLFxyXG4gICAgTVVUQUJMRV9BU1NJR05NRU5UX1RLTixcclxuXHJcbiAgICAvLyBCbG9ja3NcclxuICAgIExFRlRfQ1VSTFlfVEtOLFxyXG4gICAgUklHSFRfQ1VSTFlfVEtOLFxyXG4gICAgTEVGVF9TUVVBUkVfVEtOLFxyXG4gICAgUklHSFRfU1FVQVJFX1RLTixcclxuICAgIExFRlRfUEFSRU5TX1RLTixcclxuICAgIFJJR0hUX1BBUkVOU19US04sXHJcblxyXG4gICAgLy8gU3RhdGVtZW50IEtleXdvcmRzXHJcbiAgICBUWVBFX1RLTiwgLy8gcGFydGljbGUgPSB0eXBlIHt9IG9yIHR5cGVvZihwYXJ0aWNsZSkgPT0gdHlwZTtcclxuICAgIE1PRFVMRV9US04sXHJcbiAgICBXSVRIX1RLTixcclxuICAgIElGX1RLTixcclxuICAgIEVMU0VfVEtOLFxyXG4gICAgV0hJTEVfVEtOLFxyXG4gICAgRk9SX1RLTixcclxuICAgIElOX1RLTixcclxuICAgIEJSRUFLX1RLTixcclxuICAgIENPTlRJTlVFX1RLTixcclxuXHJcbiAgICAvLyBDb25kaXRpb25hbHNcclxuICAgIENPTkRfT1JfVEtOLCAvLyB8fFxyXG4gICAgQ09ORF9BTkRfVEtOLCAvLyAmJlxyXG4gICAgQ09ORF9YT1JfVEtOLCAvLyAkJFxyXG4gICAgQ09ORF9OT1RfVEtOLCAvLyAhXHJcbiAgICBDT05EX0VRVUFMU19US04sXHJcbiAgICBDT05EX05PVF9FUVVBTFNfVEtOLFxyXG4gICAgQ09ORF9MRVNTX1RIQU5fVEtOLFxyXG4gICAgQ09ORF9MRVNTX1RIQU5fRVFVQUxfVEtOLFxyXG4gICAgQ09ORF9HUkVBVEVSX1RIQU5fVEtOLFxyXG4gICAgQ09ORF9HUkVBVEVSX1RIQU5fRVFVQUxfVEtOLFxyXG4gICAgQ09ORF9UUlVFX1RLTixcclxuICAgIENPTkRfRkFMU0VfVEtOLFxyXG5cclxuICAgIC8vIFR5cGVzXHJcbiAgICBNVVRfQ0FTVF9US04sXHJcbiAgICBJTU1VVF9DQVNUX1RLTiwgLy8gRm9yIHRoZSBzYWtlIG9mIGNvbXBsZXRpb25cclxuICAgIENPTlNUX0NBU1RfVEtOLFxyXG4gICAgVk9JRF9UWVBFX1RLTixcclxuICAgIE5VTV9UWVBFX1RLTixcclxuICAgIFNUUklOR19UWVBFX1RLTixcclxuICAgIEJPT0xfVFlQRV9US04sXHJcblxyXG4gICAgLy8gQml0d2lzZSBPcGVyYXRvcnNcclxuICAgIEJJTl9PUl9US04sIC8vIG9yXHJcbiAgICBCSU5fQU5EX1RLTiwgLy8gYW5kXHJcbiAgICBCSU5fWE9SX1RLTiwgLy8geG9yXHJcbiAgICBCSU5fTk9UX1RLTiwgLy8gflxyXG4gICAgQklOX1NISUZUX1JJR0hUX1RLTiwgLy8gPj5cclxuICAgIEJJTl9TSElGVF9BUklUSE1FVElDX1JJR0hUX1RLTiwgLy8gPj4+XHJcbiAgICBCSU5fU0hJRlRfTEVGVF9US04sIC8vIDw8XHJcblxyXG4gICAgLy8gRnVuY3Rpb24gRGVmc1xyXG4gICAgQVJST1dfVEtOLCAvLyAoKSBcIi0+XCIgdm9pZFxyXG4gICAgUkVUVVJOX1RLTixcclxuXHJcbiAgICAvLyBMYW1iZGEgRGVmIGFuZCBmdW5jdGlvbiB0eXBlXHJcbiAgICBCQUNLU0xBU0hfVEtOLFxyXG5cclxuICAgIC8vIE9wZXJhdG9yc1xyXG4gICAgT1BfQUREX1RLTixcclxuICAgIE9QX1NVQlRSX1RLTixcclxuICAgIE9QX01VTFRfVEtOLFxyXG4gICAgT1BfRElWSURFX1RLTixcclxuICAgIE9QX0NBUlJPVF9US04sXHJcbiAgICBPUF9NT0RVTFVTX1RLTixcclxuICAgIE9QX0FERF9BRERfVEtOLFxyXG4gICAgT1BfQUREX0VRVUFMU19US04sXHJcbiAgICBPUF9TVUJUUl9TVUJUUl9US04sXHJcbiAgICBPUF9TVUJUUl9FUVVBTFNfVEtOLFxyXG4gICAgT1BfTVVMVF9FUVVBTFNfVEtOLFxyXG4gICAgT1BfRElWX0VRVUFMU19US04sXHJcblxyXG4gICAgLy8gRGlyZWN0aXZlc1xyXG4gICAgSEFTSF9SQU5HRV9US04sXHJcblxyXG4gICAgLy8gTWlzY2VsbGFuZW91c1xyXG4gICAgRE9VQkxFX1FVT1RFX1RLTixcclxuICAgIERPVF9US04sXHJcbiAgICBFTExJUFNJU19US04sIC8vIGZvciBbYXJyYXldIGRvU29tZXRoaW5nKC4uLilcclxuICAgIFJFVkVSU0VfQVJST1dfVEtOLCAvLyBQYXJ0aWNsZS57IHggPC0gNCwgeSA8LSAzfVxyXG4gICAgQ09NTUFfVEtOLFxyXG4gICAgU0VNSV9DT0xPTl9US04sXHJcbiAgICBVTktOT1dOX1RLTixcclxuICAgIEVORF9US04sXHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scuft/lang/Token.ts\n");

/***/ }),

/***/ "./src/scuft/lang/TypeChecker.ts":
/*!***************************************!*\
  !*** ./src/scuft/lang/TypeChecker.ts ***!
  \***************************************/
/*! namespace exports */
/*! export default [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => /* binding */ TypeChecker\n/* harmony export */ });\n/* harmony import */ var _Ast__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Ast */ \"./src/scuft/lang/Ast.ts\");\n/* harmony import */ var _ErrorHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ErrorHandler */ \"./src/scuft/lang/ErrorHandler.ts\");\n/* harmony import */ var _Scope__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Scope */ \"./src/scuft/lang/Scope.ts\");\n/* harmony import */ var _Token__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Token */ \"./src/scuft/lang/Token.ts\");\n\r\n\r\n\r\n\r\nclass TypeChecker {\r\n    constructor(errHandler) {\r\n        this.typeOfNameStack = [];\r\n        this.typeCheckTypeConstructStack = [];\r\n        this.err = _ErrorHandler__WEBPACK_IMPORTED_MODULE_1__.ErrorHandler.fromHandler(\"----TypeChecker----\\n\", errHandler);\r\n    }\r\n    castAccess(typeExpr, accessCast) {\r\n        if (accessCast === _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.IMMUT_CAST_TKN) {\r\n            if (typeExpr.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.ACCESS_CAST) {\r\n                return typeExpr.castedType;\r\n            }\r\n            else {\r\n                return typeExpr;\r\n            }\r\n        }\r\n        let cast = new _Ast__WEBPACK_IMPORTED_MODULE_0__.ASTAccessCast(typeExpr.locToken);\r\n        cast.accessType = accessCast;\r\n        cast.castedType = typeExpr;\r\n        return this.resolveAccessCast(cast);\r\n    }\r\n    checkAccessCast(typeExpr, accessCast) {\r\n        if (typeExpr.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.ACCESS_CAST) {\r\n            return accessCast === typeExpr.accessType;\r\n        }\r\n        else {\r\n            return accessCast === _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.IMMUT_CAST_TKN;\r\n        }\r\n    }\r\n    resolveAccessCast(accessCast) {\r\n        if (accessCast.castedType.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.ACCESS_CAST) {\r\n            let isInMut = accessCast.castedType.accessType === _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.MUT_CAST_TKN;\r\n            if (accessCast.accessType === _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.MUT_CAST_TKN) {\r\n                if (isInMut) {\r\n                }\r\n                else {\r\n                    this.err.atNode_PANIC(\"Can't cast const type to mutable\", accessCast);\r\n                }\r\n            }\r\n            else {\r\n                if (isInMut) {\r\n                }\r\n                else {\r\n                }\r\n            }\r\n            accessCast.castedType = accessCast.castedType.castedType;\r\n        }\r\n        return accessCast;\r\n    }\r\n    isTypeEqual(t0, t1, scope) {\r\n        if (!t0.resolved)\r\n            this.resolveConstExpression(t0, scope);\r\n        if (!t1.resolved)\r\n            this.resolveConstExpression(t1, scope);\r\n        t1 = t1.resolved;\r\n        t0 = t0.resolved;\r\n        if (t0.nodeName !== t1.nodeName)\r\n            return false;\r\n        switch (t0.nodeName) {\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.ACCESS_CAST:\r\n                let accessCast0 = t0;\r\n                let accessCast1 = t1;\r\n                if (accessCast0.accessType !== accessCast1.accessType)\r\n                    return false;\r\n                return this.isTypeEqual(accessCast0.castedType, accessCast1.castedType, scope);\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.TYPE_LITERAL:\r\n                let typeLit0 = t0;\r\n                let typeLit1 = t1;\r\n                return typeLit0.type === typeLit1.type;\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.FUNCTION_TYPE:\r\n                let func0 = t0;\r\n                let func1 = t1;\r\n                if (!this.isTypeEqual(func0.outType, func1.outType, scope))\r\n                    return false;\r\n                for (let i = 0; i < func0.inputType.length; i++) {\r\n                    if (!this.isTypeEqual(func0.inputType[i], func1.inputType[i], scope))\r\n                        return false;\r\n                }\r\n                return true;\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.TYPE_DEF:\r\n                let typeDef0 = t0;\r\n                let typeDef1 = t1;\r\n                return typeDef0.locToken.equals(typeDef1.locToken);\r\n            default:\r\n                throw \"Expression is not a pure type and can't be used in isTypeEqual\";\r\n        }\r\n    }\r\n    isEqualToUncastedType(typeExpr, typeLiteral) {\r\n        if (typeExpr.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.ACCESS_CAST) {\r\n            return this.isEqualToUncastedType(typeExpr.castedType, typeLiteral);\r\n        }\r\n        if (typeExpr.nodeName !== _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.TYPE_LITERAL)\r\n            return false;\r\n        return typeExpr.type === typeLiteral;\r\n    }\r\n    resolveTypeExpression(expr, scope) {\r\n        this.resolveConstExpression(expr, scope);\r\n        if (!this.isLooseType(expr.resolved)) {\r\n            this.err.atWholeNode_PANIC(\"Expression expected to be a type but got \" + _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(expr.resolved) + \" instead\", expr);\r\n        }\r\n    }\r\n    isLooseType(expr) {\r\n        switch (expr.nodeName) {\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.ACCESS_CAST:\r\n                let accessCast = expr;\r\n                return this.isLooseType(accessCast.castedType);\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.TYPE_LITERAL:\r\n                return true;\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.FUNCTION_TYPE:\r\n                let funcType = expr;\r\n                for (let i = 0; i < funcType.inputType.length; i++) {\r\n                    if (!this.isLooseType(funcType.inputType[i]))\r\n                        return false;\r\n                }\r\n                return this.isLooseType(funcType.outType);\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.TYPE_DEF:\r\n                return true;\r\n            default:\r\n                console.log(expr);\r\n                return false;\r\n        }\r\n    }\r\n    resolveConstExpression(expr, scope) {\r\n        this.recurseResConstExpression(expr, expr, scope);\r\n    }\r\n    recurseResConstExpression(expr, sourceExpr, scope) {\r\n        if (expr.resolved)\r\n            return;\r\n        switch (expr.nodeName) {\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.ACCESS_CAST:\r\n                let accessCast = this.resolveAccessCast(expr);\r\n                this.resolveTypeExpression(accessCast.castedType, scope);\r\n                expr.resolved = accessCast;\r\n                break;\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.TYPE_LITERAL:\r\n                expr.resolved = expr;\r\n                break;\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.FUNCTION_TYPE:\r\n                let astFuncType = expr;\r\n                for (let i = 0; i < astFuncType.inputType.length; i++) {\r\n                    this.resolveTypeExpression(astFuncType.inputType[i], scope);\r\n                }\r\n                this.resolveTypeExpression(astFuncType.outType, scope);\r\n                expr.resolved = expr;\r\n                break;\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.TYPE_DEF:\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.MODULE:\r\n                expr.resolved = expr;\r\n                break;\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.FUNCTION:\r\n                let astFunc = expr;\r\n                this.assertPureFunction(astFunc, astFunc);\r\n                expr.resolved = expr;\r\n                break;\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.NAME:\r\n                let astName = expr;\r\n                let nameDecl = this.searchDeclarationName(astName, scope);\r\n                if (nameDecl) {\r\n                    if (!nameDecl.accessAssignment ||\r\n                        nameDecl.accessAssignment.type !== _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.CONST_ASSIGNMENT_TKN) {\r\n                        this.err\r\n                            .atWholeNode(\"Only constant expressions can be used to define other constant expressions\", sourceExpr)\r\n                            .atNode_PANIC(\"This declaration was expected to be constant\", nameDecl);\r\n                    }\r\n                    this.recurseResConstExpression(nameDecl.rvalue, sourceExpr, scope);\r\n                    expr.resolved = nameDecl.rvalue.resolved;\r\n                    break;\r\n                }\r\n                else {\r\n                    this.err.atNode_PANIC(\"Couldn't find constant variable '\" + _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(astName) + \"'\", astName);\r\n                }\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.DOT_OP:\r\n                let refDot = expr;\r\n                this.recurseResConstExpression(refDot.rootValue, sourceExpr, scope);\r\n                let rootDec;\r\n                let accessScope;\r\n                if (refDot.rootValue.resolved.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.MODULE) {\r\n                    let mod = refDot.rootValue.resolved;\r\n                    rootDec = mod.moduleDecRef;\r\n                    accessScope = mod.scope;\r\n                }\r\n                else if (refDot.rootValue.resolved.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.TYPE_DEF) {\r\n                    let typeDef = refDot.rootValue.resolved;\r\n                    rootDec = typeDef.typeDecRef;\r\n                    accessScope = typeDef.scope;\r\n                }\r\n                else if (refDot.rootValue.resolved.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.TYPE_CONSTRUCT) {\r\n                    let typeConstruct = refDot.rootValue.resolved;\r\n                    let typeDef = typeConstruct.typeRef.resolved;\r\n                    let typePropDec = typeDef.scope.table.get(refDot.memberValue.refName);\r\n                    if (typePropDec) {\r\n                        let propValue = typePropDec.rvalue;\r\n                        if (!propValue) {\r\n                            for (let i = 0; i < typeConstruct.assignments.length; i++) {\r\n                                if (typeConstruct.assignments[i].lvalue.refName ===\r\n                                    typePropDec.lvalue.refName) {\r\n                                    propValue = typeConstruct.assignments[i].rvalue;\r\n                                    break;\r\n                                }\r\n                            }\r\n                            if (!propValue) {\r\n                                this.err\r\n                                    .atWholeNode(\"Const expression can't reference an uninitialized property\", refDot)\r\n                                    .atWholeNode(\"Property \" +\r\n                                    _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(refDot.memberValue) +\r\n                                    \" is not initialized in the type definition\", typePropDec)\r\n                                    .atWholeNode_PANIC(\"...nor is it initialized in the const type construction\", typeConstruct.resolved);\r\n                            }\r\n                        }\r\n                        this.recurseResConstExpression(propValue, sourceExpr, scope);\r\n                        expr.resolved = propValue.resolved;\r\n                        break;\r\n                    }\r\n                    else {\r\n                        this.err.atWholeNode_PANIC(\"Property \" +\r\n                            _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(refDot.memberValue) +\r\n                            \" not found in \" +\r\n                            _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(refDot.rootValue), refDot);\r\n                    }\r\n                }\r\n                else {\r\n                    this.err.atWholeNode_PANIC(_Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(refDot.rootValue) +\r\n                        \" has no properties which can be accessed because it has the type \" +\r\n                        _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(this.typeOfExpression(refDot.rootValue.resolved, scope)), refDot.rootValue);\r\n                }\r\n                let refDecl = accessScope.table.get(refDot.memberValue.refName);\r\n                if (refDecl) {\r\n                    if (!refDecl.rvalue ||\r\n                        !refDecl.accessAssignment ||\r\n                        refDecl.accessAssignment.type !== _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.CONST_ASSIGNMENT_TKN) {\r\n                        this.err\r\n                            .atWholeNode(\"Constant expression is attempting to access non-constant values\", refDot)\r\n                            .atWholeNode(\"In \" + _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(rootDec.lvalue) + \"...\", refDot.rootValue.resolved)\r\n                            .atWholeNode_PANIC(\"Attempted to access \" + _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(refDot.memberValue) + \" which is not constant\", refDecl);\r\n                    }\r\n                    this.recurseResConstExpression(refDecl.rvalue, sourceExpr, scope);\r\n                    expr.resolved = refDecl.rvalue.resolved;\r\n                    break;\r\n                }\r\n                else {\r\n                    this.err.atWholeNode_PANIC(\"Property \" +\r\n                        _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(refDot.memberValue) +\r\n                        \" not found in \" +\r\n                        _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(refDot.rootValue), refDot);\r\n                }\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.TYPE_CONSTRUCT:\r\n                let astConstruct = expr;\r\n                this.recurseResConstExpression(astConstruct.typeRef, sourceExpr, scope);\r\n                if (astConstruct.typeRef.resolved.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.TYPE_LITERAL) {\r\n                    this.err.atWholeNode_PANIC(\"Can't construct a \" +\r\n                        _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(astConstruct.typeRef.resolved) +\r\n                        \" using a type constructor\", astConstruct.typeRef);\r\n                }\r\n                if (astConstruct.typeRef.resolved.nodeName !== _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.TYPE_DEF) {\r\n                    this.err.atWholeNode_PANIC(\"Can't construct type for unknown type '\" + _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(astConstruct.typeRef.resolved) + \"'\", astConstruct.typeRef);\r\n                }\r\n                for (let i = 0; i < astConstruct.assignments.length; i++) {\r\n                    this.recurseResConstExpression(astConstruct.assignments[i].rvalue, sourceExpr, scope);\r\n                }\r\n                expr.resolved = expr;\r\n                break;\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.CALL:\r\n                throw \"Unimplemented constant resolution of call: Requires evaluation stuff\";\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.LITERAL:\r\n                expr.resolved = expr;\r\n                break;\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.BINARY_OP:\r\n                let astBinOp = expr;\r\n                this.recurseResConstExpression(astBinOp.lvalue, sourceExpr, scope);\r\n                this.recurseResConstExpression(astBinOp.rvalue, sourceExpr, scope);\r\n                expr.resolved = expr;\r\n                break;\r\n            default:\r\n                this.err.atWholeNode_PANIC(\"Expected a constant but got \" + _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(expr) + \" instead\", expr);\r\n        }\r\n    }\r\n    assertPureFunction(func, srcFunc) {\r\n        this.assertPureBlock(func.block, srcFunc);\r\n    }\r\n    assertPureBlock(block, srcFunc) {\r\n        let statements = block.statements;\r\n        for (let i = 0; i < statements.length; i++) {\r\n            switch (statements[i].nodeName) {\r\n                case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.IF:\r\n                    this.assertPureIf(statements[i], srcFunc);\r\n                    break;\r\n                case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.WHILE:\r\n                    let astWhile = statements[i];\r\n                    this.assertExprInPureFunc(astWhile.condition, block.scope, srcFunc);\r\n                    this.assertPureBlock(astWhile.block, srcFunc);\r\n                    break;\r\n                case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.BREAK:\r\n                case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.CONTINUE:\r\n                    break;\r\n                case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.RETURN:\r\n                    let astRet = statements[i];\r\n                    this.assertExprInPureFunc(astRet.returnValue, block.scope, srcFunc);\r\n                    break;\r\n                case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.DECLARATION:\r\n                    let astDecl = statements[i];\r\n                    let ldeclCompare = this.searchDeclarationName(astDecl.lvalue, srcFunc.block.scope);\r\n                    if (ldeclCompare) {\r\n                        if (ldeclCompare.inScope.scopeID < srcFunc.block.scope.scopeID) {\r\n                            this.err\r\n                                .atNode(\"Error in pure function\", srcFunc)\r\n                                .atNode(\"Can't assign a value to a variable outside of a pure function's scope\", statements[i])\r\n                                .atNode_PANIC(\"Outside declaration found here\", ldeclCompare);\r\n                        }\r\n                    }\r\n                    if (astDecl.rvalue && astDecl.rvalue.nodeName !== _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.FUNCTION) {\r\n                        this.assertExprInPureFunc(astDecl.rvalue, astDecl.inScope, srcFunc);\r\n                    }\r\n                    break;\r\n                default:\r\n                    throw _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType[statements[i].nodeName] + \" constant checking not implemented yet\";\r\n            }\r\n        }\r\n        return block;\r\n    }\r\n    assertPureIf(iff, srcFunc) {\r\n        this.assertExprInPureFunc(iff.condition, iff.consequence.scope.parent, srcFunc);\r\n        this.assertPureBlock(iff.consequence, srcFunc);\r\n        if (iff.alternative) {\r\n            if (iff.alternative.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.BLOCK) {\r\n                this.assertPureBlock(iff.alternative, srcFunc);\r\n            }\r\n            else {\r\n                this.assertPureIf(iff.alternative, srcFunc);\r\n            }\r\n        }\r\n    }\r\n    assertExprInPureFunc(expr, exprScope, srcFunc) {\r\n        switch (expr.nodeName) {\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.NAME:\r\n                let name = expr;\r\n                let nameDecl = this.searchDeclarationName(name, exprScope);\r\n                if (nameDecl) {\r\n                    if (nameDecl.inScope.scopeID < srcFunc.block.scope.scopeID) {\r\n                        if (nameDecl.accessAssignment.type !== _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.CONST_ASSIGNMENT_TKN) {\r\n                            this.err\r\n                                .atNode(\"Error in pure function\", srcFunc)\r\n                                .atNode(\"Can't assign a value to a variable outside of a pure function's scope\", expr)\r\n                                .atNode_PANIC(\"Outside declaration found here\", nameDecl);\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.TYPE_CONSTRUCT:\r\n                throw \"Unimplemented purity check for type constructors\";\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.CALL:\r\n                let funcCall = expr;\r\n                let funcRef = funcCall.functionNameRef;\r\n                throw \"Unimplemented purity check for function calls\";\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.LITERAL:\r\n                break;\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.BINARY_OP:\r\n                let binOp = expr;\r\n                this.assertExprInPureFunc(binOp.lvalue, exprScope, srcFunc);\r\n                this.assertExprInPureFunc(binOp.rvalue, exprScope, srcFunc);\r\n                break;\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.UNARY_OP:\r\n                this.assertExprInPureFunc(expr.value, exprScope, srcFunc);\r\n                break;\r\n            default:\r\n                throw _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(expr) + \" not implemented yet (assertExprInPureFunc)\";\r\n        }\r\n    }\r\n    typeOfExpression(expr, scope) {\r\n        switch (expr.nodeName) {\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.TYPE_LITERAL:\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.FUNCTION_TYPE:\r\n                let funcTypeLitType = new _Ast__WEBPACK_IMPORTED_MODULE_0__.ASTTypeLiteral(expr.locToken);\r\n                funcTypeLitType.type = _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.TYPE_TKN;\r\n                return funcTypeLitType;\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.MODULE:\r\n                this.typeCheckModule(expr);\r\n                let modType = new _Ast__WEBPACK_IMPORTED_MODULE_0__.ASTTypeLiteral(expr.locToken);\r\n                modType.type = _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.MODULE_TKN;\r\n                return modType;\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.TYPE_DEF:\r\n                this.typeCheckTypeDefinition(expr);\r\n                let typeDefType = new _Ast__WEBPACK_IMPORTED_MODULE_0__.ASTTypeLiteral(expr.locToken);\r\n                typeDefType.type = _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.TYPE_TKN;\r\n                return typeDefType;\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.FUNCTION:\r\n                let astFunc = expr;\r\n                this.typeCheckFunction(astFunc);\r\n                let funcType = new _Ast__WEBPACK_IMPORTED_MODULE_0__.ASTFunctionType(astFunc.locToken);\r\n                funcType.inputType = [];\r\n                for (let i = 0; i < astFunc.paramDeclaration.length; i++) {\r\n                    funcType.inputType.push(astFunc.paramDeclaration[i].type.resolved);\r\n                }\r\n                if (astFunc.returnType) {\r\n                    this.resolveConstExpression(astFunc.returnType, scope);\r\n                    funcType.outType = astFunc.returnType.resolved;\r\n                }\r\n                else {\r\n                    funcType.outType = new _Ast__WEBPACK_IMPORTED_MODULE_0__.ASTTypeLiteral(funcType.locToken);\r\n                    funcType.outType.type = _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.VOID_TYPE_TKN;\r\n                }\r\n                return funcType;\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.NAME:\r\n                return this.typeOfName(expr, scope);\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.DOT_OP:\r\n                throw \"Cry... ;-; (Dot operator not yet implemented)\";\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.CALL:\r\n                throw \"Unimplemented type of for call\";\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.TYPE_CONSTRUCT:\r\n                let astTypeCons = expr;\r\n                this.typeCheckTypeConstruction(astTypeCons, scope);\r\n                return this.castAccess(astTypeCons.typeRef.resolved, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.MUT_CAST_TKN);\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.LITERAL:\r\n                let astLiteral = expr;\r\n                let astLitNewTypeLit = new _Ast__WEBPACK_IMPORTED_MODULE_0__.ASTTypeLiteral(expr.locToken);\r\n                switch (astLiteral.value.type) {\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.NUMERIC_LITERAL_TKN:\r\n                        astLitNewTypeLit.type = _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.NUM_TYPE_TKN;\r\n                        break;\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.STRING_LITERAL_TKN:\r\n                        astLitNewTypeLit.type = _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.STRING_TYPE_TKN;\r\n                        break;\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.COND_TRUE_TKN:\r\n                    case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.COND_FALSE_TKN:\r\n                        astLitNewTypeLit.type = _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.BOOL_TYPE_TKN;\r\n                        break;\r\n                    default:\r\n                        throw \"The ASTLiteral does not contain a literal token\";\r\n                }\r\n                return this.castAccess(astLitNewTypeLit, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.MUT_CAST_TKN);\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.UNARY_OP:\r\n                let astUnary = expr;\r\n                let unaryOp = astUnary.operation.type;\r\n                let innerType = this.typeOfExpression(astUnary.value, scope);\r\n                if (unaryOp == _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.BIN_NOT_TKN) {\r\n                    if (this.isEqualToUncastedType(innerType, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.NUM_TYPE_TKN)) {\r\n                        let typeLiteral = new _Ast__WEBPACK_IMPORTED_MODULE_0__.ASTTypeLiteral(expr.locToken);\r\n                        typeLiteral.type = _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.NUM_TYPE_TKN;\r\n                        return typeLiteral;\r\n                    }\r\n                    throw \"operator is acting on not an integer\";\r\n                }\r\n                else if (unaryOp == _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.COND_NOT_TKN) {\r\n                    if (this.isEqualToUncastedType(innerType, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.BOOL_TYPE_TKN)) {\r\n                        let typeLiteral = new _Ast__WEBPACK_IMPORTED_MODULE_0__.ASTTypeLiteral(expr.locToken);\r\n                        typeLiteral.type = _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.BOOL_TYPE_TKN;\r\n                        return typeLiteral;\r\n                    }\r\n                    throw \"operator is acting on not a boolean\";\r\n                }\r\n                else {\r\n                    throw \"operator doesn't exist\";\r\n                }\r\n            case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.BINARY_OP:\r\n                return this.typeOfBinaryOperator(expr, scope);\r\n            default:\r\n                throw \"You done fucked up\";\r\n        }\r\n    }\r\n    typeOfName(exprName, scope) {\r\n        let nameDecl = this.searchDeclarationName(exprName, scope);\r\n        if (!nameDecl) {\r\n            this.err.atNode(\"Couldn't find variable with name '\" + exprName.refName + \"'\", exprName);\r\n            if (scope.getEnclosingScope(_Scope__WEBPACK_IMPORTED_MODULE_2__.ScopeType.MODULE_SCOPE)) {\r\n                this.err.addNote_PANIC(\"Modules can only access constant variables outside of their scope\");\r\n            }\r\n            if (scope.getEnclosingScope(_Scope__WEBPACK_IMPORTED_MODULE_2__.ScopeType.TYPE_SCOPE)) {\r\n                this.err.addNote_PANIC(\"Type definitions can only access constant variables outside of their scope\");\r\n            }\r\n            this.err.panic();\r\n        }\r\n        if (nameDecl.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.FUNCTION)\r\n            throw \"Functions aren't implemented here yet...\";\r\n        if (!nameDecl.inScope.isUnordered() &&\r\n            nameDecl.accessAssignment.type !== _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.CONST_ASSIGNMENT_TKN &&\r\n            exprName.locToken.isTokenBefore(nameDecl.locToken)) {\r\n            this.err\r\n                .atWholeToken(\"Variable is used before it is declared\", exprName.locToken)\r\n                .atNode(\"Declaration for the variable found here\", nameDecl)\r\n                .addNote_PANIC(\"Forward referencing for immutable and mutable variables is not allowed in block scopes (if, while, for, etc.)\");\r\n        }\r\n        for (let i = this.typeOfNameStack.length - 1; i >= 0; i--) {\r\n            if (exprName.locToken.equals(this.typeOfNameStack[i].locToken)) {\r\n                this.err.atNode(\"Cyclic dependency found when type checking the following\", exprName);\r\n                for (let j = i + 1; j < this.typeOfNameStack.length; j++) {\r\n                    this.err.atNode(\"...which led to type checking the following\", this.typeOfNameStack[j]);\r\n                }\r\n                this.err.panic();\r\n            }\r\n        }\r\n        this.typeOfNameStack.push(exprName);\r\n        this.typeCheckDeclaration(nameDecl);\r\n        this.typeOfNameStack = [];\r\n        if (!this.checkAccessCast(nameDecl.type.resolved, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.MUT_CAST_TKN)) {\r\n            let resolvedType = nameDecl.type.resolved;\r\n            if (resolvedType.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.ACCESS_CAST) {\r\n                resolvedType = resolvedType.castedType;\r\n            }\r\n            if (resolvedType.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.TYPE_LITERAL ||\r\n                resolvedType.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.FUNCTION_TYPE) {\r\n                return this.castAccess(resolvedType, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.MUT_CAST_TKN);\r\n            }\r\n        }\r\n        return nameDecl.type.resolved;\r\n    }\r\n    typeOfBinaryOperator(binaryOp, scope) {\r\n        let lType = this.typeOfExpression(binaryOp.lvalue, scope);\r\n        let rType = this.typeOfExpression(binaryOp.rvalue, scope);\r\n        switch (binaryOp.operation.type) {\r\n            case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.COND_OR_TKN:\r\n            case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.COND_AND_TKN:\r\n            case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.COND_XOR_TKN:\r\n            case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.COND_EQUALS_TKN:\r\n            case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.COND_NOT_EQUALS_TKN:\r\n            case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.COND_LESS_THAN_TKN:\r\n            case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.COND_LESS_THAN_EQUAL_TKN:\r\n            case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.COND_GREATER_THAN_TKN:\r\n            case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.COND_GREATER_THAN_EQUAL_TKN:\r\n                if (this.isEqualToUncastedType(lType, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.BOOL_TYPE_TKN)) {\r\n                    if (this.isEqualToUncastedType(rType, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.BOOL_TYPE_TKN)) {\r\n                        let typeLit = new _Ast__WEBPACK_IMPORTED_MODULE_0__.ASTTypeLiteral(binaryOp.locToken);\r\n                        typeLit.type = _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.BOOL_TYPE_TKN;\r\n                        return this.castAccess(typeLit, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.MUT_CAST_TKN);\r\n                    }\r\n                    else {\r\n                        this.err\r\n                            .atWholeNode(\"Error while type checking operator\", binaryOp)\r\n                            .atWholeNode(\"Right hand side of operator expected to be of type bool but got \" +\r\n                            _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(rType) +\r\n                            \" instead\", binaryOp.rvalue)\r\n                            .addNote_PANIC(\"No other matching operator overloads\");\r\n                    }\r\n                }\r\n                else {\r\n                    this.err\r\n                        .atWholeNode(\"Error while type checking operator\", binaryOp)\r\n                        .atWholeNode(\"Left hand side of operator expected to be of type bool but got \" +\r\n                        _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(lType) +\r\n                        \" instead\", binaryOp.lvalue)\r\n                        .addNote_PANIC(\"No other matching operator overloads\");\r\n                }\r\n            case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.BIN_OR_TKN:\r\n            case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.BIN_AND_TKN:\r\n            case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.BIN_XOR_TKN:\r\n            case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.BIN_SHIFT_RIGHT_TKN:\r\n            case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.BIN_SHIFT_ARITHMETIC_RIGHT_TKN:\r\n            case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.BIN_SHIFT_LEFT_TKN:\r\n            case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.OP_ADD_TKN:\r\n            case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.OP_SUBTR_TKN:\r\n            case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.OP_MULT_TKN:\r\n            case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.OP_DIVIDE_TKN:\r\n            case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.OP_CARROT_TKN:\r\n            case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.OP_MODULUS_TKN:\r\n            case _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.OP_SUBTR_TKN:\r\n                if (this.isEqualToUncastedType(lType, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.NUM_TYPE_TKN)) {\r\n                    if (this.isEqualToUncastedType(rType, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.NUM_TYPE_TKN)) {\r\n                        let typeLit = new _Ast__WEBPACK_IMPORTED_MODULE_0__.ASTTypeLiteral(binaryOp.locToken);\r\n                        typeLit.type = _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.NUM_TYPE_TKN;\r\n                        return this.castAccess(typeLit, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.MUT_CAST_TKN);\r\n                    }\r\n                    else {\r\n                        this.err\r\n                            .atWholeNode(\"Error while type checking operator\", binaryOp)\r\n                            .atWholeNode(\"Right hand side of operator expected to be of type num but got \" +\r\n                            _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(rType) +\r\n                            \" instead\", binaryOp.rvalue)\r\n                            .addNote_PANIC(\"No other matching operator overloads\");\r\n                    }\r\n                }\r\n                else {\r\n                    this.err\r\n                        .atWholeNode(\"Error while type checking operator\", binaryOp)\r\n                        .atWholeNode(\"Left hand side of operator expected to be of type num but got \" +\r\n                        _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(lType) +\r\n                        \" instead\", binaryOp.lvalue)\r\n                        .addNote_PANIC(\"No other matching operator overloads\");\r\n                }\r\n            default:\r\n                throw \"Unknown binary operator\";\r\n        }\r\n    }\r\n    searchDeclarationName(name, scope) {\r\n        if (!scope)\r\n            return undefined;\r\n        let outerDecl = this.searchDeclarationName(name, scope.parent);\r\n        let decl = scope.table.get(name.refName);\r\n        if (!outerDecl)\r\n            return decl;\r\n        if (scope.scopeType === _Scope__WEBPACK_IMPORTED_MODULE_2__.ScopeType.MODULE_SCOPE || scope.scopeType === _Scope__WEBPACK_IMPORTED_MODULE_2__.ScopeType.TYPE_SCOPE) {\r\n            if (!outerDecl.accessAssignment || outerDecl.accessAssignment.type !== _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.CONST_ASSIGNMENT_TKN) {\r\n                return undefined;\r\n            }\r\n        }\r\n        if (!decl)\r\n            return outerDecl;\r\n        if (outerDecl.inScope.isUnordered() || outerDecl.locToken.isTokenBefore(decl.locToken)) {\r\n            return outerDecl;\r\n        }\r\n        else {\r\n            return decl;\r\n        }\r\n    }\r\n    typeCheckProgram(prgm) {\r\n        for (let i = 0; i < prgm.declarations.length; i++) {\r\n            this.typeCheckDeclaration(prgm.declarations[i]);\r\n        }\r\n    }\r\n    typeCheckBlock(block, expectedReturnType) {\r\n        for (let i = 0; i < block.withModules.length; i++) {\r\n        }\r\n        for (let i = 0; i < block.statements.length; i++) {\r\n            let statement = block.statements[i];\r\n            switch (statement.nodeName) {\r\n                case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.IF:\r\n                    this.typeCheckIf(statement, expectedReturnType, block.scope);\r\n                    break;\r\n                case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.WHILE:\r\n                    let astWhile = statement;\r\n                    let whileCondition = this.typeOfExpression(astWhile.condition, block.scope);\r\n                    if (!this.isEqualToUncastedType(whileCondition, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.BOOL_TYPE_TKN)) {\r\n                        this.err.atNode_PANIC(\"While statement condition expected to be a boolean but found \" +\r\n                            _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(whileCondition) +\r\n                            \" instead\", astWhile.condition);\r\n                    }\r\n                    this.typeCheckBlock(astWhile.block, expectedReturnType);\r\n                    break;\r\n                case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.FOR:\r\n                    let astFor = statement;\r\n                    if (!astFor.itemParamDec && !astFor.indexParamDec) {\r\n                        throw \"Either index or item must be defined \";\r\n                    }\r\n                    throw \"unimplemented for loop condition\";\r\n                case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.BREAK:\r\n                case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.CONTINUE:\r\n                    break;\r\n                case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.RETURN:\r\n                    let astReturn = statement;\r\n                    if (expectedReturnType) {\r\n                        if (!astReturn.returnValue) {\r\n                            this.err\r\n                                .atWholeNode(\"Enclosing function has return type of \" + _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(expectedReturnType), expectedReturnType)\r\n                                .atNode_PANIC(\"Return statement expected to return an expression but instead got nothing\", astReturn);\r\n                        }\r\n                        let returnValType = this.typeOfExpression(astReturn.returnValue, block.scope);\r\n                        if (this.checkAccessCast(expectedReturnType, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.CONST_CAST_TKN)) {\r\n                            this.resolveConstExpression(returnValType, block.scope);\r\n                            returnValType = this.castAccess(returnValType.resolved, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.CONST_CAST_TKN);\r\n                        }\r\n                        else if (this.checkAccessCast(expectedReturnType, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.IMMUT_CAST_TKN)) {\r\n                            returnValType = this.castAccess(returnValType, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.IMMUT_CAST_TKN);\r\n                        }\r\n                        else if (this.checkAccessCast(expectedReturnType, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.MUT_CAST_TKN)) {\r\n                            if (this.checkAccessCast(returnValType, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.CONST_CAST_TKN)) {\r\n                                this.err\r\n                                    .atWholeNode(\"Return type of function is of type \" + _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(expectedReturnType), expectedReturnType)\r\n                                    .atWholeNode(\"Const reference to a type instance can't be casted to a mutable type\", astReturn.returnValue)\r\n                                    .addNote_PANIC(\"Casting the reference to a mutable type would enable modification of the original const variable\");\r\n                            }\r\n                            if (this.checkAccessCast(returnValType, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.IMMUT_CAST_TKN)) {\r\n                                this.err\r\n                                    .atWholeNode(\"Return type of function is of type \" + _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(expectedReturnType), expectedReturnType)\r\n                                    .atWholeNode(\"Immutable reference to a type instance can't be casted to a mutable type\", astReturn.returnValue)\r\n                                    .addNote_PANIC(\"Casting the reference to a mutable type would enable modification of the original immutable variable\");\r\n                            }\r\n                            returnValType = this.castAccess(returnValType, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.MUT_CAST_TKN);\r\n                        }\r\n                        if (!this.isTypeEqual(expectedReturnType, returnValType, block.scope)) {\r\n                            this.err\r\n                                .atWholeNode(\"Mismatch between function return type and return statement expression with type \" +\r\n                                _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(returnValType), returnValType)\r\n                                .atWholeNode_PANIC(\"Function return type expected to be \" + _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(expectedReturnType), expectedReturnType);\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (astReturn.returnValue) {\r\n                            this.err.atWholeNode_PANIC(\"Function has implicit return type of void. Expected to return with no expression but found the following\", astReturn.returnValue);\r\n                        }\r\n                    }\r\n                    break;\r\n                case _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.DECLARATION:\r\n                    this.typeCheckDeclaration(statement);\r\n                    break;\r\n                default:\r\n                    throw \"Unimplemented type checking in block\";\r\n            }\r\n        }\r\n    }\r\n    typeCheckIf(iff, expectedReturnType, scope) {\r\n        let ifConditionType = this.typeOfExpression(iff.condition, scope);\r\n        if (this.isEqualToUncastedType(ifConditionType, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.BOOL_TYPE_TKN)) {\r\n            if (iff.consequence)\r\n                this.typeCheckBlock(iff.consequence, expectedReturnType);\r\n            if (iff.alternative) {\r\n                if (iff.alternative.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.BLOCK) {\r\n                    this.typeCheckBlock(iff.alternative, expectedReturnType);\r\n                }\r\n                else {\r\n                    this.typeCheckIf(iff.alternative, expectedReturnType, scope);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.err.atNode_PANIC(\"If statement conditional must be a boolean. Instead found \" + _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(ifConditionType), iff.condition);\r\n        }\r\n    }\r\n    typeCheckDeclaration(decl) {\r\n        if (decl.hasTypeChecked)\r\n            return;\r\n        if (decl.type)\r\n            this.resolveTypeExpression(decl.type, decl.inScope);\r\n        if (decl.rvalue) {\r\n            if (decl.rvalue.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.MODULE) {\r\n                if (decl.lvalue.nodeName !== _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.NAME) {\r\n                    this.err.atNode_PANIC(\"Module declaration must declare a new single variable name\", decl);\r\n                }\r\n                if (decl.accessAssignment.type !== _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.CONST_ASSIGNMENT_TKN) {\r\n                    this.err.atToken_PANIC(\"Module declarations must be constant: \" + _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(decl.lvalue) + \" => module {...}\", decl.accessAssignment);\r\n                }\r\n            }\r\n            if (decl.rvalue.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.TYPE_DEF) {\r\n                if (decl.lvalue.nodeName !== _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.NAME) {\r\n                    this.err.atNode_PANIC(\"Type definition must declare a new single variable name\", decl);\r\n                }\r\n                if (decl.accessAssignment.type !== _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.CONST_ASSIGNMENT_TKN) {\r\n                    this.err.atToken_PANIC(\"Type definitions must be constant: \" + _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(decl.lvalue) + \" => type {...}\", decl.accessAssignment);\r\n                }\r\n            }\r\n            let expressionType;\r\n            if (decl.accessAssignment.type === _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.CONST_ASSIGNMENT_TKN) {\r\n                this.resolveConstExpression(decl.rvalue, decl.inScope);\r\n                expressionType = this.castAccess(this.typeOfExpression(decl.rvalue.resolved, decl.inScope), _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.CONST_CAST_TKN);\r\n            }\r\n            else if (decl.accessAssignment.type === _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.IMMUTABLE_ASSIGNMENT_TKN) {\r\n                expressionType = this.castAccess(this.typeOfExpression(decl.rvalue, decl.inScope), _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.IMMUT_CAST_TKN);\r\n            }\r\n            else if (decl.accessAssignment.type === _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.MUTABLE_ASSIGNMENT_TKN) {\r\n                expressionType = this.typeOfExpression(decl.rvalue, decl.inScope);\r\n                if (this.checkAccessCast(expressionType, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.CONST_CAST_TKN)) {\r\n                    this.err\r\n                        .atWholeNode(\"The right side value of the declaration is of inferred type \" +\r\n                        _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(expressionType), decl.rvalue)\r\n                        .atWholeNode(\"Constant reference to a type instance can't be assigned to a mutable variable\", decl)\r\n                        .addNote_PANIC(\"Casting the reference to a mutable type would enable modification of the original const variable\");\r\n                }\r\n                if (this.checkAccessCast(expressionType, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.IMMUT_CAST_TKN)) {\r\n                    this.err\r\n                        .atWholeNode(\"The right side value of the declaration is of inferred type \" +\r\n                        _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(expressionType), decl.rvalue)\r\n                        .atWholeNode(\"Immutable reference to a type instance can't be assigned to a mutable variable\", decl)\r\n                        .addNote_PANIC(\"Casting the reference to a mutable type would enable modification of the original immutable variable\");\r\n                }\r\n                expressionType = this.castAccess(expressionType, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.MUT_CAST_TKN);\r\n            }\r\n            if (!decl.type) {\r\n                decl.type = new _Ast__WEBPACK_IMPORTED_MODULE_0__.ASTTypeLiteral(decl.lvalue.locToken);\r\n                decl.type.resolved = expressionType;\r\n            }\r\n            else {\r\n                if (this.checkAccessCast(decl.type.resolved, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.CONST_CAST_TKN)) {\r\n                    if (decl.accessAssignment.type !== _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.CONST_ASSIGNMENT_TKN) {\r\n                        this.err\r\n                            .atWholeToken(\"Mismatch between variable type and assignment type\", decl.accessAssignment)\r\n                            .addNote_PANIC(\"Use => to denote const assignment \" +\r\n                            _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(decl.lvalue) +\r\n                            \": \" +\r\n                            _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(decl.type) +\r\n                            \" => \" +\r\n                            _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(decl.rvalue) +\r\n                            \";\");\r\n                    }\r\n                }\r\n                else if (this.checkAccessCast(decl.type.resolved, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.IMMUT_CAST_TKN)) {\r\n                    if (decl.accessAssignment.type !== _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.IMMUTABLE_ASSIGNMENT_TKN) {\r\n                        this.err\r\n                            .atWholeToken(\"Mismatch between variable type and assignment type\", decl.accessAssignment)\r\n                            .addNote_PANIC(\"Use = to denote immutable assignment \" +\r\n                            _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(decl.lvalue) +\r\n                            \": \" +\r\n                            _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(decl.type) +\r\n                            \" = \" +\r\n                            _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(decl.rvalue) +\r\n                            \";\");\r\n                    }\r\n                }\r\n                else if (this.checkAccessCast(decl.type.resolved, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.MUT_CAST_TKN)) {\r\n                    if (decl.accessAssignment.type !== _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.MUTABLE_ASSIGNMENT_TKN) {\r\n                        this.err\r\n                            .atWholeToken(\"Mismatch between variable type and assignment type\", decl.accessAssignment)\r\n                            .addNote_PANIC(\"Use ~= to denote mut assignment \" +\r\n                            _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(decl.lvalue) +\r\n                            \": \" +\r\n                            _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(decl.type) +\r\n                            \" ~= \" +\r\n                            _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(decl.rvalue) +\r\n                            \";\");\r\n                    }\r\n                }\r\n                if (!this.isTypeEqual(decl.type.resolved, expressionType, decl.inScope)) {\r\n                    this.err\r\n                        .atNode(\"Type mismatch between declared type and expression type. The inferred declare type is \" +\r\n                        _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(decl.type.resolved), decl.type)\r\n                        .atNode_PANIC(\"The expression has an inferred type of \" + _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(expressionType), decl.rvalue);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (decl.type.resolved.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.ACCESS_CAST) {\r\n                let cast = decl.type.resolved;\r\n                if (cast.accessType === _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.CONST_CAST_TKN) {\r\n                    this.err.atNode_PANIC(\"Constant declarations must define a right side value\", decl);\r\n                }\r\n                else {\r\n                    decl.accessAssignment = _Token__WEBPACK_IMPORTED_MODULE_3__.Token.fromType(_Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.MUTABLE_ASSIGNMENT_TKN, decl.type.locToken);\r\n                }\r\n            }\r\n            else {\r\n                decl.accessAssignment = _Token__WEBPACK_IMPORTED_MODULE_3__.Token.fromType(_Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.IMMUTABLE_ASSIGNMENT_TKN, decl.type.locToken);\r\n            }\r\n        }\r\n        let otherDecl = this.searchDeclarationName(decl.lvalue, decl.inScope);\r\n        if (otherDecl && !otherDecl.locToken.equals(decl.locToken)) {\r\n            if (!decl.isAssignment) {\r\n                decl.isAssignment = true;\r\n                decl.inScope.table.delete(decl.lvalue.refName);\r\n            }\r\n            if (decl.inScope.isUnordered() && decl.inScope.equals(otherDecl.inScope)) {\r\n                if (decl.inScope.scopeType === _Scope__WEBPACK_IMPORTED_MODULE_2__.ScopeType.GLOBAL_SCOPE) {\r\n                    this.err\r\n                        .atNode(\"Found duplicate variable declaration in global scope\", decl)\r\n                        .atNode(\"Other duplicate declaration found here\", otherDecl)\r\n                        .addNote_PANIC(\"Can't have duplicate variables in global scope\");\r\n                }\r\n                this.err\r\n                    .atNode(\"Found duplicate variable declaration\", decl)\r\n                    .atNode(\"Other duplicate declaration found here\", otherDecl)\r\n                    .addNote_PANIC(\"Can't have duplicate variables in modules or type definitions\");\r\n            }\r\n            this.typeCheckDeclaration(otherDecl);\r\n            if (otherDecl.accessAssignment.type === _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.CONST_ASSIGNMENT_TKN) {\r\n                this.err\r\n                    .atWholeToken(\"Reassignment of constant variable is not allowed\", decl.accessAssignment)\r\n                    .atWholeToken(\"Const declaration already exists here\", otherDecl.locToken)\r\n                    .addNote_PANIC(\"All constant variables are unordered within a scope\");\r\n            }\r\n            if (otherDecl.rvalue && otherDecl.accessAssignment.type === _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.IMMUTABLE_ASSIGNMENT_TKN) {\r\n                if (otherDecl.rvalue.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.FUNCTION) {\r\n                    this.err\r\n                        .atWholeNode(\"Function overloading is not allowed\", decl)\r\n                        .atWholeNode_PANIC(\"Other function declaration already exists here\", otherDecl);\r\n                }\r\n                else {\r\n                    this.err\r\n                        .atWholeNode(\"Reassignment of immutable variable is not allowed\", decl)\r\n                        .atWholeNode_PANIC(\"Immutable declaration already exists here\", otherDecl);\r\n                }\r\n            }\r\n            if (decl.type &&\r\n                (decl.type.nodeName !== _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.TYPE_LITERAL || decl.type.type)) {\r\n                this.err\r\n                    .atNode(\"Duplicate variable declaration found\", decl)\r\n                    .atNode(\"Other variable found in outer scope\", otherDecl)\r\n                    .addNote_PANIC(\"Variable shadowing is not allowed in this language\");\r\n            }\r\n            if (!this.isTypeEqual(otherDecl.type, decl.type, decl.inScope)) {\r\n                this.err\r\n                    .atNode(\"Type mismatch between variable assignment and declaration. Inferred type of assignment is \" +\r\n                    _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(decl.type.resolved), decl)\r\n                    .atNode(\"Declaration found here with inferred type of \" + _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(otherDecl.type.resolved), otherDecl);\r\n                if (otherDecl.type.resolved.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.ACCESS_CAST &&\r\n                    decl.type.resolved.nodeName === _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.ACCESS_CAST) {\r\n                    this.err.addNote_PANIC(\"Must use consistent access type when assigning to a declared variable\");\r\n                }\r\n                else {\r\n                    this.err.panic();\r\n                }\r\n            }\r\n        }\r\n        decl.hasTypeChecked = true;\r\n    }\r\n    typeCheckModule(module) {\r\n        for (let i = 0; i < module.declarations.length; i++) {\r\n            this.typeCheckDeclaration(module.declarations[i]);\r\n        }\r\n    }\r\n    typeCheckTypeDefinition(typeDefinition) {\r\n        for (let i = 0; i < typeDefinition.declarations.length; i++) {\r\n            this.typeCheckDeclaration(typeDefinition.declarations[i]);\r\n        }\r\n    }\r\n    typeCheckFunction(func) {\r\n        for (let i = 0; i < func.paramDeclaration.length; i++) {\r\n            this.typeCheckDeclaration(func.paramDeclaration[i]);\r\n        }\r\n        if (func.returnType) {\r\n            this.resolveConstExpression(func.returnType, func.block.scope);\r\n            if (this.isEqualToUncastedType(func.returnType.resolved, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.VOID_TYPE_TKN)) {\r\n                this.typeCheckBlock(func.block, undefined);\r\n            }\r\n        }\r\n        this.typeCheckBlock(func.block, func.returnType);\r\n        if (func.returnType && !this.isEqualToUncastedType(func.returnType, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.VOID_TYPE_TKN)) {\r\n            if (!func.block.hasReturn) {\r\n                this.err.atWholeNode_PANIC(\"A function with a return type must return a value for all cases\", func.returnType);\r\n            }\r\n        }\r\n    }\r\n    typeCheckTypeConstruction(typeConstruct, scope) {\r\n        let typeConsAssignments = typeConstruct.assignments;\r\n        for (let i = this.typeCheckTypeConstructStack.length - 1; i >= 0; i--) {\r\n            if (typeConstruct.locToken.equals(this.typeCheckTypeConstructStack[i].locToken)) {\r\n                this.err.atNode(\"Recursive type definition found when type checking the following\", typeConstruct);\r\n                for (let j = i + 1; j < this.typeCheckTypeConstructStack.length; j++) {\r\n                    this.err.atNode(\"...which leads to the creation of the following\", this.typeCheckTypeConstructStack[j]);\r\n                }\r\n                this.err.panic();\r\n            }\r\n        }\r\n        this.typeCheckTypeConstructStack.push(typeConstruct);\r\n        this.typeCheckTypeConstructStack.push(typeConstruct.typeRef);\r\n        this.resolveConstExpression(typeConstruct.typeRef, scope);\r\n        let constTypeName = typeConstruct.typeRef.resolved;\r\n        if (constTypeName.nodeName !== _Ast__WEBPACK_IMPORTED_MODULE_0__.NodeType.TYPE_DEF) {\r\n            this.err\r\n                .atWholeNode(\"Type constuction does not refer to the creation of a type\", typeConstruct.typeRef)\r\n                .atWholeNode_PANIC(_Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(typeConstruct.typeRef) +\r\n                \" evaluates to \" +\r\n                _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(constTypeName) +\r\n                \" which is not a valid type\", constTypeName);\r\n        }\r\n        let typeDef = constTypeName;\r\n        this.typeCheckTypeConstructStack = [];\r\n        for (let i = 0; i < typeConsAssignments.length; i++) {\r\n            let resolvedAssignmentType = this.typeOfExpression(typeConsAssignments[i].rvalue, scope);\r\n            let assignmentVarName = typeConsAssignments[i].lvalue.refName;\r\n            let typeVarDecl = undefined;\r\n            for (let j = 0; j < typeDef.declarations.length; j++) {\r\n                if (typeDef.declarations[j].lvalue.refName === assignmentVarName) {\r\n                    typeVarDecl = typeDef.declarations[j];\r\n                    this.typeCheckDeclaration(typeVarDecl);\r\n                    if (typeVarDecl.accessAssignment.type === _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.CONST_ASSIGNMENT_TKN) {\r\n                        this.err\r\n                            .atWholeNode(\"Error in type construction\", typeConstruct)\r\n                            .atToken(\"Attempting to assign a new value to an already constant variable\", typeConsAssignments[i].locToken)\r\n                            .atNode_PANIC(\"Constant variable in type definition found here\", typeVarDecl);\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            if (typeVarDecl) {\r\n                if (typeVarDecl.accessAssignment.type === _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.MUTABLE_ASSIGNMENT_TKN) {\r\n                    if (this.checkAccessCast(resolvedAssignmentType, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.IMMUT_CAST_TKN)) {\r\n                        this.err\r\n                            .atWholeNode(\"Error in type construction\", typeConstruct)\r\n                            .atNode(\"Variable assignment with inferred type of \" + _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(resolvedAssignmentType), typeConsAssignments[i].rvalue)\r\n                            .atNode(\"Immutable reference to a type instance can't be assigned to mutable variable found here\", typeVarDecl)\r\n                            .addNote_PANIC(\"Casting the reference to a mutable type would enable modification of the original immutable variable\");\r\n                    }\r\n                }\r\n                else if (typeVarDecl.accessAssignment.type === _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.IMMUTABLE_ASSIGNMENT_TKN) {\r\n                    resolvedAssignmentType = this.castAccess(resolvedAssignmentType, _Token__WEBPACK_IMPORTED_MODULE_3__.TokenType.IMMUT_CAST_TKN);\r\n                }\r\n                if (!this.isTypeEqual(resolvedAssignmentType, typeVarDecl.type, scope)) {\r\n                    this.err\r\n                        .atWholeNode(\"Error in type construction\", typeConstruct)\r\n                        .atToken(\"Variable assignment with inferred type of \" + _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(resolvedAssignmentType), typeConsAssignments[i].locToken)\r\n                        .atNode_PANIC(\"...is incompatible with expected type of \" + _Ast__WEBPACK_IMPORTED_MODULE_0__.exprToStr(typeVarDecl.type.resolved), typeVarDecl);\r\n                }\r\n            }\r\n            else {\r\n                this.err\r\n                    .atNode(\"Error in type construction\", typeConstruct)\r\n                    .atNode(\"Property name '\" + assignmentVarName + \"' does not exist in type\", typeConstruct.typeRef)\r\n                    .atToken_PANIC(\"Invalid assignment found here\", typeConsAssignments[i].locToken);\r\n            }\r\n        }\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zY3VmdC8uL3NyYy9zY3VmdC9sYW5nL1R5cGVDaGVja2VyLnRzP2IyZDEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBNkI7QUFDaUI7QUFDUztBQUNaO0FBRTVCLE1BQU0sV0FBVztJQUU1QixZQUFZLFVBQXdCO1FBbWhCNUIsb0JBQWUsR0FBd0IsRUFBRSxDQUFDO1FBd2lCMUMsZ0NBQTJCLEdBQXdCLEVBQUUsQ0FBQztRQTFqQzFELElBQUksQ0FBQyxHQUFHLEdBQUcsbUVBQXdCLENBQUMsdUJBQXVCLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDN0UsQ0FBQztJQUNPLFVBQVUsQ0FBQyxRQUEyQixFQUFFLFVBQStCO1FBQzNFLElBQUksVUFBVSxLQUFLLDREQUF3QixFQUFFO1lBQ3pDLElBQUksUUFBUSxDQUFDLFFBQVEsS0FBSyxzREFBd0IsRUFBRTtnQkFDaEQsT0FBMkIsUUFBUyxDQUFDLFVBQVUsQ0FBQzthQUNuRDtpQkFBTTtnQkFDSCxPQUFPLFFBQVEsQ0FBQzthQUNuQjtTQUNKO1FBQ0QsSUFBSSxJQUFJLEdBQUcsSUFBSSwrQ0FBaUIsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDcEQsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7UUFDN0IsSUFBSSxDQUFDLFVBQVUsR0FBRyxRQUFRLENBQUM7UUFDM0IsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUNPLGVBQWUsQ0FBQyxRQUEyQixFQUFFLFVBQStCO1FBQ2hGLElBQUksUUFBUSxDQUFDLFFBQVEsS0FBSyxzREFBd0IsRUFBRTtZQUNoRCxPQUFPLFVBQVUsS0FBeUIsUUFBUyxDQUFDLFVBQVUsQ0FBQztTQUNsRTthQUFNO1lBQ0gsT0FBTyxVQUFVLEtBQUssNERBQXdCLENBQUM7U0FDbEQ7SUFDTCxDQUFDO0lBRU8saUJBQWlCLENBQUMsVUFBNkI7UUFDbkQsSUFBSSxVQUFVLENB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RUFBRSxhQUFhLENBQUM7eUJBQ3hELE9BQU8sQ0FDSiw0Q0FBNEMsR0FBRywyQ0FBYSxDQUFDLHNCQUFzQixDQUFDLEVBQ3BGLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FDbEM7eUJBQ0EsWUFBWSxDQUNULDJDQUEyQyxHQUFHLDJDQUFhLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFDdEYsV0FBVyxDQUNkLENBQUM7aUJBQ1Q7YUFDSjtpQkFBTTtnQkFDSCxJQUFJLENBQUMsR0FBRztxQkFDSCxNQUFNLENBQUMsNEJBQTRCLEVBQUUsYUFBYSxDQUFDO3FCQUNuRCxNQUFNLENBQUMsaUJBQWlCLEdBQUcsaUJBQWlCLEdBQUcsMEJBQTBCLEVBQUUsYUFBYSxDQUFDLE9BQU8sQ0FBQztxQkFDakcsYUFBYSxDQUFDLCtCQUErQixFQUFFLG1CQUFtQixDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDO2FBQ3hGO1NBQ0o7SUFDTCxDQUFDO0NBQ0oiLCJmaWxlIjoiLi9zcmMvc2N1ZnQvbGFuZy9UeXBlQ2hlY2tlci50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIEFTVCBmcm9tIFwiLi9Bc3RcIjtcclxuaW1wb3J0IHsgRXJyb3JIYW5kbGVyIH0gZnJvbSBcIi4vRXJyb3JIYW5kbGVyXCI7XHJcbmltcG9ydCB7IHByaW50U2NvcGUsIFNjb3BlLCBTY29wZVR5cGUgfSBmcm9tIFwiLi9TY29wZVwiO1xyXG5pbXBvcnQgeyBUb2tlbiwgVG9rZW5UeXBlIH0gZnJvbSBcIi4vVG9rZW5cIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFR5cGVDaGVja2VyIHtcclxuICAgIHByaXZhdGUgcmVhZG9ubHkgZXJyOiBFcnJvckhhbmRsZXI7XHJcbiAgICBjb25zdHJ1Y3RvcihlcnJIYW5kbGVyOiBFcnJvckhhbmRsZXIpIHtcclxuICAgICAgICB0aGlzLmVyciA9IEVycm9ySGFuZGxlci5mcm9tSGFuZGxlcihcIi0tLS1UeXBlQ2hlY2tlci0tLS1cXG5cIiwgZXJySGFuZGxlcik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGNhc3RBY2Nlc3ModHlwZUV4cHI6IEFTVC5BU1RFeHByZXNzaW9uLCBhY2Nlc3NDYXN0OiBBU1QuQWNjZXNzQ2FzdFRva2VuKTogQVNULkFTVEV4cHJlc3Npb24ge1xyXG4gICAgICAgIGlmIChhY2Nlc3NDYXN0ID09PSBUb2tlblR5cGUuSU1NVVRfQ0FTVF9US04pIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVFeHByLm5vZGVOYW1lID09PSBBU1QuTm9kZVR5cGUuQUNDRVNTX0NBU1QpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoPEFTVC5BU1RBY2Nlc3NDYXN0PnR5cGVFeHByKS5jYXN0ZWRUeXBlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVFeHByO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBjYXN0ID0gbmV3IEFTVC5BU1RBY2Nlc3NDYXN0KHR5cGVFeHByLmxvY1Rva2VuKTtcclxuICAgICAgICBjYXN0LmFjY2Vzc1R5cGUgPSBhY2Nlc3NDYXN0O1xyXG4gICAgICAgIGNhc3QuY2FzdGVkVHlwZSA9IHR5cGVFeHByO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlc29sdmVBY2Nlc3NDYXN0KGNhc3QpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBjaGVja0FjY2Vzc0Nhc3QodHlwZUV4cHI6IEFTVC5BU1RFeHByZXNzaW9uLCBhY2Nlc3NDYXN0OiBBU1QuQWNjZXNzQ2FzdFRva2VuKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHR5cGVFeHByLm5vZGVOYW1lID09PSBBU1QuTm9kZVR5cGUuQUNDRVNTX0NBU1QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFjY2Vzc0Nhc3QgPT09ICg8QVNULkFTVEFjY2Vzc0Nhc3Q+dHlwZUV4cHIpLmFjY2Vzc1R5cGU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFjY2Vzc0Nhc3QgPT09IFRva2VuVHlwZS5JTU1VVF9DQVNUX1RLTjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBSZXNvbHZlIFwiY29uc3QgY29uc3RcIiBpbnRvIFwiY29uc3RcIiBhbmQgb3RoZXIgc2ltaWxhciBvcHRpbWl6YXRpb25zXHJcbiAgICBwcml2YXRlIHJlc29sdmVBY2Nlc3NDYXN0KGFjY2Vzc0Nhc3Q6IEFTVC5BU1RBY2Nlc3NDYXN0KTogQVNULkFTVEFjY2Vzc0Nhc3Qge1xyXG4gICAgICAgIGlmIChhY2Nlc3NDYXN0LmNhc3RlZFR5cGUubm9kZU5hbWUgPT09IEFTVC5Ob2RlVHlwZS5BQ0NFU1NfQ0FTVCkge1xyXG4gICAgICAgICAgICBsZXQgaXNJbk11dCA9ICg8QVNULkFTVEFjY2Vzc0Nhc3Q+YWNjZXNzQ2FzdC5jYXN0ZWRUeXBlKS5hY2Nlc3NUeXBlID09PSBUb2tlblR5cGUuTVVUX0NBU1RfVEtOO1xyXG4gICAgICAgICAgICBpZiAoYWNjZXNzQ2FzdC5hY2Nlc3NUeXBlID09PSBUb2tlblR5cGUuTVVUX0NBU1RfVEtOKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNJbk11dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG11dCBtdXQgPT4gbXV0XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBjb25zb2xlLndhcm4oXCJtdXQgbXV0LCBXSEFUIEFSRSBZT1UgRE9JTkc/IT8hPyFcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG11dCBjb25zdFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyLmF0Tm9kZV9QQU5JQyhcIkNhbid0IGNhc3QgY29uc3QgdHlwZSB0byBtdXRhYmxlXCIsIGFjY2Vzc0Nhc3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzSW5NdXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBtdXQobnVtKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8gY29uc29sZS53YXJuKFwiY29uc3QgbXV0LCBZT1UgU0lNUExFVE9OISEhIVwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgY29uc3RcclxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGNvbnNvbGUud2FybihcImNvbnN0IGNvbnN0LCB3aHk/IFdoYXQgYmVuZWZpdCBkb2VzIHRoaXMgcHJvdmlkZSB5b3U/XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFjY2Vzc0Nhc3QuY2FzdGVkVHlwZSA9ICg8QVNULkFTVEFjY2Vzc0Nhc3Q+YWNjZXNzQ2FzdC5jYXN0ZWRUeXBlKS5jYXN0ZWRUeXBlOyAvL09wdGltaXplIHRoZSBhY2Nlc3MgY2FzdHNcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFjY2Vzc0Nhc3Q7XHJcbiAgICB9XHJcbiAgICAvLyBDb21wYXJlcyB0d28gZXhwcmVzc2lvbnMgKHByZXN1bWVkIHRvIGJlIHR5cGVzKSBhbmQgcmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGV5IGFyZSBlcXVpdmFsZW50XHJcbiAgICAvLyBcIihudW0sIG51bSkgLT4gbnVtXCIgYW5kIFwiKG51bSwgcHVyZUdldE51bVR5cGUoKSkgLT4gbnVtXCIgcmV0dXJucyB0cnVlIGFzc3VtaW5nIHRoYXQgcHVyZUdldE51bVR5cGUgcmV0dXJucyBcIm51bVwiXHJcbiAgICAvLyBOb3RlOiBcIm11dCBudW1cIiBpcyBOT1QgZXF1YWwgdG8gXCJudW1cIlxyXG4gICAgcHJpdmF0ZSBpc1R5cGVFcXVhbCh0MDogQVNULkFTVEV4cHJlc3Npb24sIHQxOiBBU1QuQVNURXhwcmVzc2lvbiwgc2NvcGU6IFNjb3BlKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKCF0MC5yZXNvbHZlZCkgdGhpcy5yZXNvbHZlQ29uc3RFeHByZXNzaW9uKHQwLCBzY29wZSk7XHJcbiAgICAgICAgaWYgKCF0MS5yZXNvbHZlZCkgdGhpcy5yZXNvbHZlQ29uc3RFeHByZXNzaW9uKHQxLCBzY29wZSk7XHJcbiAgICAgICAgdDEgPSB0MS5yZXNvbHZlZDtcclxuICAgICAgICB0MCA9IHQwLnJlc29sdmVkO1xyXG4gICAgICAgIGlmICh0MC5ub2RlTmFtZSAhPT0gdDEubm9kZU5hbWUpIHJldHVybiBmYWxzZTtcclxuICAgICAgICBzd2l0Y2ggKHQwLm5vZGVOYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQVNULk5vZGVUeXBlLkFDQ0VTU19DQVNUOlxyXG4gICAgICAgICAgICAgICAgbGV0IGFjY2Vzc0Nhc3QwID0gPEFTVC5BU1RBY2Nlc3NDYXN0PnQwO1xyXG4gICAgICAgICAgICAgICAgbGV0IGFjY2Vzc0Nhc3QxID0gPEFTVC5BU1RBY2Nlc3NDYXN0PnQxO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFjY2Vzc0Nhc3QwLmFjY2Vzc1R5cGUgIT09IGFjY2Vzc0Nhc3QxLmFjY2Vzc1R5cGUpIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmlzVHlwZUVxdWFsKGFjY2Vzc0Nhc3QwLmNhc3RlZFR5cGUsIGFjY2Vzc0Nhc3QxLmNhc3RlZFR5cGUsIHNjb3BlKTtcclxuICAgICAgICAgICAgY2FzZSBBU1QuTm9kZVR5cGUuVFlQRV9MSVRFUkFMOlxyXG4gICAgICAgICAgICAgICAgbGV0IHR5cGVMaXQwID0gPEFTVC5BU1RUeXBlTGl0ZXJhbD50MDtcclxuICAgICAgICAgICAgICAgIGxldCB0eXBlTGl0MSA9IDxBU1QuQVNUVHlwZUxpdGVyYWw+dDE7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZUxpdDAudHlwZSA9PT0gdHlwZUxpdDEudHlwZTtcclxuICAgICAgICAgICAgY2FzZSBBU1QuTm9kZVR5cGUuRlVOQ1RJT05fVFlQRTpcclxuICAgICAgICAgICAgICAgIGxldCBmdW5jMCA9IDxBU1QuQVNURnVuY3Rpb25UeXBlPnQwO1xyXG4gICAgICAgICAgICAgICAgbGV0IGZ1bmMxID0gPEFTVC5BU1RGdW5jdGlvblR5cGU+dDE7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzVHlwZUVxdWFsKGZ1bmMwLm91dFR5cGUsIGZ1bmMxLm91dFR5cGUsIHNjb3BlKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmdW5jMC5pbnB1dFR5cGUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNUeXBlRXF1YWwoZnVuYzAuaW5wdXRUeXBlW2ldLCBmdW5jMS5pbnB1dFR5cGVbaV0sIHNjb3BlKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIGNhc2UgQVNULk5vZGVUeXBlLlRZUEVfREVGOlxyXG4gICAgICAgICAgICAgICAgbGV0IHR5cGVEZWYwID0gPEFTVC5BU1RUeXBlQ29uc3RydWN0aW9uPnQwO1xyXG4gICAgICAgICAgICAgICAgbGV0IHR5cGVEZWYxID0gPEFTVC5BU1RUeXBlQ29uc3RydWN0aW9uPnQxO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVEZWYwLmxvY1Rva2VuLmVxdWFscyh0eXBlRGVmMS5sb2NUb2tlbik7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBcIkV4cHJlc3Npb24gaXMgbm90IGEgcHVyZSB0eXBlIGFuZCBjYW4ndCBiZSB1c2VkIGluIGlzVHlwZUVxdWFsXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gSWdub3JlcyBhY2Nlc3MgY2FzdHM6IFwiYm9vbFwiID09PSBcImJvb2xcIiwgXCJtdXQgbnVtXCIgPT09IFwibnVtXCIgYnV0IFwiY29uc3Qgc3RyaW5nXCIgIT09IFwibnVtXCJcclxuICAgIHByaXZhdGUgaXNFcXVhbFRvVW5jYXN0ZWRUeXBlKHR5cGVFeHByOiBBU1QuQVNURXhwcmVzc2lvbiwgdHlwZUxpdGVyYWw6IEFTVC5UeXBlTGl0ZXJhbFRva2VuKTogYm9vbGVhbiB7XHJcbiAgICAgICAgaWYgKHR5cGVFeHByLm5vZGVOYW1lID09PSBBU1QuTm9kZVR5cGUuQUNDRVNTX0NBU1QpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaXNFcXVhbFRvVW5jYXN0ZWRUeXBlKCg8QVNULkFTVEFjY2Vzc0Nhc3Q+dHlwZUV4cHIpLmNhc3RlZFR5cGUsIHR5cGVMaXRlcmFsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGVFeHByLm5vZGVOYW1lICE9PSBBU1QuTm9kZVR5cGUuVFlQRV9MSVRFUkFMKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuICg8QVNULkFTVFR5cGVMaXRlcmFsPnR5cGVFeHByKS50eXBlID09PSB0eXBlTGl0ZXJhbDtcclxuICAgIH1cclxuICAgIHByaXZhdGUgcmVzb2x2ZVR5cGVFeHByZXNzaW9uKGV4cHI6IEFTVC5BU1RFeHByZXNzaW9uLCBzY29wZTogU2NvcGUpIHtcclxuICAgICAgICB0aGlzLnJlc29sdmVDb25zdEV4cHJlc3Npb24oZXhwciwgc2NvcGUpO1xyXG4gICAgICAgIGlmICghdGhpcy5pc0xvb3NlVHlwZShleHByLnJlc29sdmVkKSkge1xyXG4gICAgICAgICAgICB0aGlzLmVyci5hdFdob2xlTm9kZV9QQU5JQyhcclxuICAgICAgICAgICAgICAgIFwiRXhwcmVzc2lvbiBleHBlY3RlZCB0byBiZSBhIHR5cGUgYnV0IGdvdCBcIiArIEFTVC5leHByVG9TdHIoZXhwci5yZXNvbHZlZCkgKyBcIiBpbnN0ZWFkXCIsXHJcbiAgICAgICAgICAgICAgICBleHByXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gRGV0ZXJtaW5lIGlmIGV4cHIgaXMgcm91Z2hseSBhIHR5cGUuIEd1YXJhbnRlZWQgdG8gd29yayBpZiBleHByIHdhcyBjb25zdCBldmFsdWF0ZWQgZG93bndhcmRzXHJcbiAgICAvLyBVc2Ugc3BhcmluZ2x5XHJcbiAgICBwcml2YXRlIGlzTG9vc2VUeXBlKGV4cHI6IEFTVC5BU1RFeHByZXNzaW9uKTogYm9vbGVhbiB7XHJcbiAgICAgICAgc3dpdGNoIChleHByLm5vZGVOYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQVNULk5vZGVUeXBlLkFDQ0VTU19DQVNUOlxyXG4gICAgICAgICAgICAgICAgbGV0IGFjY2Vzc0Nhc3QgPSA8QVNULkFTVEFjY2Vzc0Nhc3Q+ZXhwcjtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmlzTG9vc2VUeXBlKGFjY2Vzc0Nhc3QuY2FzdGVkVHlwZSk7XHJcbiAgICAgICAgICAgIGNhc2UgQVNULk5vZGVUeXBlLlRZUEVfTElURVJBTDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICBjYXNlIEFTVC5Ob2RlVHlwZS5GVU5DVElPTl9UWVBFOlxyXG4gICAgICAgICAgICAgICAgbGV0IGZ1bmNUeXBlID0gPEFTVC5BU1RGdW5jdGlvblR5cGU+ZXhwcjtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZnVuY1R5cGUuaW5wdXRUeXBlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzTG9vc2VUeXBlKGZ1bmNUeXBlLmlucHV0VHlwZVtpXSkpIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmlzTG9vc2VUeXBlKGZ1bmNUeXBlLm91dFR5cGUpO1xyXG4gICAgICAgICAgICBjYXNlIEFTVC5Ob2RlVHlwZS5UWVBFX0RFRjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXhwcik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSByZXNvbHZlQ29uc3RFeHByZXNzaW9uKGV4cHI6IEFTVC5BU1RFeHByZXNzaW9uLCBzY29wZTogU2NvcGUpIHtcclxuICAgICAgICB0aGlzLnJlY3Vyc2VSZXNDb25zdEV4cHJlc3Npb24oZXhwciwgZXhwciwgc2NvcGUpO1xyXG4gICAgfVxyXG4gICAgLy8gVE9ETyBjaGVjayBmb3IgY3ljbGVzXHJcbiAgICBwcml2YXRlIHJlY3Vyc2VSZXNDb25zdEV4cHJlc3Npb24oZXhwcjogQVNULkFTVEV4cHJlc3Npb24sIHNvdXJjZUV4cHI6IEFTVC5BU1RFeHByZXNzaW9uLCBzY29wZTogU2NvcGUpIHtcclxuICAgICAgICBpZiAoZXhwci5yZXNvbHZlZCkgcmV0dXJuO1xyXG4gICAgICAgIHN3aXRjaCAoZXhwci5ub2RlTmFtZSkge1xyXG4gICAgICAgICAgICBjYXNlIEFTVC5Ob2RlVHlwZS5BQ0NFU1NfQ0FTVDpcclxuICAgICAgICAgICAgICAgIC8vTm90ZTogXCJtdXQgbnVtXCIgaXMgYSBjb25zdGFudCBleHByZXNzaW9uIGJlY2F1c2UgdGhlIHR5cGUgZXhwcmVzc2lvbiBpdHNlbGYgaXMgY29tcGlsZS10aW1lIGtub3duXHJcbiAgICAgICAgICAgICAgICBsZXQgYWNjZXNzQ2FzdCA9IHRoaXMucmVzb2x2ZUFjY2Vzc0Nhc3QoPEFTVC5BU1RBY2Nlc3NDYXN0PmV4cHIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlVHlwZUV4cHJlc3Npb24oYWNjZXNzQ2FzdC5jYXN0ZWRUeXBlLCBzY29wZSk7XHJcbiAgICAgICAgICAgICAgICBleHByLnJlc29sdmVkID0gYWNjZXNzQ2FzdDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEFTVC5Ob2RlVHlwZS5UWVBFX0xJVEVSQUw6XHJcbiAgICAgICAgICAgICAgICBleHByLnJlc29sdmVkID0gZXhwcjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEFTVC5Ob2RlVHlwZS5GVU5DVElPTl9UWVBFOlxyXG4gICAgICAgICAgICAgICAgbGV0IGFzdEZ1bmNUeXBlID0gPEFTVC5BU1RGdW5jdGlvblR5cGU+ZXhwcjtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXN0RnVuY1R5cGUuaW5wdXRUeXBlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlVHlwZUV4cHJlc3Npb24oYXN0RnVuY1R5cGUuaW5wdXRUeXBlW2ldLCBzY29wZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmVUeXBlRXhwcmVzc2lvbihhc3RGdW5jVHlwZS5vdXRUeXBlLCBzY29wZSk7XHJcbiAgICAgICAgICAgICAgICBleHByLnJlc29sdmVkID0gZXhwcjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEFTVC5Ob2RlVHlwZS5UWVBFX0RFRjpcclxuICAgICAgICAgICAgY2FzZSBBU1QuTm9kZVR5cGUuTU9EVUxFOlxyXG4gICAgICAgICAgICAgICAgZXhwci5yZXNvbHZlZCA9IGV4cHI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBBU1QuTm9kZVR5cGUuRlVOQ1RJT046XHJcbiAgICAgICAgICAgICAgICBsZXQgYXN0RnVuYyA9IDxBU1QuQVNURnVuY3Rpb24+ZXhwcjtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0UHVyZUZ1bmN0aW9uKGFzdEZ1bmMsIGFzdEZ1bmMpO1xyXG4gICAgICAgICAgICAgICAgZXhwci5yZXNvbHZlZCA9IGV4cHI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBBU1QuTm9kZVR5cGUuTkFNRTpcclxuICAgICAgICAgICAgICAgIGxldCBhc3ROYW1lID0gPEFTVC5BU1ROYW1lPmV4cHI7XHJcbiAgICAgICAgICAgICAgICAvLyBPcmRlciBvZiB0aGUgZGVjbGFyYXRpb24gZG9lc24ndCBtYXR0ZXIgYmVjYXVzZSBuYW1lRGVjbCBpcyBhc3N1bWVkIHRvIGJlIGNvbnN0YW50XHJcbiAgICAgICAgICAgICAgICBsZXQgbmFtZURlY2wgPSB0aGlzLnNlYXJjaERlY2xhcmF0aW9uTmFtZShhc3ROYW1lLCBzY29wZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobmFtZURlY2wpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICFuYW1lRGVjbC5hY2Nlc3NBc3NpZ25tZW50IHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVEZWNsLmFjY2Vzc0Fzc2lnbm1lbnQudHlwZSAhPT0gVG9rZW5UeXBlLkNPTlNUX0FTU0lHTk1FTlRfVEtOXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXRXaG9sZU5vZGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJPbmx5IGNvbnN0YW50IGV4cHJlc3Npb25zIGNhbiBiZSB1c2VkIHRvIGRlZmluZSBvdGhlciBjb25zdGFudCBleHByZXNzaW9uc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUV4cHJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdE5vZGVfUEFOSUMoXCJUaGlzIGRlY2xhcmF0aW9uIHdhcyBleHBlY3RlZCB0byBiZSBjb25zdGFudFwiLCBuYW1lRGVjbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVjdXJzZVJlc0NvbnN0RXhwcmVzc2lvbihuYW1lRGVjbC5ydmFsdWUsIHNvdXJjZUV4cHIsIHNjb3BlKTsgLy9Bc3N1bWUgdGhhdCBuYW1lRGVjbCBpcyBhIGNvbnN0YW50IGRlY2xhcmF0aW9uIHNvIGl0IE1VU1QgaGF2ZSBhIHJpZ2h0IGhhbmQgc2lkZVxyXG4gICAgICAgICAgICAgICAgICAgIGV4cHIucmVzb2x2ZWQgPSBuYW1lRGVjbC5ydmFsdWUucmVzb2x2ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyLmF0Tm9kZV9QQU5JQyhcIkNvdWxkbid0IGZpbmQgY29uc3RhbnQgdmFyaWFibGUgJ1wiICsgQVNULmV4cHJUb1N0cihhc3ROYW1lKSArIFwiJ1wiLCBhc3ROYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBBU1QuTm9kZVR5cGUuRE9UX09QOlxyXG4gICAgICAgICAgICAgICAgbGV0IHJlZkRvdCA9IDxBU1QuQVNURG90T3BlcmF0b3I+ZXhwcjtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVjdXJzZVJlc0NvbnN0RXhwcmVzc2lvbihyZWZEb3Qucm9vdFZhbHVlLCBzb3VyY2VFeHByLCBzY29wZSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcm9vdERlYyE6IEFTVC5BU1REZWNsYXJhdGlvbjtcclxuICAgICAgICAgICAgICAgIGxldCBhY2Nlc3NTY29wZSE6IFNjb3BlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlZkRvdC5yb290VmFsdWUucmVzb2x2ZWQubm9kZU5hbWUgPT09IEFTVC5Ob2RlVHlwZS5NT0RVTEUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbW9kID0gPEFTVC5BU1RNb2R1bGU+cmVmRG90LnJvb3RWYWx1ZS5yZXNvbHZlZDtcclxuICAgICAgICAgICAgICAgICAgICByb290RGVjID0gbW9kLm1vZHVsZURlY1JlZjtcclxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NTY29wZSA9IG1vZC5zY29wZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVmRG90LnJvb3RWYWx1ZS5yZXNvbHZlZC5ub2RlTmFtZSA9PT0gQVNULk5vZGVUeXBlLlRZUEVfREVGKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHR5cGVEZWYgPSA8QVNULkFTVFR5cGVEZWZpbml0aW9uPnJlZkRvdC5yb290VmFsdWUucmVzb2x2ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgcm9vdERlYyA9IHR5cGVEZWYudHlwZURlY1JlZjtcclxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NTY29wZSA9IHR5cGVEZWYuc2NvcGU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlZkRvdC5yb290VmFsdWUucmVzb2x2ZWQubm9kZU5hbWUgPT09IEFTVC5Ob2RlVHlwZS5UWVBFX0NPTlNUUlVDVCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0eXBlQ29uc3RydWN0ID0gPEFTVC5BU1RUeXBlQ29uc3RydWN0aW9uPnJlZkRvdC5yb290VmFsdWUucmVzb2x2ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHR5cGVEZWYgPSA8QVNULkFTVFR5cGVEZWZpbml0aW9uPnR5cGVDb25zdHJ1Y3QudHlwZVJlZi5yZXNvbHZlZDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdHlwZVByb3BEZWMgPSB0eXBlRGVmLnNjb3BlLnRhYmxlLmdldChyZWZEb3QubWVtYmVyVmFsdWUucmVmTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVQcm9wRGVjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9wVmFsdWUgPSB0eXBlUHJvcERlYy5ydmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJvcFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHR5cGVDb25zdHJ1Y3QuYXNzaWdubWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVDb25zdHJ1Y3QuYXNzaWdubWVudHNbaV0ubHZhbHVlLnJlZk5hbWUgPT09XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICg8QVNULkFTVE5hbWU+dHlwZVByb3BEZWMubHZhbHVlKS5yZWZOYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BWYWx1ZSA9IHR5cGVDb25zdHJ1Y3QuYXNzaWdubWVudHNbaV0ucnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByb3BWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXRXaG9sZU5vZGUoXCJDb25zdCBleHByZXNzaW9uIGNhbid0IHJlZmVyZW5jZSBhbiB1bmluaXRpYWxpemVkIHByb3BlcnR5XCIsIHJlZkRvdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0V2hvbGVOb2RlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJQcm9wZXJ0eSBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQVNULmV4cHJUb1N0cihyZWZEb3QubWVtYmVyVmFsdWUpICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiBpcyBub3QgaW5pdGlhbGl6ZWQgaW4gdGhlIHR5cGUgZGVmaW5pdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZVByb3BEZWNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXRXaG9sZU5vZGVfUEFOSUMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIi4uLm5vciBpcyBpdCBpbml0aWFsaXplZCBpbiB0aGUgY29uc3QgdHlwZSBjb25zdHJ1Y3Rpb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVDb25zdHJ1Y3QucmVzb2x2ZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlY3Vyc2VSZXNDb25zdEV4cHJlc3Npb24ocHJvcFZhbHVlLCBzb3VyY2VFeHByLCBzY29wZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cHIucmVzb2x2ZWQgPSBwcm9wVmFsdWUucmVzb2x2ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyLmF0V2hvbGVOb2RlX1BBTklDKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJQcm9wZXJ0eSBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQVNULmV4cHJUb1N0cihyZWZEb3QubWVtYmVyVmFsdWUpICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiBub3QgZm91bmQgaW4gXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFTVC5leHByVG9TdHIocmVmRG90LnJvb3RWYWx1ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZEb3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyLmF0V2hvbGVOb2RlX1BBTklDKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBBU1QuZXhwclRvU3RyKHJlZkRvdC5yb290VmFsdWUpICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiIGhhcyBubyBwcm9wZXJ0aWVzIHdoaWNoIGNhbiBiZSBhY2Nlc3NlZCBiZWNhdXNlIGl0IGhhcyB0aGUgdHlwZSBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBU1QuZXhwclRvU3RyKHRoaXMudHlwZU9mRXhwcmVzc2lvbihyZWZEb3Qucm9vdFZhbHVlLnJlc29sdmVkLCBzY29wZSkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZEb3Qucm9vdFZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCByZWZEZWNsID0gYWNjZXNzU2NvcGUudGFibGUuZ2V0KHJlZkRvdC5tZW1iZXJWYWx1ZS5yZWZOYW1lKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZWZEZWNsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAhcmVmRGVjbC5ydmFsdWUgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgIXJlZkRlY2wuYWNjZXNzQXNzaWdubWVudCB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZEZWNsLmFjY2Vzc0Fzc2lnbm1lbnQudHlwZSAhPT0gVG9rZW5UeXBlLkNPTlNUX0FTU0lHTk1FTlRfVEtOXHJcbiAgICAgICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXRXaG9sZU5vZGUoXCJDb25zdGFudCBleHByZXNzaW9uIGlzIGF0dGVtcHRpbmcgdG8gYWNjZXNzIG5vbi1jb25zdGFudCB2YWx1ZXNcIiwgcmVmRG90KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0V2hvbGVOb2RlKFwiSW4gXCIgKyBBU1QuZXhwclRvU3RyKHJvb3REZWMubHZhbHVlKSArIFwiLi4uXCIsIHJlZkRvdC5yb290VmFsdWUucmVzb2x2ZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXRXaG9sZU5vZGVfUEFOSUMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJBdHRlbXB0ZWQgdG8gYWNjZXNzIFwiICsgQVNULmV4cHJUb1N0cihyZWZEb3QubWVtYmVyVmFsdWUpICsgXCIgd2hpY2ggaXMgbm90IGNvbnN0YW50XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmRGVjbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWN1cnNlUmVzQ29uc3RFeHByZXNzaW9uKHJlZkRlY2wucnZhbHVlLCBzb3VyY2VFeHByLCBzY29wZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXhwci5yZXNvbHZlZCA9IHJlZkRlY2wucnZhbHVlLnJlc29sdmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVyci5hdFdob2xlTm9kZV9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJQcm9wZXJ0eSBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBU1QuZXhwclRvU3RyKHJlZkRvdC5tZW1iZXJWYWx1ZSkgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgbm90IGZvdW5kIGluIFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFTVC5leHByVG9TdHIocmVmRG90LnJvb3RWYWx1ZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZkRvdFxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgQVNULk5vZGVUeXBlLlRZUEVfQ09OU1RSVUNUOlxyXG4gICAgICAgICAgICAgICAgbGV0IGFzdENvbnN0cnVjdCA9IDxBU1QuQVNUVHlwZUNvbnN0cnVjdGlvbj5leHByO1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETyB0eXBlIGNoZWNrIHRoZSB0eXBlIGNvbnN0cnVjdC4gU2ltaWxhciB0byBcInR5cGVPZlR5cGVDb25zdHJ1Y3RcIiBmdW5jdGlvblxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWN1cnNlUmVzQ29uc3RFeHByZXNzaW9uKGFzdENvbnN0cnVjdC50eXBlUmVmLCBzb3VyY2VFeHByLCBzY29wZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXN0Q29uc3RydWN0LnR5cGVSZWYucmVzb2x2ZWQubm9kZU5hbWUgPT09IEFTVC5Ob2RlVHlwZS5UWVBFX0xJVEVSQUwpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVyci5hdFdob2xlTm9kZV9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJDYW4ndCBjb25zdHJ1Y3QgYSBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBU1QuZXhwclRvU3RyKGFzdENvbnN0cnVjdC50eXBlUmVmLnJlc29sdmVkKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiB1c2luZyBhIHR5cGUgY29uc3RydWN0b3JcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXN0Q29uc3RydWN0LnR5cGVSZWZcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFzdENvbnN0cnVjdC50eXBlUmVmLnJlc29sdmVkLm5vZGVOYW1lICE9PSBBU1QuTm9kZVR5cGUuVFlQRV9ERUYpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVyci5hdFdob2xlTm9kZV9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJDYW4ndCBjb25zdHJ1Y3QgdHlwZSBmb3IgdW5rbm93biB0eXBlICdcIiArIEFTVC5leHByVG9TdHIoYXN0Q29uc3RydWN0LnR5cGVSZWYucmVzb2x2ZWQpICsgXCInXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFzdENvbnN0cnVjdC50eXBlUmVmXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXN0Q29uc3RydWN0LmFzc2lnbm1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWN1cnNlUmVzQ29uc3RFeHByZXNzaW9uKGFzdENvbnN0cnVjdC5hc3NpZ25tZW50c1tpXS5ydmFsdWUsIHNvdXJjZUV4cHIsIHNjb3BlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGV4cHIucmVzb2x2ZWQgPSBleHByO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQVNULk5vZGVUeXBlLkNBTEw6XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBcIlVuaW1wbGVtZW50ZWQgY29uc3RhbnQgcmVzb2x1dGlvbiBvZiBjYWxsOiBSZXF1aXJlcyBldmFsdWF0aW9uIHN0dWZmXCI7XHJcbiAgICAgICAgICAgIGNhc2UgQVNULk5vZGVUeXBlLkxJVEVSQUw6XHJcbiAgICAgICAgICAgICAgICBleHByLnJlc29sdmVkID0gZXhwcjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEFTVC5Ob2RlVHlwZS5CSU5BUllfT1A6XHJcbiAgICAgICAgICAgICAgICBsZXQgYXN0QmluT3AgPSA8QVNULkFTVEJpbmFyeU9wZXJhdG9yPmV4cHI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3Vyc2VSZXNDb25zdEV4cHJlc3Npb24oYXN0QmluT3AubHZhbHVlLCBzb3VyY2VFeHByLCBzY29wZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlY3Vyc2VSZXNDb25zdEV4cHJlc3Npb24oYXN0QmluT3AucnZhbHVlLCBzb3VyY2VFeHByLCBzY29wZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPIGV2YWx1YXRlIHRoZSBiaW5hcnkgZXhwcmVzc2lvbiBpZiBpdHMgcG9zc2libGVcclxuICAgICAgICAgICAgICAgIGV4cHIucmVzb2x2ZWQgPSBleHByO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVyci5hdFdob2xlTm9kZV9QQU5JQyhcIkV4cGVjdGVkIGEgY29uc3RhbnQgYnV0IGdvdCBcIiArIEFTVC5leHByVG9TdHIoZXhwcikgKyBcIiBpbnN0ZWFkXCIsIGV4cHIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgYXNzZXJ0UHVyZUZ1bmN0aW9uKGZ1bmM6IEFTVC5BU1RGdW5jdGlvbiwgc3JjRnVuYzogQVNULkFTVEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5hc3NlcnRQdXJlQmxvY2soZnVuYy5ibG9jaywgc3JjRnVuYyk7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIGFzc2VydFB1cmVCbG9jayhibG9jazogQVNULkFTVEJsb2NrLCBzcmNGdW5jOiBBU1QuQVNURnVuY3Rpb24pIHtcclxuICAgICAgICBsZXQgc3RhdGVtZW50cyA9IGJsb2NrLnN0YXRlbWVudHM7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGF0ZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoc3RhdGVtZW50c1tpXS5ub2RlTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBBU1QuTm9kZVR5cGUuSUY6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRQdXJlSWYoPEFTVC5BU1RJZj5zdGF0ZW1lbnRzW2ldLCBzcmNGdW5jKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQVNULk5vZGVUeXBlLldISUxFOlxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBhc3RXaGlsZSA9IDxBU1QuQVNUV2hpbGU+c3RhdGVtZW50c1tpXTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VydEV4cHJJblB1cmVGdW5jKGFzdFdoaWxlLmNvbmRpdGlvbiwgYmxvY2suc2NvcGUsIHNyY0Z1bmMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0UHVyZUJsb2NrKGFzdFdoaWxlLmJsb2NrLCBzcmNGdW5jKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQVNULk5vZGVUeXBlLkJSRUFLOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBBU1QuTm9kZVR5cGUuQ09OVElOVUU6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEFTVC5Ob2RlVHlwZS5SRVRVUk46XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFzdFJldCA9IDxBU1QuQVNUUmV0dXJuPnN0YXRlbWVudHNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFeHBySW5QdXJlRnVuYyhhc3RSZXQucmV0dXJuVmFsdWUsIGJsb2NrLnNjb3BlLCBzcmNGdW5jKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQVNULk5vZGVUeXBlLkRFQ0xBUkFUSU9OOlxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBhc3REZWNsID0gPEFTVC5BU1REZWNsYXJhdGlvbj5zdGF0ZW1lbnRzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsZGVjbENvbXBhcmUgPSB0aGlzLnNlYXJjaERlY2xhcmF0aW9uTmFtZSg8QVNULkFTVE5hbWU+YXN0RGVjbC5sdmFsdWUsIHNyY0Z1bmMuYmxvY2suc2NvcGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsZGVjbENvbXBhcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxkZWNsQ29tcGFyZS5pblNjb3BlLnNjb3BlSUQgPCBzcmNGdW5jLmJsb2NrLnNjb3BlLnNjb3BlSUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDEvNi8yMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXROb2RlKFwiRXJyb3IgaW4gcHVyZSBmdW5jdGlvblwiLCBzcmNGdW5jKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdE5vZGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ2FuJ3QgYXNzaWduIGEgdmFsdWUgdG8gYSB2YXJpYWJsZSBvdXRzaWRlIG9mIGEgcHVyZSBmdW5jdGlvbidzIHNjb3BlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlbWVudHNbaV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0Tm9kZV9QQU5JQyhcIk91dHNpZGUgZGVjbGFyYXRpb24gZm91bmQgaGVyZVwiLCBsZGVjbENvbXBhcmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhc3REZWNsLnJ2YWx1ZSAmJiBhc3REZWNsLnJ2YWx1ZS5ub2RlTmFtZSAhPT0gQVNULk5vZGVUeXBlLkZVTkNUSU9OKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0RXhwckluUHVyZUZ1bmMoYXN0RGVjbC5ydmFsdWUsIGFzdERlY2wuaW5TY29wZSwgc3JjRnVuYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBBU1QuTm9kZVR5cGVbc3RhdGVtZW50c1tpXS5ub2RlTmFtZV0gKyBcIiBjb25zdGFudCBjaGVja2luZyBub3QgaW1wbGVtZW50ZWQgeWV0XCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJsb2NrO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBhc3NlcnRQdXJlSWYoaWZmOiBBU1QuQVNUSWYsIHNyY0Z1bmM6IEFTVC5BU1RGdW5jdGlvbikge1xyXG4gICAgICAgIHRoaXMuYXNzZXJ0RXhwckluUHVyZUZ1bmMoaWZmLmNvbmRpdGlvbiwgaWZmLmNvbnNlcXVlbmNlLnNjb3BlLnBhcmVudCwgc3JjRnVuYyk7XHJcbiAgICAgICAgdGhpcy5hc3NlcnRQdXJlQmxvY2soaWZmLmNvbnNlcXVlbmNlLCBzcmNGdW5jKTtcclxuICAgICAgICBpZiAoaWZmLmFsdGVybmF0aXZlKSB7XHJcbiAgICAgICAgICAgIGlmIChpZmYuYWx0ZXJuYXRpdmUubm9kZU5hbWUgPT09IEFTVC5Ob2RlVHlwZS5CTE9DSykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRQdXJlQmxvY2soPEFTVC5BU1RCbG9jaz5pZmYuYWx0ZXJuYXRpdmUsIHNyY0Z1bmMpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRQdXJlSWYoPEFTVC5BU1RJZj5pZmYuYWx0ZXJuYXRpdmUsIHNyY0Z1bmMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSBhc3NlcnRFeHBySW5QdXJlRnVuYyhleHByOiBBU1QuQVNURXhwcmVzc2lvbiwgZXhwclNjb3BlOiBTY29wZSwgc3JjRnVuYzogQVNULkFTVEZ1bmN0aW9uKSB7XHJcbiAgICAgICAgc3dpdGNoIChleHByLm5vZGVOYW1lKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQVNULk5vZGVUeXBlLk5BTUU6XHJcbiAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IDxBU1QuQVNUTmFtZT5leHByO1xyXG4gICAgICAgICAgICAgICAgbGV0IG5hbWVEZWNsID0gdGhpcy5zZWFyY2hEZWNsYXJhdGlvbk5hbWUobmFtZSwgZXhwclNjb3BlKTtcclxuICAgICAgICAgICAgICAgIGlmIChuYW1lRGVjbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuYW1lRGVjbC5pblNjb3BlLnNjb3BlSUQgPCBzcmNGdW5jLmJsb2NrLnNjb3BlLnNjb3BlSUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMS82LzIxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYW1lRGVjbC5hY2Nlc3NBc3NpZ25tZW50LnR5cGUgIT09IFRva2VuVHlwZS5DT05TVF9BU1NJR05NRU5UX1RLTikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXROb2RlKFwiRXJyb3IgaW4gcHVyZSBmdW5jdGlvblwiLCBzcmNGdW5jKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdE5vZGUoXCJDYW4ndCBhc3NpZ24gYSB2YWx1ZSB0byBhIHZhcmlhYmxlIG91dHNpZGUgb2YgYSBwdXJlIGZ1bmN0aW9uJ3Mgc2NvcGVcIiwgZXhwcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXROb2RlX1BBTklDKFwiT3V0c2lkZSBkZWNsYXJhdGlvbiBmb3VuZCBoZXJlXCIsIG5hbWVEZWNsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEFTVC5Ob2RlVHlwZS5UWVBFX0NPTlNUUlVDVDpcclxuICAgICAgICAgICAgICAgIHRocm93IFwiVW5pbXBsZW1lbnRlZCBwdXJpdHkgY2hlY2sgZm9yIHR5cGUgY29uc3RydWN0b3JzXCI7XHJcbiAgICAgICAgICAgIGNhc2UgQVNULk5vZGVUeXBlLkNBTEw6XHJcbiAgICAgICAgICAgICAgICBsZXQgZnVuY0NhbGwgPSA8QVNULkFTVENhbGw+ZXhwcjtcclxuICAgICAgICAgICAgICAgIGxldCBmdW5jUmVmID0gPEFTVC5BU1ROYW1lPmZ1bmNDYWxsLmZ1bmN0aW9uTmFtZVJlZjtcclxuICAgICAgICAgICAgICAgIHRocm93IFwiVW5pbXBsZW1lbnRlZCBwdXJpdHkgY2hlY2sgZm9yIGZ1bmN0aW9uIGNhbGxzXCI7XHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICBpZiAoIWZ1bmNSZWYpIHRocm93IFwiRnVuYyBjYWxsIGRvZXMgbm90IGhhdmUgYSByZWZlcmVuY2UgbmFtZVwiO1xyXG4gICAgICAgICAgICAgICAgbGV0IGZ1bmNEZWNsID0gdGhpcy5zZWFyY2hWYXJEZWNsYXJhdGlvbig8QVNULkFTVE5hbWU+ZnVuY1JlZiwgZnVuY1Njb3BlKTtcclxuICAgICAgICAgICAgICAgIGlmIChmdW5jRGVjbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmdW5jRGVjbC5pblNjb3BlLnNjb3BlSUQgPCBmdW5jU2NvcGUuc2NvcGVJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAxLzYvMjFcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZ1bmNEZWNsLmFjY2Vzc0Fzc2lnbm1lbnQudHlwZSAhPT0gVG9rZW5UeXBlLkNPTlNUX0FTU0lHTk1FTlRfVEtOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVyci5hdE5vZGVfUEFOSUMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJDYW5ub3QgY2FsbCBub24tY29uc3RhbnQgc3R1ZmYgZnJvbSBvdXRzaWRlIG9mIGEgcHVyZSBmdW5jdGlvbidzIHNjb3BlLiBUaGF0J3MgaW1wdXJlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgY2FzZSBBU1QuTm9kZVR5cGUuTElURVJBTDpcclxuICAgICAgICAgICAgICAgIC8vIHlvdSBmaW5lXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBBU1QuTm9kZVR5cGUuQklOQVJZX09QOlxyXG4gICAgICAgICAgICAgICAgbGV0IGJpbk9wID0gPEFTVC5BU1RCaW5hcnlPcGVyYXRvcj5leHByO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hc3NlcnRFeHBySW5QdXJlRnVuYyhiaW5PcC5sdmFsdWUsIGV4cHJTY29wZSwgc3JjRnVuYyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFzc2VydEV4cHJJblB1cmVGdW5jKGJpbk9wLnJ2YWx1ZSwgZXhwclNjb3BlLCBzcmNGdW5jKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEFTVC5Ob2RlVHlwZS5VTkFSWV9PUDpcclxuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0RXhwckluUHVyZUZ1bmMoKDxBU1QuQVNUVW5hcnlPcGVyYXRvcj5leHByKS52YWx1ZSwgZXhwclNjb3BlLCBzcmNGdW5jKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhyb3cgQVNULmV4cHJUb1N0cihleHByKSArIFwiIG5vdCBpbXBsZW1lbnRlZCB5ZXQgKGFzc2VydEV4cHJJblB1cmVGdW5jKVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIEdpdmVuIGFuIGV4cHJlc3Npb24gXCIzICsgNiArIGFkZCgzLCA0KVwiIG91dHB1dCB0aGUgdHlwZSBcIm51bVwiXHJcbiAgICAvLyBTaG91bGQgcHJvY2VlZCB0byBwZXJmb3JtIGFsbCB0eXBlIGNoZWNraW5nIGFuZCBpbmZlcmVuY2UgcHJvY2VkdXJlcyB3aGlsZSB0cmF2ZXJzaW5nIHRoZSBleHByZXNzaW9uIHRyZWVcclxuICAgIC8vIFVzZSBmdW5jdGlvbiBnZXRDb25zdEV4cHJlc3Npb24gZm9yIGNvbnN0YW50IGZvbGRpbmcgc3R1ZmZcclxuICAgIHByaXZhdGUgdHlwZU9mRXhwcmVzc2lvbihleHByOiBBU1QuQVNURXhwcmVzc2lvbiwgc2NvcGU6IFNjb3BlKTogQVNULkFTVEV4cHJlc3Npb24ge1xyXG4gICAgICAgIHN3aXRjaCAoZXhwci5ub2RlTmFtZSkge1xyXG4gICAgICAgICAgICBjYXNlIEFTVC5Ob2RlVHlwZS5UWVBFX0xJVEVSQUw6XHJcbiAgICAgICAgICAgIGNhc2UgQVNULk5vZGVUeXBlLkZVTkNUSU9OX1RZUEU6XHJcbiAgICAgICAgICAgICAgICBsZXQgZnVuY1R5cGVMaXRUeXBlID0gbmV3IEFTVC5BU1RUeXBlTGl0ZXJhbChleHByLmxvY1Rva2VuKTtcclxuICAgICAgICAgICAgICAgIGZ1bmNUeXBlTGl0VHlwZS50eXBlID0gVG9rZW5UeXBlLlRZUEVfVEtOO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmNUeXBlTGl0VHlwZTtcclxuICAgICAgICAgICAgY2FzZSBBU1QuTm9kZVR5cGUuTU9EVUxFOlxyXG4gICAgICAgICAgICAgICAgdGhpcy50eXBlQ2hlY2tNb2R1bGUoPEFTVC5BU1RNb2R1bGU+ZXhwcik7XHJcbiAgICAgICAgICAgICAgICBsZXQgbW9kVHlwZSA9IG5ldyBBU1QuQVNUVHlwZUxpdGVyYWwoZXhwci5sb2NUb2tlbik7XHJcbiAgICAgICAgICAgICAgICBtb2RUeXBlLnR5cGUgPSBUb2tlblR5cGUuTU9EVUxFX1RLTjtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtb2RUeXBlO1xyXG4gICAgICAgICAgICBjYXNlIEFTVC5Ob2RlVHlwZS5UWVBFX0RFRjpcclxuICAgICAgICAgICAgICAgIHRoaXMudHlwZUNoZWNrVHlwZURlZmluaXRpb24oPEFTVC5BU1RUeXBlRGVmaW5pdGlvbj5leHByKTtcclxuICAgICAgICAgICAgICAgIGxldCB0eXBlRGVmVHlwZSA9IG5ldyBBU1QuQVNUVHlwZUxpdGVyYWwoZXhwci5sb2NUb2tlbik7XHJcbiAgICAgICAgICAgICAgICB0eXBlRGVmVHlwZS50eXBlID0gVG9rZW5UeXBlLlRZUEVfVEtOO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVEZWZUeXBlO1xyXG4gICAgICAgICAgICBjYXNlIEFTVC5Ob2RlVHlwZS5GVU5DVElPTjpcclxuICAgICAgICAgICAgICAgIGxldCBhc3RGdW5jID0gPEFTVC5BU1RGdW5jdGlvbj5leHByO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50eXBlQ2hlY2tGdW5jdGlvbihhc3RGdW5jKTsgLy9UeXBlIGNoZWNrcyBib3RoIHRoZSBwYXJhbWV0ZXJzIGFuZCBpbm5lciBibG9jayBzdGF0ZW1lbnRzXHJcbiAgICAgICAgICAgICAgICBsZXQgZnVuY1R5cGUgPSBuZXcgQVNULkFTVEZ1bmN0aW9uVHlwZShhc3RGdW5jLmxvY1Rva2VuKTtcclxuICAgICAgICAgICAgICAgIGZ1bmNUeXBlLmlucHV0VHlwZSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhc3RGdW5jLnBhcmFtRGVjbGFyYXRpb24ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jVHlwZS5pbnB1dFR5cGUucHVzaChhc3RGdW5jLnBhcmFtRGVjbGFyYXRpb25baV0udHlwZS5yZXNvbHZlZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYXN0RnVuYy5yZXR1cm5UeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlQ29uc3RFeHByZXNzaW9uKGFzdEZ1bmMucmV0dXJuVHlwZSwgc2NvcGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmNUeXBlLm91dFR5cGUgPSBhc3RGdW5jLnJldHVyblR5cGUucmVzb2x2ZWQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmNUeXBlLm91dFR5cGUgPSBuZXcgQVNULkFTVFR5cGVMaXRlcmFsKGZ1bmNUeXBlLmxvY1Rva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICBmdW5jVHlwZS5vdXRUeXBlLnR5cGUgPSBUb2tlblR5cGUuVk9JRF9UWVBFX1RLTjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jVHlwZTtcclxuICAgICAgICAgICAgY2FzZSBBU1QuTm9kZVR5cGUuTkFNRTpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnR5cGVPZk5hbWUoPEFTVC5BU1ROYW1lPmV4cHIsIHNjb3BlKTtcclxuICAgICAgICAgICAgY2FzZSBBU1QuTm9kZVR5cGUuRE9UX09QOlxyXG4gICAgICAgICAgICAgICAgdGhyb3cgXCJDcnkuLi4gOy07IChEb3Qgb3BlcmF0b3Igbm90IHlldCBpbXBsZW1lbnRlZClcIjtcclxuICAgICAgICAgICAgY2FzZSBBU1QuTm9kZVR5cGUuQ0FMTDpcclxuICAgICAgICAgICAgICAgIHRocm93IFwiVW5pbXBsZW1lbnRlZCB0eXBlIG9mIGZvciBjYWxsXCI7XHJcbiAgICAgICAgICAgIC8vIGxldCBhc3RDYWxsID0gPEFTVC5BU1RDYWxsPmV4cHI7XHJcbiAgICAgICAgICAgIC8vIGxldCBwYXJhbVR5cGVzOiBBU1QuQVNURXhwcmVzc2lvbltdID0gW107XHJcbiAgICAgICAgICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgYXN0Q2FsbC5naXZlblBhcmFtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAvLyAgICAgcGFyYW1UeXBlcy5wdXNoKHRoaXMudHlwZU9mRXhwcmVzc2lvbihhc3RDYWxsLmdpdmVuUGFyYW1zW2ldLCBzY29wZSkpO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIC8vIGxldCBmdW5jUmVmID0gYXN0Q2FsbC5mdW5jdGlvbk5hbWVSZWY7XHJcbiAgICAgICAgICAgIC8vIGlmIChmdW5jUmVmLm5vZGVOYW1lICE9PSBBU1QuTm9kZVR5cGUuTkFNRSkgdGhyb3cgXCJoYXZlIG5vdCBpbXBsZW1lbnRlZCBnZW5lcmFsIGZ1bmN0aW9uIGNhbGwgeWV0XCI7XHJcblxyXG4gICAgICAgICAgICAvLyBsZXQgZnVuY0RlY2wgPSB0aGlzLnNlYXJjaERlY2xhcmF0aW9uTmFtZSg8QVNULkFTVE5hbWU+YXN0Q2FsbC5mdW5jdGlvbk5hbWVSZWYsIHBhcmFtVHlwZXMsIHNjb3BlKTtcclxuICAgICAgICAgICAgLy8gaWYgKCFmdW5jRGVjbCkgdGhyb3cgXCJmdW5jdGlvbiBkZWMgZG9lc24ndCBleGlzdFwiO1xyXG4gICAgICAgICAgICAvLyBsZXQgZnVuYyA9IDxBU1QuQVNURnVuY3Rpb24+ZnVuY0RlY2wucnZhbHVlO1xyXG4gICAgICAgICAgICAvLyBsZXQgdHlwZSA9IG5ldyBBU1QuQVNUVHlwZUxpdGVyYWwoZnVuYy5sb2NUb2tlbik7XHJcbiAgICAgICAgICAgIC8vIHR5cGUudHlwZSA9IFRva2VuVHlwZS5OVU1fVFlQRV9US047XHJcbiAgICAgICAgICAgIC8vIHRoaXMucmVzb2x2ZUNvbnN0RXhwcmVzc2lvbihmdW5jLnJldHVyblR5cGUsIHNjb3BlKTtcclxuICAgICAgICAgICAgLy8gcmV0dXJuIHRoaXMuY2FzdEFjY2VzcyhmdW5jLnJldHVyblR5cGUucmVzb2x2ZWQsIFRva2VuVHlwZS5NVVRfQ0FTVF9US04pO1xyXG4gICAgICAgICAgICBjYXNlIEFTVC5Ob2RlVHlwZS5UWVBFX0NPTlNUUlVDVDpcclxuICAgICAgICAgICAgICAgIGxldCBhc3RUeXBlQ29ucyA9IDxBU1QuQVNUVHlwZUNvbnN0cnVjdGlvbj5leHByO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50eXBlQ2hlY2tUeXBlQ29uc3RydWN0aW9uKGFzdFR5cGVDb25zLCBzY29wZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYXN0QWNjZXNzKGFzdFR5cGVDb25zLnR5cGVSZWYucmVzb2x2ZWQsIFRva2VuVHlwZS5NVVRfQ0FTVF9US04pO1xyXG4gICAgICAgICAgICBjYXNlIEFTVC5Ob2RlVHlwZS5MSVRFUkFMOlxyXG4gICAgICAgICAgICAgICAgbGV0IGFzdExpdGVyYWwgPSA8QVNULkFTVExpdGVyYWw+ZXhwcjtcclxuICAgICAgICAgICAgICAgIGxldCBhc3RMaXROZXdUeXBlTGl0ID0gbmV3IEFTVC5BU1RUeXBlTGl0ZXJhbChleHByLmxvY1Rva2VuKTtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoYXN0TGl0ZXJhbC52YWx1ZS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuTlVNRVJJQ19MSVRFUkFMX1RLTjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXN0TGl0TmV3VHlwZUxpdC50eXBlID0gVG9rZW5UeXBlLk5VTV9UWVBFX1RLTjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuU1RSSU5HX0xJVEVSQUxfVEtOOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3RMaXROZXdUeXBlTGl0LnR5cGUgPSBUb2tlblR5cGUuU1RSSU5HX1RZUEVfVEtOO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5DT05EX1RSVUVfVEtOOlxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLkNPTkRfRkFMU0VfVEtOOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3RMaXROZXdUeXBlTGl0LnR5cGUgPSBUb2tlblR5cGUuQk9PTF9UWVBFX1RLTjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJUaGUgQVNUTGl0ZXJhbCBkb2VzIG5vdCBjb250YWluIGEgbGl0ZXJhbCB0b2tlblwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FzdEFjY2Vzcyhhc3RMaXROZXdUeXBlTGl0LCBUb2tlblR5cGUuTVVUX0NBU1RfVEtOKTtcclxuICAgICAgICAgICAgY2FzZSBBU1QuTm9kZVR5cGUuVU5BUllfT1A6XHJcbiAgICAgICAgICAgICAgICBsZXQgYXN0VW5hcnkgPSA8QVNULkFTVFVuYXJ5T3BlcmF0b3I+ZXhwcjtcclxuICAgICAgICAgICAgICAgIGxldCB1bmFyeU9wID0gYXN0VW5hcnkub3BlcmF0aW9uLnR5cGU7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5uZXJUeXBlID0gdGhpcy50eXBlT2ZFeHByZXNzaW9uKGFzdFVuYXJ5LnZhbHVlLCBzY29wZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodW5hcnlPcCA9PSBUb2tlblR5cGUuQklOX05PVF9US04pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIC0+IEFsc28gY29uc2lkZXIgY2FzZSB3aGVyZSB0aGUgb3BlcmF0b3IgaXMgb3ZlcmxvYWRlZCB0byBhY3Qgb24gb3RoZXIgdHlwZXNcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0VxdWFsVG9VbmNhc3RlZFR5cGUoaW5uZXJUeXBlLCBUb2tlblR5cGUuTlVNX1RZUEVfVEtOKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHlwZUxpdGVyYWwgPSBuZXcgQVNULkFTVFR5cGVMaXRlcmFsKGV4cHIubG9jVG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlTGl0ZXJhbC50eXBlID0gVG9rZW5UeXBlLk5VTV9UWVBFX1RLTjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVMaXRlcmFsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBcIm9wZXJhdG9yIGlzIGFjdGluZyBvbiBub3QgYW4gaW50ZWdlclwiO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh1bmFyeU9wID09IFRva2VuVHlwZS5DT05EX05PVF9US04pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIC0+IEFsc28gY29uc2lkZXIgY2FzZSB3aGVyZSB0aGUgb3BlcmF0b3IgaXMgb3ZlcmxvYWRlZCB0byBhY3Qgb24gb3RoZXIgdHlwZXNcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0VxdWFsVG9VbmNhc3RlZFR5cGUoaW5uZXJUeXBlLCBUb2tlblR5cGUuQk9PTF9UWVBFX1RLTikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHR5cGVMaXRlcmFsID0gbmV3IEFTVC5BU1RUeXBlTGl0ZXJhbChleHByLmxvY1Rva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZUxpdGVyYWwudHlwZSA9IFRva2VuVHlwZS5CT09MX1RZUEVfVEtOO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZUxpdGVyYWw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IFwib3BlcmF0b3IgaXMgYWN0aW5nIG9uIG5vdCBhIGJvb2xlYW5cIjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyAtPiB3aGVuIHRoaXMgaXMgaW1wbGVtZW50ZWQgd2l0aCBvcGVyYXRvciBrZXl3b3JkLCBpdCBuZWVkcyBhIGZpbmFsIGVsc2VpZiAvIGRlZmF1bHQgY29uZGl0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB0byBnbyB0aHJvdWdoIGFsbCB0aG9zZSBvdGhlciBvcGVyYXRvcnMgdGhhdCBtYXkgaGF2ZSBiZWVuIGNyZWF0ZWQgaW4gYSBsb29wXHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJvcGVyYXRvciBkb2Vzbid0IGV4aXN0XCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgQVNULk5vZGVUeXBlLkJJTkFSWV9PUDpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnR5cGVPZkJpbmFyeU9wZXJhdG9yKDxBU1QuQVNUQmluYXJ5T3BlcmF0b3I+ZXhwciwgc2NvcGUpO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhyb3cgXCJZb3UgZG9uZSBmdWNrZWQgdXBcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHR5cGVPZk5hbWVTdGFjazogQVNULkFTVEV4cHJlc3Npb25bXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSB0eXBlT2ZOYW1lKGV4cHJOYW1lOiBBU1QuQVNUTmFtZSwgc2NvcGU6IFNjb3BlKTogQVNULkFTVEV4cHJlc3Npb24ge1xyXG4gICAgICAgIGxldCBuYW1lRGVjbCA9IHRoaXMuc2VhcmNoRGVjbGFyYXRpb25OYW1lKGV4cHJOYW1lLCBzY29wZSk7XHJcbiAgICAgICAgaWYgKCFuYW1lRGVjbCkge1xyXG4gICAgICAgICAgICB0aGlzLmVyci5hdE5vZGUoXCJDb3VsZG4ndCBmaW5kIHZhcmlhYmxlIHdpdGggbmFtZSAnXCIgKyBleHByTmFtZS5yZWZOYW1lICsgXCInXCIsIGV4cHJOYW1lKTtcclxuICAgICAgICAgICAgaWYgKHNjb3BlLmdldEVuY2xvc2luZ1Njb3BlKFNjb3BlVHlwZS5NT0RVTEVfU0NPUEUpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVyci5hZGROb3RlX1BBTklDKFwiTW9kdWxlcyBjYW4gb25seSBhY2Nlc3MgY29uc3RhbnQgdmFyaWFibGVzIG91dHNpZGUgb2YgdGhlaXIgc2NvcGVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHNjb3BlLmdldEVuY2xvc2luZ1Njb3BlKFNjb3BlVHlwZS5UWVBFX1NDT1BFKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lcnIuYWRkTm90ZV9QQU5JQyhcIlR5cGUgZGVmaW5pdGlvbnMgY2FuIG9ubHkgYWNjZXNzIGNvbnN0YW50IHZhcmlhYmxlcyBvdXRzaWRlIG9mIHRoZWlyIHNjb3BlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZXJyLnBhbmljKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChuYW1lRGVjbC5ub2RlTmFtZSA9PT0gQVNULk5vZGVUeXBlLkZVTkNUSU9OKSB0aHJvdyBcIkZ1bmN0aW9ucyBhcmVuJ3QgaW1wbGVtZW50ZWQgaGVyZSB5ZXQuLi5cIjtcclxuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAhbmFtZURlY2wuaW5TY29wZS5pc1Vub3JkZXJlZCgpICYmXHJcbiAgICAgICAgICAgIG5hbWVEZWNsLmFjY2Vzc0Fzc2lnbm1lbnQudHlwZSAhPT0gVG9rZW5UeXBlLkNPTlNUX0FTU0lHTk1FTlRfVEtOICYmXHJcbiAgICAgICAgICAgIGV4cHJOYW1lLmxvY1Rva2VuLmlzVG9rZW5CZWZvcmUobmFtZURlY2wubG9jVG9rZW4pXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXJyXHJcbiAgICAgICAgICAgICAgICAuYXRXaG9sZVRva2VuKFwiVmFyaWFibGUgaXMgdXNlZCBiZWZvcmUgaXQgaXMgZGVjbGFyZWRcIiwgZXhwck5hbWUubG9jVG9rZW4pXHJcbiAgICAgICAgICAgICAgICAuYXROb2RlKFwiRGVjbGFyYXRpb24gZm9yIHRoZSB2YXJpYWJsZSBmb3VuZCBoZXJlXCIsIG5hbWVEZWNsKVxyXG4gICAgICAgICAgICAgICAgLmFkZE5vdGVfUEFOSUMoXHJcbiAgICAgICAgICAgICAgICAgICAgXCJGb3J3YXJkIHJlZmVyZW5jaW5nIGZvciBpbW11dGFibGUgYW5kIG11dGFibGUgdmFyaWFibGVzIGlzIG5vdCBhbGxvd2VkIGluIGJsb2NrIHNjb3BlcyAoaWYsIHdoaWxlLCBmb3IsIGV0Yy4pXCJcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnR5cGVPZk5hbWVTdGFjay5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICBpZiAoZXhwck5hbWUubG9jVG9rZW4uZXF1YWxzKHRoaXMudHlwZU9mTmFtZVN0YWNrW2ldLmxvY1Rva2VuKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lcnIuYXROb2RlKFwiQ3ljbGljIGRlcGVuZGVuY3kgZm91bmQgd2hlbiB0eXBlIGNoZWNraW5nIHRoZSBmb2xsb3dpbmdcIiwgZXhwck5hbWUpO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgdGhpcy50eXBlT2ZOYW1lU3RhY2subGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVyci5hdE5vZGUoXCIuLi53aGljaCBsZWQgdG8gdHlwZSBjaGVja2luZyB0aGUgZm9sbG93aW5nXCIsIHRoaXMudHlwZU9mTmFtZVN0YWNrW2pdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuZXJyLnBhbmljKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50eXBlT2ZOYW1lU3RhY2sucHVzaChleHByTmFtZSk7XHJcbiAgICAgICAgdGhpcy50eXBlQ2hlY2tEZWNsYXJhdGlvbihuYW1lRGVjbCk7XHJcbiAgICAgICAgdGhpcy50eXBlT2ZOYW1lU3RhY2sgPSBbXTtcclxuXHJcbiAgICAgICAgLy8gU2VlIDEvNy8yMSAtIEZpeGluZyBkaXN0aW5jdGlvbiBiZXR3ZWVuIHBhc3MgYnkgdmFsdWUgYW5kIHJlZmVyZW5jZVxyXG4gICAgICAgIC8vIElmIHRoZSBmb3VuZCB2YXJpYWJsZSBpcyByZWxhdGVkIHRvIGEga25vd24gdHlwZSBsaXRlcmFsOiBudW0sIHN0cmluZywgYm9vbCBvciBmdW5jdGlvblR5cGUsXHJcbiAgICAgICAgLy8gY29weSB0aGUgdmFsdWFibGUgb2YgdGhlIHZhcmlhYmxlIGFuZCBjYXN0IGl0IHRvIGEgbXV0YWJsZSB2YWx1ZVxyXG4gICAgICAgIGlmICghdGhpcy5jaGVja0FjY2Vzc0Nhc3QobmFtZURlY2wudHlwZS5yZXNvbHZlZCwgVG9rZW5UeXBlLk1VVF9DQVNUX1RLTikpIHtcclxuICAgICAgICAgICAgbGV0IHJlc29sdmVkVHlwZSA9IG5hbWVEZWNsLnR5cGUucmVzb2x2ZWQ7XHJcbiAgICAgICAgICAgIGlmIChyZXNvbHZlZFR5cGUubm9kZU5hbWUgPT09IEFTVC5Ob2RlVHlwZS5BQ0NFU1NfQ0FTVCkge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRUeXBlID0gKDxBU1QuQVNUQWNjZXNzQ2FzdD5yZXNvbHZlZFR5cGUpLmNhc3RlZFR5cGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZWRUeXBlLm5vZGVOYW1lID09PSBBU1QuTm9kZVR5cGUuVFlQRV9MSVRFUkFMIHx8XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlZFR5cGUubm9kZU5hbWUgPT09IEFTVC5Ob2RlVHlwZS5GVU5DVElPTl9UWVBFXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FzdEFjY2VzcyhyZXNvbHZlZFR5cGUsIFRva2VuVHlwZS5NVVRfQ0FTVF9US04pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuYW1lRGVjbC50eXBlLnJlc29sdmVkO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSB0eXBlT2ZCaW5hcnlPcGVyYXRvcihiaW5hcnlPcDogQVNULkFTVEJpbmFyeU9wZXJhdG9yLCBzY29wZTogU2NvcGUpOiBBU1QuQVNURXhwcmVzc2lvbiB7XHJcbiAgICAgICAgbGV0IGxUeXBlID0gdGhpcy50eXBlT2ZFeHByZXNzaW9uKGJpbmFyeU9wLmx2YWx1ZSwgc2NvcGUpO1xyXG4gICAgICAgIGxldCByVHlwZSA9IHRoaXMudHlwZU9mRXhwcmVzc2lvbihiaW5hcnlPcC5ydmFsdWUsIHNjb3BlKTtcclxuICAgICAgICBzd2l0Y2ggKGJpbmFyeU9wLm9wZXJhdGlvbi50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLkNPTkRfT1JfVEtOOlxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5DT05EX0FORF9US046XHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLkNPTkRfWE9SX1RLTjpcclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuQ09ORF9FUVVBTFNfVEtOOiAvLyBOZWVkcyB0byBiZSBleHBhbmRlZCBmb3IgbnVtLCBzdHJpbmcsIGJvb2wsIHR5cGUsIGV0Yy4uLlxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5DT05EX05PVF9FUVVBTFNfVEtOOiAvLyBTYW1lIHRoaW5nIGFzIGNvbmRfZXF1YWxzXHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLkNPTkRfTEVTU19USEFOX1RLTjpcclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuQ09ORF9MRVNTX1RIQU5fRVFVQUxfVEtOOlxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5DT05EX0dSRUFURVJfVEhBTl9US046XHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLkNPTkRfR1JFQVRFUl9USEFOX0VRVUFMX1RLTjpcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzRXF1YWxUb1VuY2FzdGVkVHlwZShsVHlwZSwgVG9rZW5UeXBlLkJPT0xfVFlQRV9US04pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNFcXVhbFRvVW5jYXN0ZWRUeXBlKHJUeXBlLCBUb2tlblR5cGUuQk9PTF9UWVBFX1RLTikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHR5cGVMaXQgPSBuZXcgQVNULkFTVFR5cGVMaXRlcmFsKGJpbmFyeU9wLmxvY1Rva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZUxpdC50eXBlID0gPEFTVC5UeXBlTGl0ZXJhbFRva2VuPlRva2VuVHlwZS5CT09MX1RZUEVfVEtOO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYXN0QWNjZXNzKHR5cGVMaXQsIFRva2VuVHlwZS5NVVRfQ0FTVF9US04pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXRXaG9sZU5vZGUoXCJFcnJvciB3aGlsZSB0eXBlIGNoZWNraW5nIG9wZXJhdG9yXCIsIGJpbmFyeU9wKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0V2hvbGVOb2RlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiUmlnaHQgaGFuZCBzaWRlIG9mIG9wZXJhdG9yIGV4cGVjdGVkIHRvIGJlIG9mIHR5cGUgYm9vbCBidXQgZ290IFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQVNULmV4cHJUb1N0cihyVHlwZSkgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiBpbnN0ZWFkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluYXJ5T3AucnZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkTm90ZV9QQU5JQyhcIk5vIG90aGVyIG1hdGNoaW5nIG9wZXJhdG9yIG92ZXJsb2Fkc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdFdob2xlTm9kZShcIkVycm9yIHdoaWxlIHR5cGUgY2hlY2tpbmcgb3BlcmF0b3JcIiwgYmluYXJ5T3ApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdFdob2xlTm9kZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiTGVmdCBoYW5kIHNpZGUgb2Ygb3BlcmF0b3IgZXhwZWN0ZWQgdG8gYmUgb2YgdHlwZSBib29sIGJ1dCBnb3QgXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFTVC5leHByVG9TdHIobFR5cGUpICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiBpbnN0ZWFkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaW5hcnlPcC5sdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkTm90ZV9QQU5JQyhcIk5vIG90aGVyIG1hdGNoaW5nIG9wZXJhdG9yIG92ZXJsb2Fkc1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuQklOX09SX1RLTjpcclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuQklOX0FORF9US046XHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLkJJTl9YT1JfVEtOOlxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5CSU5fU0hJRlRfUklHSFRfVEtOOlxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5CSU5fU0hJRlRfQVJJVEhNRVRJQ19SSUdIVF9US046XHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLkJJTl9TSElGVF9MRUZUX1RLTjpcclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuT1BfQUREX1RLTjpcclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuT1BfU1VCVFJfVEtOOlxyXG4gICAgICAgICAgICBjYXNlIFRva2VuVHlwZS5PUF9NVUxUX1RLTjpcclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuT1BfRElWSURFX1RLTjpcclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuT1BfQ0FSUk9UX1RLTjpcclxuICAgICAgICAgICAgY2FzZSBUb2tlblR5cGUuT1BfTU9EVUxVU19US046XHJcbiAgICAgICAgICAgIGNhc2UgVG9rZW5UeXBlLk9QX1NVQlRSX1RLTjpcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzRXF1YWxUb1VuY2FzdGVkVHlwZShsVHlwZSwgVG9rZW5UeXBlLk5VTV9UWVBFX1RLTikpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0VxdWFsVG9VbmNhc3RlZFR5cGUoclR5cGUsIFRva2VuVHlwZS5OVU1fVFlQRV9US04pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0eXBlTGl0ID0gbmV3IEFTVC5BU1RUeXBlTGl0ZXJhbChiaW5hcnlPcC5sb2NUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVMaXQudHlwZSA9IDxBU1QuVHlwZUxpdGVyYWxUb2tlbj5Ub2tlblR5cGUuTlVNX1RZUEVfVEtOO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYXN0QWNjZXNzKHR5cGVMaXQsIFRva2VuVHlwZS5NVVRfQ0FTVF9US04pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXRXaG9sZU5vZGUoXCJFcnJvciB3aGlsZSB0eXBlIGNoZWNraW5nIG9wZXJhdG9yXCIsIGJpbmFyeU9wKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0V2hvbGVOb2RlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiUmlnaHQgaGFuZCBzaWRlIG9mIG9wZXJhdG9yIGV4cGVjdGVkIHRvIGJlIG9mIHR5cGUgbnVtIGJ1dCBnb3QgXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBU1QuZXhwclRvU3RyKHJUeXBlKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiIGluc3RlYWRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaW5hcnlPcC5ydmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGROb3RlX1BBTklDKFwiTm8gb3RoZXIgbWF0Y2hpbmcgb3BlcmF0b3Igb3ZlcmxvYWRzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0V2hvbGVOb2RlKFwiRXJyb3Igd2hpbGUgdHlwZSBjaGVja2luZyBvcGVyYXRvclwiLCBiaW5hcnlPcClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0V2hvbGVOb2RlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJMZWZ0IGhhbmQgc2lkZSBvZiBvcGVyYXRvciBleHBlY3RlZCB0byBiZSBvZiB0eXBlIG51bSBidXQgZ290IFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBU1QuZXhwclRvU3RyKGxUeXBlKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgaW5zdGVhZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmluYXJ5T3AubHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmFkZE5vdGVfUEFOSUMoXCJObyBvdGhlciBtYXRjaGluZyBvcGVyYXRvciBvdmVybG9hZHNcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBcIlVua25vd24gYmluYXJ5IG9wZXJhdG9yXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gQXR0ZW1wdHMgdG8gZmluZCB0aGUgZGVjbGFyYXRpb24gZ2l2ZW4gYSBuYW1lIGFuZCBhbiBvcHRpb25hbCBzZXQgb2YgcGFyYW1ldGVyc1xyXG4gICAgcHJpdmF0ZSBzZWFyY2hEZWNsYXJhdGlvbk5hbWUobmFtZTogQVNULkFTVE5hbWUsIHNjb3BlOiBTY29wZSk6IEFTVC5BU1REZWNsYXJhdGlvbiB8IHVuZGVmaW5lZCB7XHJcbiAgICAgICAgaWYgKCFzY29wZSkgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICBsZXQgb3V0ZXJEZWNsID0gdGhpcy5zZWFyY2hEZWNsYXJhdGlvbk5hbWUobmFtZSwgc2NvcGUucGFyZW50KTsgLy9GaW5kIG91dGVybW9zdCBkZWNsYXJhdGlvblxyXG5cclxuICAgICAgICBsZXQgZGVjbCA9IHNjb3BlLnRhYmxlLmdldChuYW1lLnJlZk5hbWUpO1xyXG4gICAgICAgIGlmICghb3V0ZXJEZWNsKSByZXR1cm4gZGVjbDtcclxuXHJcbiAgICAgICAgLy9XaGlsZSBiYWNrdHJhY2tpbmcsIGlmIHdlIGVuY291bnRlciBhIHR5cGUgb3IgbW9kdWxlIHNjb3BlLCB0aGVuIGRpc2NhcmQgZXZlcnl0aGluZyBtdXRhYmxlIGFuZCBpbW11dGFibGUgaW4gdGhlIG91dGVyIHNjb3BlXHJcbiAgICAgICAgaWYgKHNjb3BlLnNjb3BlVHlwZSA9PT0gU2NvcGVUeXBlLk1PRFVMRV9TQ09QRSB8fCBzY29wZS5zY29wZVR5cGUgPT09IFNjb3BlVHlwZS5UWVBFX1NDT1BFKSB7XHJcbiAgICAgICAgICAgIGlmICghb3V0ZXJEZWNsLmFjY2Vzc0Fzc2lnbm1lbnQgfHwgb3V0ZXJEZWNsLmFjY2Vzc0Fzc2lnbm1lbnQudHlwZSAhPT0gVG9rZW5UeXBlLkNPTlNUX0FTU0lHTk1FTlRfVEtOKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWRlY2wpIHJldHVybiBvdXRlckRlY2w7XHJcblxyXG4gICAgICAgIGlmIChvdXRlckRlY2wuaW5TY29wZS5pc1Vub3JkZXJlZCgpIHx8IG91dGVyRGVjbC5sb2NUb2tlbi5pc1Rva2VuQmVmb3JlKGRlY2wubG9jVG9rZW4pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvdXRlckRlY2w7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRlY2w7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gR29hbCBpcyB0byB0cmF2ZXJzZSB0aGUgY29tcGxldGVkIEFTVCwgZG8gdHlwZSBjaGVja2luZyBhbmQgYXR0ZW1wdCB0byB0eXBlIGluZmVyIHdoYXRldmVyIGlzIG5lZWRlZFxyXG4gICAgdHlwZUNoZWNrUHJvZ3JhbShwcmdtOiBBU1QuQVNUUHJvZ3JhbSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJnbS5kZWNsYXJhdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy50eXBlQ2hlY2tEZWNsYXJhdGlvbihwcmdtLmRlY2xhcmF0aW9uc1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSB0eXBlQ2hlY2tCbG9jayhibG9jazogQVNULkFTVEJsb2NrLCBleHBlY3RlZFJldHVyblR5cGU6IEFTVC5BU1RFeHByZXNzaW9uIHwgdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBibG9jay53aXRoTW9kdWxlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAvLyBUT0RPIGhhbmRsZSBnZXR0aW5nIGFsbCB0aGUgd2l0aE1vZHVsZXNcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBibG9jay5zdGF0ZW1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBzdGF0ZW1lbnQgPSBibG9jay5zdGF0ZW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHN0YXRlbWVudC5ub2RlTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgLy93aGlsZVxyXG4gICAgICAgICAgICAgICAgLy9mb3IgaXRlbSwgaW5kZXggaW4gYXJyYXkge31cclxuICAgICAgICAgICAgICAgIC8vb3BlcmF0b3IgZGVmaW5pdGlvblxyXG4gICAgICAgICAgICAgICAgY2FzZSBBU1QuTm9kZVR5cGUuSUY6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlQ2hlY2tJZig8QVNULkFTVElmPnN0YXRlbWVudCwgZXhwZWN0ZWRSZXR1cm5UeXBlLCBibG9jay5zY29wZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEFTVC5Ob2RlVHlwZS5XSElMRTpcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYXN0V2hpbGUgPSA8QVNULkFTVFdoaWxlPnN0YXRlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgd2hpbGVDb25kaXRpb24gPSB0aGlzLnR5cGVPZkV4cHJlc3Npb24oYXN0V2hpbGUuY29uZGl0aW9uLCBibG9jay5zY29wZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzRXF1YWxUb1VuY2FzdGVkVHlwZSh3aGlsZUNvbmRpdGlvbiwgVG9rZW5UeXBlLkJPT0xfVFlQRV9US04pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyLmF0Tm9kZV9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiV2hpbGUgc3RhdGVtZW50IGNvbmRpdGlvbiBleHBlY3RlZCB0byBiZSBhIGJvb2xlYW4gYnV0IGZvdW5kIFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBU1QuZXhwclRvU3RyKHdoaWxlQ29uZGl0aW9uKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgaW5zdGVhZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN0V2hpbGUuY29uZGl0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHlwZUNoZWNrQmxvY2soYXN0V2hpbGUuYmxvY2ssIGV4cGVjdGVkUmV0dXJuVHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEFTVC5Ob2RlVHlwZS5GT1I6XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFzdEZvciA9IDxBU1QuQVNURm9yPnN0YXRlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWFzdEZvci5pdGVtUGFyYW1EZWMgJiYgIWFzdEZvci5pbmRleFBhcmFtRGVjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IFwiRWl0aGVyIGluZGV4IG9yIGl0ZW0gbXVzdCBiZSBkZWZpbmVkIFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBcInVuaW1wbGVtZW50ZWQgZm9yIGxvb3AgY29uZGl0aW9uXCI7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEFTVC5Ob2RlVHlwZS5CUkVBSzpcclxuICAgICAgICAgICAgICAgIGNhc2UgQVNULk5vZGVUeXBlLkNPTlRJTlVFOlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBBU1QuTm9kZVR5cGUuUkVUVVJOOlxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBhc3RSZXR1cm4gPSA8QVNULkFTVFJldHVybj5zdGF0ZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4cGVjdGVkUmV0dXJuVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFzdFJldHVybi5yZXR1cm5WYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXRXaG9sZU5vZGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiRW5jbG9zaW5nIGZ1bmN0aW9uIGhhcyByZXR1cm4gdHlwZSBvZiBcIiArIEFTVC5leHByVG9TdHIoZXhwZWN0ZWRSZXR1cm5UeXBlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWRSZXR1cm5UeXBlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdE5vZGVfUEFOSUMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiUmV0dXJuIHN0YXRlbWVudCBleHBlY3RlZCB0byByZXR1cm4gYW4gZXhwcmVzc2lvbiBidXQgaW5zdGVhZCBnb3Qgbm90aGluZ1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3RSZXR1cm5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXR1cm5WYWxUeXBlID0gdGhpcy50eXBlT2ZFeHByZXNzaW9uKGFzdFJldHVybi5yZXR1cm5WYWx1ZSwgYmxvY2suc2NvcGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja0FjY2Vzc0Nhc3QoZXhwZWN0ZWRSZXR1cm5UeXBlLCBUb2tlblR5cGUuQ09OU1RfQ0FTVF9US04pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmVDb25zdEV4cHJlc3Npb24ocmV0dXJuVmFsVHlwZSwgYmxvY2suc2NvcGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsVHlwZSA9IHRoaXMuY2FzdEFjY2VzcyhyZXR1cm5WYWxUeXBlLnJlc29sdmVkLCBUb2tlblR5cGUuQ09OU1RfQ0FTVF9US04pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2hlY2tBY2Nlc3NDYXN0KGV4cGVjdGVkUmV0dXJuVHlwZSwgVG9rZW5UeXBlLklNTVVUX0NBU1RfVEtOKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuVmFsVHlwZSA9IHRoaXMuY2FzdEFjY2VzcyhyZXR1cm5WYWxUeXBlLCBUb2tlblR5cGUuSU1NVVRfQ0FTVF9US04pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2hlY2tBY2Nlc3NDYXN0KGV4cGVjdGVkUmV0dXJuVHlwZSwgVG9rZW5UeXBlLk1VVF9DQVNUX1RLTikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrQWNjZXNzQ2FzdChyZXR1cm5WYWxUeXBlLCBUb2tlblR5cGUuQ09OU1RfQ0FTVF9US04pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0V2hvbGVOb2RlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJSZXR1cm4gdHlwZSBvZiBmdW5jdGlvbiBpcyBvZiB0eXBlIFwiICsgQVNULmV4cHJUb1N0cihleHBlY3RlZFJldHVyblR5cGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWRSZXR1cm5UeXBlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0V2hvbGVOb2RlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJDb25zdCByZWZlcmVuY2UgdG8gYSB0eXBlIGluc3RhbmNlIGNhbid0IGJlIGNhc3RlZCB0byBhIG11dGFibGUgdHlwZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN0UmV0dXJuLnJldHVyblZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZE5vdGVfUEFOSUMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkNhc3RpbmcgdGhlIHJlZmVyZW5jZSB0byBhIG11dGFibGUgdHlwZSB3b3VsZCBlbmFibGUgbW9kaWZpY2F0aW9uIG9mIHRoZSBvcmlnaW5hbCBjb25zdCB2YXJpYWJsZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja0FjY2Vzc0Nhc3QocmV0dXJuVmFsVHlwZSwgVG9rZW5UeXBlLklNTVVUX0NBU1RfVEtOKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdFdob2xlTm9kZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiUmV0dXJuIHR5cGUgb2YgZnVuY3Rpb24gaXMgb2YgdHlwZSBcIiArIEFTVC5leHByVG9TdHIoZXhwZWN0ZWRSZXR1cm5UeXBlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkUmV0dXJuVHlwZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdFdob2xlTm9kZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiSW1tdXRhYmxlIHJlZmVyZW5jZSB0byBhIHR5cGUgaW5zdGFuY2UgY2FuJ3QgYmUgY2FzdGVkIHRvIGEgbXV0YWJsZSB0eXBlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3RSZXR1cm4ucmV0dXJuVmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkTm90ZV9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ2FzdGluZyB0aGUgcmVmZXJlbmNlIHRvIGEgbXV0YWJsZSB0eXBlIHdvdWxkIGVuYWJsZSBtb2RpZmljYXRpb24gb2YgdGhlIG9yaWdpbmFsIGltbXV0YWJsZSB2YXJpYWJsZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWxUeXBlID0gdGhpcy5jYXN0QWNjZXNzKHJldHVyblZhbFR5cGUsIFRva2VuVHlwZS5NVVRfQ0FTVF9US04pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc1R5cGVFcXVhbChleHBlY3RlZFJldHVyblR5cGUsIHJldHVyblZhbFR5cGUsIGJsb2NrLnNjb3BlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXRXaG9sZU5vZGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiTWlzbWF0Y2ggYmV0d2VlbiBmdW5jdGlvbiByZXR1cm4gdHlwZSBhbmQgcmV0dXJuIHN0YXRlbWVudCBleHByZXNzaW9uIHdpdGggdHlwZSBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBU1QuZXhwclRvU3RyKHJldHVyblZhbFR5cGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWxUeXBlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdFdob2xlTm9kZV9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJGdW5jdGlvbiByZXR1cm4gdHlwZSBleHBlY3RlZCB0byBiZSBcIiArIEFTVC5leHByVG9TdHIoZXhwZWN0ZWRSZXR1cm5UeXBlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWRSZXR1cm5UeXBlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhc3RSZXR1cm4ucmV0dXJuVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyLmF0V2hvbGVOb2RlX1BBTklDKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiRnVuY3Rpb24gaGFzIGltcGxpY2l0IHJldHVybiB0eXBlIG9mIHZvaWQuIEV4cGVjdGVkIHRvIHJldHVybiB3aXRoIG5vIGV4cHJlc3Npb24gYnV0IGZvdW5kIHRoZSBmb2xsb3dpbmdcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3RSZXR1cm4ucmV0dXJuVmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEFTVC5Ob2RlVHlwZS5ERUNMQVJBVElPTjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGVDaGVja0RlY2xhcmF0aW9uKDxBU1QuQVNURGVjbGFyYXRpb24+c3RhdGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgXCJVbmltcGxlbWVudGVkIHR5cGUgY2hlY2tpbmcgaW4gYmxvY2tcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgdHlwZUNoZWNrSWYoaWZmOiBBU1QuQVNUSWYsIGV4cGVjdGVkUmV0dXJuVHlwZTogQVNULkFTVEV4cHJlc3Npb24gfCB1bmRlZmluZWQsIHNjb3BlOiBTY29wZSkge1xyXG4gICAgICAgIGxldCBpZkNvbmRpdGlvblR5cGUgPSB0aGlzLnR5cGVPZkV4cHJlc3Npb24oaWZmLmNvbmRpdGlvbiwgc2NvcGUpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRXF1YWxUb1VuY2FzdGVkVHlwZShpZkNvbmRpdGlvblR5cGUsIFRva2VuVHlwZS5CT09MX1RZUEVfVEtOKSkge1xyXG4gICAgICAgICAgICBpZiAoaWZmLmNvbnNlcXVlbmNlKSB0aGlzLnR5cGVDaGVja0Jsb2NrKGlmZi5jb25zZXF1ZW5jZSwgZXhwZWN0ZWRSZXR1cm5UeXBlKTtcclxuICAgICAgICAgICAgaWYgKGlmZi5hbHRlcm5hdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlmZi5hbHRlcm5hdGl2ZS5ub2RlTmFtZSA9PT0gQVNULk5vZGVUeXBlLkJMT0NLKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlQ2hlY2tCbG9jayg8QVNULkFTVEJsb2NrPmlmZi5hbHRlcm5hdGl2ZSwgZXhwZWN0ZWRSZXR1cm5UeXBlKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlQ2hlY2tJZig8QVNULkFTVElmPmlmZi5hbHRlcm5hdGl2ZSwgZXhwZWN0ZWRSZXR1cm5UeXBlLCBzY29wZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmVyci5hdE5vZGVfUEFOSUMoXHJcbiAgICAgICAgICAgICAgICBcIklmIHN0YXRlbWVudCBjb25kaXRpb25hbCBtdXN0IGJlIGEgYm9vbGVhbi4gSW5zdGVhZCBmb3VuZCBcIiArIEFTVC5leHByVG9TdHIoaWZDb25kaXRpb25UeXBlKSxcclxuICAgICAgICAgICAgICAgIGlmZi5jb25kaXRpb25cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBHb2FsIGlzIHRvIHR5cGUgY2hlY2sgYW5kL29yIGluZmVyIHRoZSBkZWNsYXJhdGlvbiB0eXBlXHJcbiAgICBwcml2YXRlIHR5cGVDaGVja0RlY2xhcmF0aW9uKGRlY2w6IEFTVC5BU1REZWNsYXJhdGlvbikge1xyXG4gICAgICAgIGlmIChkZWNsLmhhc1R5cGVDaGVja2VkKSByZXR1cm47IC8vIERlY2xhcmF0aW9uIGhhcyBhbHJlYWR5IGJlZW4gdHlwZSBjaGVja2VkIHNvIGRvbid0IGRvIGl0IGFnYWluXHJcblxyXG4gICAgICAgIGlmIChkZWNsLnR5cGUpIHRoaXMucmVzb2x2ZVR5cGVFeHByZXNzaW9uKGRlY2wudHlwZSwgZGVjbC5pblNjb3BlKTtcclxuICAgICAgICBpZiAoZGVjbC5ydmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKGRlY2wucnZhbHVlLm5vZGVOYW1lID09PSBBU1QuTm9kZVR5cGUuTU9EVUxFKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVjbC5sdmFsdWUubm9kZU5hbWUgIT09IEFTVC5Ob2RlVHlwZS5OQU1FKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnIuYXROb2RlX1BBTklDKFwiTW9kdWxlIGRlY2xhcmF0aW9uIG11c3QgZGVjbGFyZSBhIG5ldyBzaW5nbGUgdmFyaWFibGUgbmFtZVwiLCBkZWNsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChkZWNsLmFjY2Vzc0Fzc2lnbm1lbnQudHlwZSAhPT0gVG9rZW5UeXBlLkNPTlNUX0FTU0lHTk1FTlRfVEtOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnIuYXRUb2tlbl9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJNb2R1bGUgZGVjbGFyYXRpb25zIG11c3QgYmUgY29uc3RhbnQ6IFwiICsgQVNULmV4cHJUb1N0cihkZWNsLmx2YWx1ZSkgKyBcIiA9PiBtb2R1bGUgey4uLn1cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVjbC5hY2Nlc3NBc3NpZ25tZW50XHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZGVjbC5ydmFsdWUubm9kZU5hbWUgPT09IEFTVC5Ob2RlVHlwZS5UWVBFX0RFRikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlY2wubHZhbHVlLm5vZGVOYW1lICE9PSBBU1QuTm9kZVR5cGUuTkFNRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyLmF0Tm9kZV9QQU5JQyhcIlR5cGUgZGVmaW5pdGlvbiBtdXN0IGRlY2xhcmUgYSBuZXcgc2luZ2xlIHZhcmlhYmxlIG5hbWVcIiwgZGVjbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVjbC5hY2Nlc3NBc3NpZ25tZW50LnR5cGUgIT09IFRva2VuVHlwZS5DT05TVF9BU1NJR05NRU5UX1RLTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyLmF0VG9rZW5fUEFOSUMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiVHlwZSBkZWZpbml0aW9ucyBtdXN0IGJlIGNvbnN0YW50OiBcIiArIEFTVC5leHByVG9TdHIoZGVjbC5sdmFsdWUpICsgXCIgPT4gdHlwZSB7Li4ufVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNsLmFjY2Vzc0Fzc2lnbm1lbnRcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBleHByZXNzaW9uVHlwZSE6IEFTVC5BU1RFeHByZXNzaW9uO1xyXG4gICAgICAgICAgICBpZiAoZGVjbC5hY2Nlc3NBc3NpZ25tZW50LnR5cGUgPT09IFRva2VuVHlwZS5DT05TVF9BU1NJR05NRU5UX1RLTikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlQ29uc3RFeHByZXNzaW9uKGRlY2wucnZhbHVlLCBkZWNsLmluU2NvcGUpO1xyXG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvblR5cGUgPSB0aGlzLmNhc3RBY2Nlc3MoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlT2ZFeHByZXNzaW9uKGRlY2wucnZhbHVlLnJlc29sdmVkLCBkZWNsLmluU2NvcGUpLFxyXG4gICAgICAgICAgICAgICAgICAgIFRva2VuVHlwZS5DT05TVF9DQVNUX1RLTlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChkZWNsLmFjY2Vzc0Fzc2lnbm1lbnQudHlwZSA9PT0gVG9rZW5UeXBlLklNTVVUQUJMRV9BU1NJR05NRU5UX1RLTikge1xyXG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvblR5cGUgPSB0aGlzLmNhc3RBY2Nlc3MoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlT2ZFeHByZXNzaW9uKGRlY2wucnZhbHVlLCBkZWNsLmluU2NvcGUpLFxyXG4gICAgICAgICAgICAgICAgICAgIFRva2VuVHlwZS5JTU1VVF9DQVNUX1RLTlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChkZWNsLmFjY2Vzc0Fzc2lnbm1lbnQudHlwZSA9PT0gVG9rZW5UeXBlLk1VVEFCTEVfQVNTSUdOTUVOVF9US04pIHtcclxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb25UeXBlID0gdGhpcy50eXBlT2ZFeHByZXNzaW9uKGRlY2wucnZhbHVlLCBkZWNsLmluU2NvcGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tBY2Nlc3NDYXN0KGV4cHJlc3Npb25UeXBlLCBUb2tlblR5cGUuQ09OU1RfQ0FTVF9US04pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0V2hvbGVOb2RlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJUaGUgcmlnaHQgc2lkZSB2YWx1ZSBvZiB0aGUgZGVjbGFyYXRpb24gaXMgb2YgaW5mZXJyZWQgdHlwZSBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQVNULmV4cHJUb1N0cihleHByZXNzaW9uVHlwZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNsLnJ2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdFdob2xlTm9kZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ29uc3RhbnQgcmVmZXJlbmNlIHRvIGEgdHlwZSBpbnN0YW5jZSBjYW4ndCBiZSBhc3NpZ25lZCB0byBhIG11dGFibGUgdmFyaWFibGVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY2xcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYWRkTm90ZV9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ2FzdGluZyB0aGUgcmVmZXJlbmNlIHRvIGEgbXV0YWJsZSB0eXBlIHdvdWxkIGVuYWJsZSBtb2RpZmljYXRpb24gb2YgdGhlIG9yaWdpbmFsIGNvbnN0IHZhcmlhYmxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrQWNjZXNzQ2FzdChleHByZXNzaW9uVHlwZSwgVG9rZW5UeXBlLklNTVVUX0NBU1RfVEtOKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdFdob2xlTm9kZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiVGhlIHJpZ2h0IHNpZGUgdmFsdWUgb2YgdGhlIGRlY2xhcmF0aW9uIGlzIG9mIGluZmVycmVkIHR5cGUgXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFTVC5leHByVG9TdHIoZXhwcmVzc2lvblR5cGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjbC5ydmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXRXaG9sZU5vZGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkltbXV0YWJsZSByZWZlcmVuY2UgdG8gYSB0eXBlIGluc3RhbmNlIGNhbid0IGJlIGFzc2lnbmVkIHRvIGEgbXV0YWJsZSB2YXJpYWJsZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGROb3RlX1BBTklDKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJDYXN0aW5nIHRoZSByZWZlcmVuY2UgdG8gYSBtdXRhYmxlIHR5cGUgd291bGQgZW5hYmxlIG1vZGlmaWNhdGlvbiBvZiB0aGUgb3JpZ2luYWwgaW1tdXRhYmxlIHZhcmlhYmxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb25UeXBlID0gdGhpcy5jYXN0QWNjZXNzKGV4cHJlc3Npb25UeXBlLCBUb2tlblR5cGUuTVVUX0NBU1RfVEtOKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCFkZWNsLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGRlY2wudHlwZSA9IG5ldyBBU1QuQVNUVHlwZUxpdGVyYWwoZGVjbC5sdmFsdWUubG9jVG9rZW4pOyAvL0FyYnJpdHJhcnkgcGxhY2Vob2xkZXIgZW1wdHkgdHlwZVxyXG4gICAgICAgICAgICAgICAgZGVjbC50eXBlLnJlc29sdmVkID0gZXhwcmVzc2lvblR5cGU7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyB2YXJpYWJsZTogbXV0IG51bSB+PSAzO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hlY2tBY2Nlc3NDYXN0KGRlY2wudHlwZS5yZXNvbHZlZCwgVG9rZW5UeXBlLkNPTlNUX0NBU1RfVEtOKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWNsLmFjY2Vzc0Fzc2lnbm1lbnQudHlwZSAhPT0gVG9rZW5UeXBlLkNPTlNUX0FTU0lHTk1FTlRfVEtOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXRXaG9sZVRva2VuKFwiTWlzbWF0Y2ggYmV0d2VlbiB2YXJpYWJsZSB0eXBlIGFuZCBhc3NpZ25tZW50IHR5cGVcIiwgZGVjbC5hY2Nlc3NBc3NpZ25tZW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZE5vdGVfUEFOSUMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJVc2UgPT4gdG8gZGVub3RlIGNvbnN0IGFzc2lnbm1lbnQgXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBU1QuZXhwclRvU3RyKGRlY2wubHZhbHVlKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiOiBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFTVC5leHByVG9TdHIoZGVjbC50eXBlKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiID0+IFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQVNULmV4cHJUb1N0cihkZWNsLnJ2YWx1ZSkgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2hlY2tBY2Nlc3NDYXN0KGRlY2wudHlwZS5yZXNvbHZlZCwgVG9rZW5UeXBlLklNTVVUX0NBU1RfVEtOKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWNsLmFjY2Vzc0Fzc2lnbm1lbnQudHlwZSAhPT0gVG9rZW5UeXBlLklNTVVUQUJMRV9BU1NJR05NRU5UX1RLTikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVyclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0V2hvbGVUb2tlbihcIk1pc21hdGNoIGJldHdlZW4gdmFyaWFibGUgdHlwZSBhbmQgYXNzaWdubWVudCB0eXBlXCIsIGRlY2wuYWNjZXNzQXNzaWdubWVudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hZGROb3RlX1BBTklDKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiVXNlID0gdG8gZGVub3RlIGltbXV0YWJsZSBhc3NpZ25tZW50IFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQVNULmV4cHJUb1N0cihkZWNsLmx2YWx1ZSkgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjogXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBU1QuZXhwclRvU3RyKGRlY2wudHlwZSkgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiA9IFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQVNULmV4cHJUb1N0cihkZWNsLnJ2YWx1ZSkgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjtcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2hlY2tBY2Nlc3NDYXN0KGRlY2wudHlwZS5yZXNvbHZlZCwgVG9rZW5UeXBlLk1VVF9DQVNUX1RLTikpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVjbC5hY2Nlc3NBc3NpZ25tZW50LnR5cGUgIT09IFRva2VuVHlwZS5NVVRBQkxFX0FTU0lHTk1FTlRfVEtOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXRXaG9sZVRva2VuKFwiTWlzbWF0Y2ggYmV0d2VlbiB2YXJpYWJsZSB0eXBlIGFuZCBhc3NpZ25tZW50IHR5cGVcIiwgZGVjbC5hY2Nlc3NBc3NpZ25tZW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmFkZE5vdGVfUEFOSUMoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJVc2Ugfj0gdG8gZGVub3RlIG11dCBhc3NpZ25tZW50IFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQVNULmV4cHJUb1N0cihkZWNsLmx2YWx1ZSkgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjogXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBU1QuZXhwclRvU3RyKGRlY2wudHlwZSkgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiB+PSBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFTVC5leHByVG9TdHIoZGVjbC5ydmFsdWUpICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI7XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzVHlwZUVxdWFsKGRlY2wudHlwZS5yZXNvbHZlZCwgZXhwcmVzc2lvblR5cGUsIGRlY2wuaW5TY29wZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmVyclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXROb2RlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJUeXBlIG1pc21hdGNoIGJldHdlZW4gZGVjbGFyZWQgdHlwZSBhbmQgZXhwcmVzc2lvbiB0eXBlLiBUaGUgaW5mZXJyZWQgZGVjbGFyZSB0eXBlIGlzIFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBU1QuZXhwclRvU3RyKGRlY2wudHlwZS5yZXNvbHZlZCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNsLnR5cGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXROb2RlX1BBTklDKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJUaGUgZXhwcmVzc2lvbiBoYXMgYW4gaW5mZXJyZWQgdHlwZSBvZiBcIiArIEFTVC5leHByVG9TdHIoZXhwcmVzc2lvblR5cGUpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjbC5ydmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChkZWNsLnR5cGUucmVzb2x2ZWQubm9kZU5hbWUgPT09IEFTVC5Ob2RlVHlwZS5BQ0NFU1NfQ0FTVCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGNhc3QgPSA8QVNULkFTVEFjY2Vzc0Nhc3Q+ZGVjbC50eXBlLnJlc29sdmVkO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhc3QuYWNjZXNzVHlwZSA9PT0gVG9rZW5UeXBlLkNPTlNUX0NBU1RfVEtOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnIuYXROb2RlX1BBTklDKFwiQ29uc3RhbnQgZGVjbGFyYXRpb25zIG11c3QgZGVmaW5lIGEgcmlnaHQgc2lkZSB2YWx1ZVwiLCBkZWNsKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVjbC5hY2Nlc3NBc3NpZ25tZW50ID0gVG9rZW4uZnJvbVR5cGUoVG9rZW5UeXBlLk1VVEFCTEVfQVNTSUdOTUVOVF9US04sIGRlY2wudHlwZS5sb2NUb2tlbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkZWNsLmFjY2Vzc0Fzc2lnbm1lbnQgPSBUb2tlbi5mcm9tVHlwZShUb2tlblR5cGUuSU1NVVRBQkxFX0FTU0lHTk1FTlRfVEtOLCBkZWNsLnR5cGUubG9jVG9rZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBIYW5kbGUgY2hlY2tpbmcgZm9yIHNjb3BlcywgbWF0Y2hpbiBkZWNsYXJhdGlvbiB0eXBlcyB0byBhc3NpZ25tZW50cyBhbmQgZW5zdWluZyB0aGF0IGFjY2VzcyBtb2RpZmllcnMgYXJlIGFkaGVyZWQgdG9cclxuICAgICAgICBsZXQgb3RoZXJEZWNsID0gdGhpcy5zZWFyY2hEZWNsYXJhdGlvbk5hbWUoPEFTVC5BU1ROYW1lPmRlY2wubHZhbHVlLCBkZWNsLmluU2NvcGUpO1xyXG4gICAgICAgIC8vIElmIHRoZSBvdGhlciBkZWNsYXJhdGlvbiBpcyB0aGUgc2FtZSBhcyB0aGUgY3VycmVudCBkZWNsYXJhdGlvbiwgZG9uJ3QgbmVlZCB0byBjb21wYXJlIHRoZW1cclxuICAgICAgICBpZiAob3RoZXJEZWNsICYmICFvdGhlckRlY2wubG9jVG9rZW4uZXF1YWxzKGRlY2wubG9jVG9rZW4pKSB7XHJcbiAgICAgICAgICAgIGlmICghZGVjbC5pc0Fzc2lnbm1lbnQpIHtcclxuICAgICAgICAgICAgICAgIGRlY2wuaXNBc3NpZ25tZW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGRlY2wuaW5TY29wZS50YWJsZS5kZWxldGUoKDxBU1QuQVNUTmFtZT5kZWNsLmx2YWx1ZSkucmVmTmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRlY2wuaW5TY29wZS5pc1Vub3JkZXJlZCgpICYmIGRlY2wuaW5TY29wZS5lcXVhbHMob3RoZXJEZWNsLmluU2NvcGUpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVjbC5pblNjb3BlLnNjb3BlVHlwZSA9PT0gU2NvcGVUeXBlLkdMT0JBTF9TQ09QRSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdE5vZGUoXCJGb3VuZCBkdXBsaWNhdGUgdmFyaWFibGUgZGVjbGFyYXRpb24gaW4gZ2xvYmFsIHNjb3BlXCIsIGRlY2wpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdE5vZGUoXCJPdGhlciBkdXBsaWNhdGUgZGVjbGFyYXRpb24gZm91bmQgaGVyZVwiLCBvdGhlckRlY2wpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hZGROb3RlX1BBTklDKFwiQ2FuJ3QgaGF2ZSBkdXBsaWNhdGUgdmFyaWFibGVzIGluIGdsb2JhbCBzY29wZVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0Tm9kZShcIkZvdW5kIGR1cGxpY2F0ZSB2YXJpYWJsZSBkZWNsYXJhdGlvblwiLCBkZWNsKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdE5vZGUoXCJPdGhlciBkdXBsaWNhdGUgZGVjbGFyYXRpb24gZm91bmQgaGVyZVwiLCBvdGhlckRlY2wpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE5vdGVfUEFOSUMoXCJDYW4ndCBoYXZlIGR1cGxpY2F0ZSB2YXJpYWJsZXMgaW4gbW9kdWxlcyBvciB0eXBlIGRlZmluaXRpb25zXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudHlwZUNoZWNrRGVjbGFyYXRpb24ob3RoZXJEZWNsKTtcclxuICAgICAgICAgICAgaWYgKG90aGVyRGVjbC5hY2Nlc3NBc3NpZ25tZW50LnR5cGUgPT09IFRva2VuVHlwZS5DT05TVF9BU1NJR05NRU5UX1RLTikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lcnJcclxuICAgICAgICAgICAgICAgICAgICAuYXRXaG9sZVRva2VuKFwiUmVhc3NpZ25tZW50IG9mIGNvbnN0YW50IHZhcmlhYmxlIGlzIG5vdCBhbGxvd2VkXCIsIGRlY2wuYWNjZXNzQXNzaWdubWVudClcclxuICAgICAgICAgICAgICAgICAgICAuYXRXaG9sZVRva2VuKFwiQ29uc3QgZGVjbGFyYXRpb24gYWxyZWFkeSBleGlzdHMgaGVyZVwiLCBvdGhlckRlY2wubG9jVG9rZW4pXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE5vdGVfUEFOSUMoXCJBbGwgY29uc3RhbnQgdmFyaWFibGVzIGFyZSB1bm9yZGVyZWQgd2l0aGluIGEgc2NvcGVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG90aGVyRGVjbC5ydmFsdWUgJiYgb3RoZXJEZWNsLmFjY2Vzc0Fzc2lnbm1lbnQudHlwZSA9PT0gVG9rZW5UeXBlLklNTVVUQUJMRV9BU1NJR05NRU5UX1RLTikge1xyXG4gICAgICAgICAgICAgICAgaWYgKG90aGVyRGVjbC5ydmFsdWUubm9kZU5hbWUgPT09IEFTVC5Ob2RlVHlwZS5GVU5DVElPTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdFdob2xlTm9kZShcIkZ1bmN0aW9uIG92ZXJsb2FkaW5nIGlzIG5vdCBhbGxvd2VkXCIsIGRlY2wpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdFdob2xlTm9kZV9QQU5JQyhcIk90aGVyIGZ1bmN0aW9uIGRlY2xhcmF0aW9uIGFscmVhZHkgZXhpc3RzIGhlcmVcIiwgb3RoZXJEZWNsKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0V2hvbGVOb2RlKFwiUmVhc3NpZ25tZW50IG9mIGltbXV0YWJsZSB2YXJpYWJsZSBpcyBub3QgYWxsb3dlZFwiLCBkZWNsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXRXaG9sZU5vZGVfUEFOSUMoXCJJbW11dGFibGUgZGVjbGFyYXRpb24gYWxyZWFkeSBleGlzdHMgaGVyZVwiLCBvdGhlckRlY2wpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIGRlY2wudHlwZSAmJlxyXG4gICAgICAgICAgICAgICAgKGRlY2wudHlwZS5ub2RlTmFtZSAhPT0gQVNULk5vZGVUeXBlLlRZUEVfTElURVJBTCB8fCAoPEFTVC5BU1RUeXBlTGl0ZXJhbD5kZWNsLnR5cGUpLnR5cGUpXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lcnJcclxuICAgICAgICAgICAgICAgICAgICAuYXROb2RlKFwiRHVwbGljYXRlIHZhcmlhYmxlIGRlY2xhcmF0aW9uIGZvdW5kXCIsIGRlY2wpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0Tm9kZShcIk90aGVyIHZhcmlhYmxlIGZvdW5kIGluIG91dGVyIHNjb3BlXCIsIG90aGVyRGVjbClcclxuICAgICAgICAgICAgICAgICAgICAuYWRkTm90ZV9QQU5JQyhcIlZhcmlhYmxlIHNoYWRvd2luZyBpcyBub3QgYWxsb3dlZCBpbiB0aGlzIGxhbmd1YWdlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1R5cGVFcXVhbChvdGhlckRlY2wudHlwZSwgZGVjbC50eXBlLCBkZWNsLmluU2NvcGUpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVyclxyXG4gICAgICAgICAgICAgICAgICAgIC5hdE5vZGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiVHlwZSBtaXNtYXRjaCBiZXR3ZWVuIHZhcmlhYmxlIGFzc2lnbm1lbnQgYW5kIGRlY2xhcmF0aW9uLiBJbmZlcnJlZCB0eXBlIG9mIGFzc2lnbm1lbnQgaXMgXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQVNULmV4cHJUb1N0cihkZWNsLnR5cGUucmVzb2x2ZWQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNsXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdE5vZGUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiRGVjbGFyYXRpb24gZm91bmQgaGVyZSB3aXRoIGluZmVycmVkIHR5cGUgb2YgXCIgKyBBU1QuZXhwclRvU3RyKG90aGVyRGVjbC50eXBlLnJlc29sdmVkKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJEZWNsXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICBvdGhlckRlY2wudHlwZS5yZXNvbHZlZC5ub2RlTmFtZSA9PT0gQVNULk5vZGVUeXBlLkFDQ0VTU19DQVNUICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZGVjbC50eXBlLnJlc29sdmVkLm5vZGVOYW1lID09PSBBU1QuTm9kZVR5cGUuQUNDRVNTX0NBU1RcclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyLmFkZE5vdGVfUEFOSUMoXCJNdXN0IHVzZSBjb25zaXN0ZW50IGFjY2VzcyB0eXBlIHdoZW4gYXNzaWduaW5nIHRvIGEgZGVjbGFyZWQgdmFyaWFibGVcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyLnBhbmljKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZGVjbC5oYXNUeXBlQ2hlY2tlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHR5cGVDaGVja01vZHVsZShtb2R1bGU6IEFTVC5BU1RNb2R1bGUpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vZHVsZS5kZWNsYXJhdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy50eXBlQ2hlY2tEZWNsYXJhdGlvbihtb2R1bGUuZGVjbGFyYXRpb25zW2ldKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHR5cGVDaGVja1R5cGVEZWZpbml0aW9uKHR5cGVEZWZpbml0aW9uOiBBU1QuQVNUVHlwZURlZmluaXRpb24pIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHR5cGVEZWZpbml0aW9uLmRlY2xhcmF0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnR5cGVDaGVja0RlY2xhcmF0aW9uKHR5cGVEZWZpbml0aW9uLmRlY2xhcmF0aW9uc1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSB0eXBlQ2hlY2tGdW5jdGlvbihmdW5jOiBBU1QuQVNURnVuY3Rpb24pIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZ1bmMucGFyYW1EZWNsYXJhdGlvbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnR5cGVDaGVja0RlY2xhcmF0aW9uKGZ1bmMucGFyYW1EZWNsYXJhdGlvbltpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChmdW5jLnJldHVyblR5cGUpIHtcclxuICAgICAgICAgICAgdGhpcy5yZXNvbHZlQ29uc3RFeHByZXNzaW9uKGZ1bmMucmV0dXJuVHlwZSwgZnVuYy5ibG9jay5zY29wZSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzRXF1YWxUb1VuY2FzdGVkVHlwZShmdW5jLnJldHVyblR5cGUucmVzb2x2ZWQsIFRva2VuVHlwZS5WT0lEX1RZUEVfVEtOKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50eXBlQ2hlY2tCbG9jayhmdW5jLmJsb2NrLCB1bmRlZmluZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudHlwZUNoZWNrQmxvY2soZnVuYy5ibG9jaywgZnVuYy5yZXR1cm5UeXBlKTtcclxuICAgICAgICBpZiAoZnVuYy5yZXR1cm5UeXBlICYmICF0aGlzLmlzRXF1YWxUb1VuY2FzdGVkVHlwZShmdW5jLnJldHVyblR5cGUsIFRva2VuVHlwZS5WT0lEX1RZUEVfVEtOKSkge1xyXG4gICAgICAgICAgICBpZiAoIWZ1bmMuYmxvY2suaGFzUmV0dXJuKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVyci5hdFdob2xlTm9kZV9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICBcIkEgZnVuY3Rpb24gd2l0aCBhIHJldHVybiB0eXBlIG11c3QgcmV0dXJuIGEgdmFsdWUgZm9yIGFsbCBjYXNlc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmMucmV0dXJuVHlwZVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgdHlwZUNoZWNrVHlwZUNvbnN0cnVjdFN0YWNrOiBBU1QuQVNURXhwcmVzc2lvbltdID0gW107XHJcbiAgICBwcml2YXRlIHR5cGVDaGVja1R5cGVDb25zdHJ1Y3Rpb24odHlwZUNvbnN0cnVjdDogQVNULkFTVFR5cGVDb25zdHJ1Y3Rpb24sIHNjb3BlOiBTY29wZSkge1xyXG4gICAgICAgIGxldCB0eXBlQ29uc0Fzc2lnbm1lbnRzID0gdHlwZUNvbnN0cnVjdC5hc3NpZ25tZW50cztcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMudHlwZUNoZWNrVHlwZUNvbnN0cnVjdFN0YWNrLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlQ29uc3RydWN0LmxvY1Rva2VuLmVxdWFscyh0aGlzLnR5cGVDaGVja1R5cGVDb25zdHJ1Y3RTdGFja1tpXS5sb2NUb2tlbikpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXJyLmF0Tm9kZShcIlJlY3Vyc2l2ZSB0eXBlIGRlZmluaXRpb24gZm91bmQgd2hlbiB0eXBlIGNoZWNraW5nIHRoZSBmb2xsb3dpbmdcIiwgdHlwZUNvbnN0cnVjdCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCB0aGlzLnR5cGVDaGVja1R5cGVDb25zdHJ1Y3RTdGFjay5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyLmF0Tm9kZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCIuLi53aGljaCBsZWFkcyB0byB0aGUgY3JlYXRpb24gb2YgdGhlIGZvbGxvd2luZ1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGVDaGVja1R5cGVDb25zdHJ1Y3RTdGFja1tqXVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVyci5wYW5pYygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudHlwZUNoZWNrVHlwZUNvbnN0cnVjdFN0YWNrLnB1c2godHlwZUNvbnN0cnVjdCk7XHJcbiAgICAgICAgdGhpcy50eXBlQ2hlY2tUeXBlQ29uc3RydWN0U3RhY2sucHVzaCh0eXBlQ29uc3RydWN0LnR5cGVSZWYpO1xyXG4gICAgICAgIHRoaXMucmVzb2x2ZUNvbnN0RXhwcmVzc2lvbih0eXBlQ29uc3RydWN0LnR5cGVSZWYsIHNjb3BlKTtcclxuICAgICAgICBsZXQgY29uc3RUeXBlTmFtZSA9IHR5cGVDb25zdHJ1Y3QudHlwZVJlZi5yZXNvbHZlZDtcclxuICAgICAgICBpZiAoY29uc3RUeXBlTmFtZS5ub2RlTmFtZSAhPT0gQVNULk5vZGVUeXBlLlRZUEVfREVGKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXJyXHJcbiAgICAgICAgICAgICAgICAuYXRXaG9sZU5vZGUoXCJUeXBlIGNvbnN0dWN0aW9uIGRvZXMgbm90IHJlZmVyIHRvIHRoZSBjcmVhdGlvbiBvZiBhIHR5cGVcIiwgdHlwZUNvbnN0cnVjdC50eXBlUmVmKVxyXG4gICAgICAgICAgICAgICAgLmF0V2hvbGVOb2RlX1BBTklDKFxyXG4gICAgICAgICAgICAgICAgICAgIEFTVC5leHByVG9TdHIodHlwZUNvbnN0cnVjdC50eXBlUmVmKSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGV2YWx1YXRlcyB0byBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFTVC5leHByVG9TdHIoY29uc3RUeXBlTmFtZSkgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiB3aGljaCBpcyBub3QgYSB2YWxpZCB0eXBlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3RUeXBlTmFtZVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHR5cGVEZWYgPSA8QVNULkFTVFR5cGVEZWZpbml0aW9uPmNvbnN0VHlwZU5hbWU7XHJcbiAgICAgICAgdGhpcy50eXBlQ2hlY2tUeXBlQ29uc3RydWN0U3RhY2sgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0eXBlQ29uc0Fzc2lnbm1lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCByZXNvbHZlZEFzc2lnbm1lbnRUeXBlID0gdGhpcy50eXBlT2ZFeHByZXNzaW9uKHR5cGVDb25zQXNzaWdubWVudHNbaV0ucnZhbHVlLCBzY29wZSk7XHJcbiAgICAgICAgICAgIGxldCBhc3NpZ25tZW50VmFyTmFtZSA9ICg8QVNULkFTVE5hbWU+dHlwZUNvbnNBc3NpZ25tZW50c1tpXS5sdmFsdWUpLnJlZk5hbWU7XHJcblxyXG4gICAgICAgICAgICBsZXQgdHlwZVZhckRlY2wgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdHlwZURlZi5kZWNsYXJhdGlvbnMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICgoPEFTVC5BU1ROYW1lPnR5cGVEZWYuZGVjbGFyYXRpb25zW2pdLmx2YWx1ZSkucmVmTmFtZSA9PT0gYXNzaWdubWVudFZhck5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlVmFyRGVjbCA9IHR5cGVEZWYuZGVjbGFyYXRpb25zW2pdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHlwZUNoZWNrRGVjbGFyYXRpb24odHlwZVZhckRlY2wpOyAvL0Vuc3VyZSB0aGF0IHR5cGVWYXJEZWNsIGhhcyBhbiBhY2Nlc3NBc3NpZ25tZW50XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVWYXJEZWNsLmFjY2Vzc0Fzc2lnbm1lbnQudHlwZSA9PT0gVG9rZW5UeXBlLkNPTlNUX0FTU0lHTk1FTlRfVEtOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXRXaG9sZU5vZGUoXCJFcnJvciBpbiB0eXBlIGNvbnN0cnVjdGlvblwiLCB0eXBlQ29uc3RydWN0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0VG9rZW4oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJBdHRlbXB0aW5nIHRvIGFzc2lnbiBhIG5ldyB2YWx1ZSB0byBhbiBhbHJlYWR5IGNvbnN0YW50IHZhcmlhYmxlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZUNvbnNBc3NpZ25tZW50c1tpXS5sb2NUb2tlblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0Tm9kZV9QQU5JQyhcIkNvbnN0YW50IHZhcmlhYmxlIGluIHR5cGUgZGVmaW5pdGlvbiBmb3VuZCBoZXJlXCIsIHR5cGVWYXJEZWNsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVWYXJEZWNsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZVZhckRlY2wuYWNjZXNzQXNzaWdubWVudC50eXBlID09PSBUb2tlblR5cGUuTVVUQUJMRV9BU1NJR05NRU5UX1RLTikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNoZWNrQWNjZXNzQ2FzdChyZXNvbHZlZEFzc2lnbm1lbnRUeXBlLCBUb2tlblR5cGUuSU1NVVRfQ0FTVF9US04pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXRXaG9sZU5vZGUoXCJFcnJvciBpbiB0eXBlIGNvbnN0cnVjdGlvblwiLCB0eXBlQ29uc3RydWN0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0Tm9kZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlZhcmlhYmxlIGFzc2lnbm1lbnQgd2l0aCBpbmZlcnJlZCB0eXBlIG9mIFwiICsgQVNULmV4cHJUb1N0cihyZXNvbHZlZEFzc2lnbm1lbnRUeXBlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlQ29uc0Fzc2lnbm1lbnRzW2ldLnJ2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0Tm9kZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkltbXV0YWJsZSByZWZlcmVuY2UgdG8gYSB0eXBlIGluc3RhbmNlIGNhbid0IGJlIGFzc2lnbmVkIHRvIG11dGFibGUgdmFyaWFibGUgZm91bmQgaGVyZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVWYXJEZWNsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkTm90ZV9QQU5JQyhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkNhc3RpbmcgdGhlIHJlZmVyZW5jZSB0byBhIG11dGFibGUgdHlwZSB3b3VsZCBlbmFibGUgbW9kaWZpY2F0aW9uIG9mIHRoZSBvcmlnaW5hbCBpbW11dGFibGUgdmFyaWFibGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVWYXJEZWNsLmFjY2Vzc0Fzc2lnbm1lbnQudHlwZSA9PT0gVG9rZW5UeXBlLklNTVVUQUJMRV9BU1NJR05NRU5UX1RLTikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVkQXNzaWdubWVudFR5cGUgPSB0aGlzLmNhc3RBY2Nlc3MocmVzb2x2ZWRBc3NpZ25tZW50VHlwZSwgVG9rZW5UeXBlLklNTVVUX0NBU1RfVEtOKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNUeXBlRXF1YWwocmVzb2x2ZWRBc3NpZ25tZW50VHlwZSwgdHlwZVZhckRlY2wudHlwZSwgc2NvcGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0V2hvbGVOb2RlKFwiRXJyb3IgaW4gdHlwZSBjb25zdHJ1Y3Rpb25cIiwgdHlwZUNvbnN0cnVjdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0VG9rZW4oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlZhcmlhYmxlIGFzc2lnbm1lbnQgd2l0aCBpbmZlcnJlZCB0eXBlIG9mIFwiICsgQVNULmV4cHJUb1N0cihyZXNvbHZlZEFzc2lnbm1lbnRUeXBlKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVDb25zQXNzaWdubWVudHNbaV0ubG9jVG9rZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXROb2RlX1BBTklDKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIuLi5pcyBpbmNvbXBhdGlibGUgd2l0aCBleHBlY3RlZCB0eXBlIG9mIFwiICsgQVNULmV4cHJUb1N0cih0eXBlVmFyRGVjbC50eXBlLnJlc29sdmVkKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVWYXJEZWNsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmVyclxyXG4gICAgICAgICAgICAgICAgICAgIC5hdE5vZGUoXCJFcnJvciBpbiB0eXBlIGNvbnN0cnVjdGlvblwiLCB0eXBlQ29uc3RydWN0KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdE5vZGUoXCJQcm9wZXJ0eSBuYW1lICdcIiArIGFzc2lnbm1lbnRWYXJOYW1lICsgXCInIGRvZXMgbm90IGV4aXN0IGluIHR5cGVcIiwgdHlwZUNvbnN0cnVjdC50eXBlUmVmKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdFRva2VuX1BBTklDKFwiSW52YWxpZCBhc3NpZ25tZW50IGZvdW5kIGhlcmVcIiwgdHlwZUNvbnNBc3NpZ25tZW50c1tpXS5sb2NUb2tlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/scuft/lang/TypeChecker.ts\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	// startup
/******/ 	// Load entry module
/******/ 	__webpack_require__("./src/main.ts");
/******/ 	// This entry module used 'exports' so it can't be inlined
/******/ })()
;